!function(){"use strict";function n(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function o(n,o){for(var t=0;t<o.length;t++){var i=o[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[4432],{24432:function(t,i,e){e.r(i),e.d(i,{ShopStorePageModule:function(){return A}});var r=e(38583),c=e(90665),s=e(47063),g=e(13619),a=e(27887),l=e(15085),p=e(37716),d=e(81780),u=e(84465);function h(n,o){1&n&&(p.TgZ(0,"div",10),p._UZ(1,"ion-spinner",11),p.qZA())}function P(n,o){if(1&n&&(p.TgZ(0,"ion-list-header",12),p.TgZ(1,"ion-label"),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"ion-button",13),p._uU(5),p.ALo(6,"translate"),p.qZA(),p.qZA()),2&n){var t=p.oxw();p.xp6(2),p.Oqu(p.lcZ(3,3,"SHOP.PRODUCTS")),p.xp6(3),p.AsE("",t.numRows," ",p.lcZ(6,5,"SHOP.SEARCH_PAGE.PRODUCTS"),"")}}function f(n,o){if(1&n&&(p.TgZ(0,"div",25),p.TgZ(1,"span"),p._uU(2),p.ALo(3,"number"),p.qZA(),p.qZA()),2&n){var t=p.oxw().$implicit;p.xp6(2),p.hij("-",p.xi3(3,1,100*t.ratio,"0.0-0"),"%")}}function m(n,o){if(1&n&&p._UZ(0,"img",26),2&n){var t=p.oxw().$implicit,i=p.oxw(2);p.Q6J("src",i.shopService.SITE_PATH+"/upload/eventeshop/"+t.banner,p.LSH)}}function x(n,o){if(1&n&&(p.TgZ(0,"div",27),p.TgZ(1,"small",28),p._uU(2),p.ALo(3,"number"),p.qZA(),p.qZA()),2&n){var t=p.oxw().$implicit;p.xp6(2),p.hij("",p.xi3(3,1,t.maxFullPrice,"1.0-0"),"\u20ab")}}function _(n,o){if(1&n&&(p.TgZ(0,"div",29),p._uU(1),p.ALo(2,"number"),p.qZA()),2&n){var t=p.oxw().$implicit;p.xp6(1),p.hij(" ",p.xi3(2,1,t.maxPrice,"1.0"),"\u20ab ")}}function O(n,o){if(1&n&&(p.TgZ(0,"div",29),p._uU(1),p.ALo(2,"number"),p.ALo(3,"number"),p.qZA()),2&n){var t=p.oxw().$implicit;p.xp6(1),p.AsE(" ",p.xi3(2,2,t.minPrice,"1.0"),"-",p.xi3(3,5,t.maxPrice,"1.0"),"\u20ab ")}}function C(n,o){if(1&n&&(p.TgZ(0,"ion-col",17),p.YNc(1,f,4,4,"div",18),p.TgZ(2,"div",19),p._UZ(3,"img",20),p.YNc(4,m,1,1,"img",21),p.qZA(),p.TgZ(5,"div",22),p._uU(6),p.qZA(),p.YNc(7,x,4,4,"div",23),p.YNc(8,_,3,4,"div",24),p.YNc(9,O,4,8,"div",24),p.qZA()),2&n){var t=o.$implicit,i=p.oxw(2);p.MGl("routerLink","../../product/",t.id,""),p.xp6(1),p.Q6J("ngIf",0!=t.ratio),p.xp6(2),p.Q6J("src",i.shopService.SITE_PATH+t.img_default,p.LSH),p.xp6(1),p.Q6J("ngIf",t.banner),p.xp6(2),p.Oqu(t.alias),p.xp6(1),p.Q6J("ngIf",0!=t.ratio),p.xp6(1),p.Q6J("ngIf",t.minPrice==t.maxPrice),p.xp6(1),p.Q6J("ngIf",t.minPrice!=t.maxPrice)}}function b(n,o){1&n&&(p.TgZ(0,"ion-item"),p._uU(1),p.ALo(2,"translate"),p.qZA()),2&n&&(p.xp6(1),p.Oqu(p.lcZ(2,1,"SHOP.STORE.EMPTY")))}function M(n,o){if(1&n&&(p.TgZ(0,"ion-grid",14),p.TgZ(1,"ion-row"),p.YNc(2,C,10,8,"ion-col",15),p.qZA(),p.YNc(3,b,3,3,"ion-item",16),p.qZA()),2&n){var t=p.oxw();p.xp6(2),p.Q6J("ngForOf",t.shopProducts),p.xp6(1),p.Q6J("ngIf",0==t.numRows)}}var Z,v=[{path:"",component:(Z=function(){function t(o,i,e,r){n(this,t),this.route=o,this.shopService=i,this.translate=e,this.toastService=r,this.loadingShop=new a.E,this.loadingProducts=new a.E}var i,e,r;return i=t,(e=[{key:"ngOnInit",value:function(){this.id=this.route.snapshot.paramMap.get("id"),this.getShopDetail(),this.getShopProducts()}},{key:"getShopDetail",value:function(){var n=this;this.loadingShop.setPending(!0),this.shopService.getAShop(this.id).subscribe(function(o){"success"==o.status?(n.loadingShop.setResult(!0),n.shopInfo=o.data,n.shopInfo.address+=", "+n.shopInfo.units[0].name+", "+n.shopInfo.units[1].name+", "+n.shopInfo.units[2].name):(n.loadingShop.setResult(!0),n.toastService.warning(o.error.message))},function(o){n.loadingShop.setResult(!1),n.toastService.danger(n.translate.instant("ERROR_CONNECT"))})}},{key:"getShopProducts",value:function(){var n=this;this.loadingProducts.setPending(!0),this.shopService.getShopProducts(this.id).subscribe(function(o){"success"==o.status?(n.loadingProducts.setResult(!0),n.shopProducts=n.prepareProductPrice(o.data.list),n.numRows=o.data.numRows):(n.loadingProducts.setResult(!0),n.toastService.warning(o.error.message))},function(o){n.loadingProducts.setResult(!1),n.toastService.danger(n.translate.instant("ERROR_CONNECT"))})}},{key:"prepareProductPrice",value:function(n){var o=[];return n.forEach(function(n){var t=n.label_price.split("~");n.minPrice=t[0],n.maxPrice=t[1],n.maxFullPrice=n.maxPrice/(1-n.ratio),o.push(n)}),o}}])&&o(i.prototype,e),r&&o(i,r),t}(),Z.\u0275fac=function(n){return new(n||Z)(p.Y36(g.gz),p.Y36(l.d),p.Y36(d.sK),p.Y36(u.k))},Z.\u0275cmp=p.Xpm({type:Z,selectors:[["app-shop-store"]],decls:29,vars:13,consts:[["slot","start"],["text","","defaultHref","tabs/shop"],["class","spiner-loading",4,"ngIf"],[1,"cover-photo"],[1,"custom-row"],["onError","this.src='assets/img/default-profile.jpg'","width","100px",1,"profile-img",3,"src"],["size","12","size-sm","6"],["color","warning","name","star"],["mode","ios",4,"ngIf"],["class","grid-product",4,"ngIf"],[1,"spiner-loading"],["name","dots"],["mode","ios"],["fill","outline"],[1,"grid-product"],["size","6","size-sm","4",3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],["size","6","size-sm","4",3,"routerLink"],["class","discount-label",4,"ngIf"],[1,"img-box"],["onError","this.src='assets/img/1235.jpg'",1,"m-auto",3,"src"],["class","bannerProduct",3,"src",4,"ngIf"],[1,"product-alias"],["class","promotion-box",4,"ngIf"],["class","price-box",4,"ngIf"],[1,"discount-label"],[1,"bannerProduct",3,"src"],[1,"promotion-box"],[1,"strike"],[1,"price-box"]],template:function(n,o){1&n&&(p.TgZ(0,"ion-header"),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-buttons",0),p._UZ(3,"ion-back-button",1),p.qZA(),p.TgZ(4,"ion-title"),p._uU(5),p.ALo(6,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(7,"ion-content"),p.YNc(8,h,2,0,"div",2),p._UZ(9,"div",3),p.TgZ(10,"ion-grid"),p.TgZ(11,"ion-row",4),p._UZ(12,"img",5),p.qZA(),p.TgZ(13,"ion-row"),p.TgZ(14,"ion-col",6),p.TgZ(15,"ion-card"),p.TgZ(16,"ion-card-header"),p.TgZ(17,"ion-card-title"),p._uU(18),p.qZA(),p.TgZ(19,"ion-card-subtitle"),p._uU(20),p._UZ(21,"ion-icon",7),p.qZA(),p.qZA(),p.TgZ(22,"ion-card-content"),p.TgZ(23,"small"),p._uU(24),p.qZA(),p.TgZ(25,"div"),p._uU(26),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.YNc(27,P,7,7,"ion-list-header",8),p.YNc(28,M,4,2,"ion-grid",9),p.qZA()),2&n&&(p.xp6(5),p.Oqu(p.lcZ(6,11,"SHOP.STORE.TITLE")),p.xp6(3),p.Q6J("ngIf",o.loadingProducts.pending),p.xp6(1),p.Udp("background-image","url("+(o.shopService.SITE_PATH+(null==o.shopInfo?null:o.shopInfo.image)).replace("thumb_image","ge_image")+")"),p.xp6(3),p.Q6J("src",o.shopService.SITE_PATH+(null==o.shopInfo?null:o.shopInfo.logo),p.LSH),p.xp6(6),p.Oqu(null==o.shopInfo?null:o.shopInfo.name),p.xp6(2),p.hij("",null==o.shopInfo?null:o.shopInfo.rate_score," "),p.xp6(4),p.hij(" ",null==o.shopInfo?null:o.shopInfo.address," "),p.xp6(2),p.hij(" ",null==o.shopInfo?null:o.shopInfo.description," "),p.xp6(1),p.Q6J("ngIf",o.shopProducts),p.xp6(1),p.Q6J("ngIf",o.shopProducts))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.wd,s.W2,r.O5,s.jY,s.Nd,s.wI,s.PM,s.Zi,s.gZ,s.tO,s.gu,s.FN,s.PQ,s.yh,s.Q$,s.YG,r.sg,s.YI,g.rH,s.Ie],pipes:[d.X$,r.JJ],styles:["[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 3em}[_nghost-%COMP%]   .cover-photo[_ngcontent-%COMP%]{background:center/cover no-repeat,#fff;height:20vh}[_nghost-%COMP%]   .custom-row[_ngcontent-%COMP%]{height:50px}[_nghost-%COMP%]   .profile-img[_ngcontent-%COMP%]{transform:translateY(-50%);border-radius:50%;margin:auto;max-width:250px;border:2px solid rgba(192,192,192,.5)}",'[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 3em}[_nghost-%COMP%]   ion-list-header[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-family:"Averta";font-size:.8em}[_nghost-%COMP%]   .boxTimeFlashsale[_ngcontent-%COMP%]{padding-left:12px;padding-right:12px;margin-top:29px;margin-bottom:6px;font-family:"Averta";font-size:.8em;display:flex;margin-right:16px}[_nghost-%COMP%]   .boxTimeFlashsale[_ngcontent-%COMP%]   .boxTime[_ngcontent-%COMP%]{color:#fff;background-color:#000;padding-left:2px;padding-right:2px;margin-right:2px;margin-left:2px;border-radius:2px;max-width:27px;width:27px;text-align:center}[_nghost-%COMP%]   .boxSpecial[_ngcontent-%COMP%]{min-height:150px}[_nghost-%COMP%]   .boxSpecial[_ngcontent-%COMP%]   .bannerSpecial[_ngcontent-%COMP%]{max-height:50px}[_nghost-%COMP%]   .boxSpecial[_ngcontent-%COMP%]   .imgProductSpecial[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .arrowButton[_ngcontent-%COMP%]{vertical-align:middle;margin-right:16px}[_nghost-%COMP%]   .bag-cart[_ngcontent-%COMP%]{color:#de2525;font-weight:bold;position:absolute;top:1em;font-size:.8em}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:240px;width:100%}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{border-top:1px solid rgba(192,192,192,.2);border-left:1px solid rgba(192,192,192,.2)}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{border-right:1px solid rgba(192,192,192,.2);border-bottom:1px solid rgba(192,192,192,.2)}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]{flex:auto;text-align:center;margin:0 auto;overflow:hidden;position:relative}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:80x!important;margin-bottom:5px}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .img-box[_ngcontent-%COMP%]   .bannerProduct[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;max-height:60px;max-width:80%;width:auto}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .product-alias[_ngcontent-%COMP%]{line-height:1.2em;font-size:.9em;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;height:2.4em;-webkit-box-orient:vertical}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .promotion-box[_ngcontent-%COMP%]{margin:3px 0}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .promotion-box[_ngcontent-%COMP%]   .mr[_ngcontent-%COMP%]{margin-left:3px}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .promotion-box[_ngcontent-%COMP%]   .strike[_ngcontent-%COMP%]{text-decoration:line-through}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .price-box[_ngcontent-%COMP%]{margin:3px 0;font-size:.9em;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;height:1.3em;-webkit-box-orient:vertical;color:var(--ion-color-danger)}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .discount-label[_ngcontent-%COMP%]{padding:5px;position:absolute;right:5px;top:10px;float:left;width:43px;background-color:#de2525;z-index:9999;transform:rotate(20deg);border-radius:4px}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .discount-label[_ngcontent-%COMP%]:after{right:42px;border:solid transparent;content:" ";height:0;width:0;position:absolute;border-color:#88b7d500;border-right-color:#de2525;border-width:13.5px;top:50%;margin-top:-13.6px}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .discount-label[_ngcontent-%COMP%]:before{content:"";z-index:2;position:absolute;top:44%;right:100%;width:5px;height:5px;opacity:.95;background:#fff;border-radius:5px}[_nghost-%COMP%]   .grid-product[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .discount-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:12px;text-align:center;font-family:"Averta"}']}),Z)}],w=function(){var o=function o(){n(this,o)};return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=p.oAB({type:o}),o.\u0275inj=p.cJS({imports:[[g.Bz.forChild(v)],g.Bz]}),o}(),A=function(){var o=function o(){n(this,o)};return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=p.oAB({type:o}),o.\u0275inj=p.cJS({imports:[[r.ez,c.u5,s.Pc,w,d.aw.forChild()]]}),o}()}}])}();