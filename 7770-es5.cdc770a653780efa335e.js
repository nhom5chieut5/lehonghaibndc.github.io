!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[7770],{27887:function(t,n,o){o.d(n,{E:function(){return r}});var r=function(){function t(){e(this,t),this.start=null,this.end=null,this.pending=null,this.result=null,this.count=0}return i(t,[{key:"setStart",value:function(e){this.start=e,!0===e&&(this.pending=!0,this.end=!1),this.result=null,this.count++}},{key:"setPending",value:function(e){this.pending=e,!1===e?this.start=!1:this.end=!0}},{key:"setResult",value:function(e){this.result=e,this.pending=!1,this.start=!1,this.end=!0}}]),t}()},87770:function(t,i,n){n.r(i),n.d(i,{MoneyCustomerDetailPageModule:function(){return f}});var o,r=n(38583),c=n(90665),u=n(47063),s=n(13619),a=n(96895),l=n(37716),p=[{path:"",component:a.y}],g=((o=function t(){e(this,t)}).\u0275fac=function(e){return new(e||o)},o.\u0275mod=l.oAB({type:o}),o.\u0275inj=l.cJS({imports:[[s.Bz.forChild(p)],s.Bz]}),o),f=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[r.ez,c.u5,u.Pc,g]]}),t}()},96895:function(t,n,o){o.d(n,{y:function(){return N}});var r=o(27887),c=o(19228),u=o(37716),s=o(84465),a=o(81780),l=o(47063),p=o(90665),g=o(38583);function f(e,t){1&e&&u._UZ(0,"ion-progress-bar",9)}function d(e,t){if(1&e&&(u.TgZ(0,"ion-text",17),u._uU(1),u.ALo(2,"translate"),u.ALo(3,"number"),u.qZA()),2&e){var i=u.oxw(2).$implicit;u.xp6(1),u.AsE(" ",u.lcZ(2,2,"MONEY_MOD.NEED_PAY")," ",u.lcZ(3,4,i.amounts-i.amounts_payed),"\u0111 ")}}function h(e,t){if(1&e&&(u.TgZ(0,"ion-text",18),u._uU(1),u.ALo(2,"translate"),u.ALo(3,"number"),u.qZA()),2&e){var i=u.oxw(2).$implicit;u.xp6(1),u.AsE(" ",u.lcZ(2,2,"MONEY_MOD.NEED_COLLECT")," ",u.lcZ(3,4,i.amounts-i.amounts_payed),"\u0111 ")}}function A(e,t){if(1&e&&(u.TgZ(0,"ion-item"),u.TgZ(1,"ion-label"),u.TgZ(2,"p"),u.TgZ(3,"b"),u._uU(4),u.qZA(),u._UZ(5,"ion-icon",11),u.qZA(),u.TgZ(6,"p"),u._uU(7),u.ALo(8,"date"),u.qZA(),u.TgZ(9,"h3"),u._uU(10),u.qZA(),u.qZA(),u.TgZ(11,"ion-label",12),u.TgZ(12,"p",13),u.TgZ(13,"ion-text",14),u._uU(14),u.ALo(15,"number"),u.qZA(),u.qZA(),u.TgZ(16,"p",13),u.YNc(17,d,4,6,"ion-text",15),u.YNc(18,h,4,6,"ion-text",16),u.qZA(),u.qZA(),u.qZA()),2&e){var i=u.oxw().$implicit;u.xp6(4),u.AsE("#",i.id," ",i.group_name?i.group_name:"None",""),u.xp6(1),u.Q6J("name",1==+i.confirm?"checkbox":"help-circle")("color",1==+i.confirm?"success":"danger"),u.xp6(2),u.hij(" ",u.xi3(8,10,1e3*i.add_time,"d-MM-Y")," "),u.xp6(3),u.hij(" ",i.title," "),u.xp6(3),u.Q6J("color","in"==i.cr?"success":"danger"),u.xp6(1),u.hij(" ",u.lcZ(15,13,i.amounts),"\u0111 "),u.xp6(3),u.Q6J("ngIf","out"==i.cr&&+i.amounts_payed<+i.amounts),u.xp6(1),u.Q6J("ngIf","in"==i.cr&&+i.amounts_payed<+i.amounts)}}function m(e,t){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,A,19,15,"ion-item",8),u.qZA()),2&e){var i=t.$implicit;u.xp6(1),u.Q6J("ngIf",4!=+i.group_id)}}function Z(e,t){if(1&e&&(u.TgZ(0,"ion-list"),u.YNc(1,m,2,1,"div",10),u.qZA()),2&e){var i=u.oxw();u.xp6(1),u.Q6J("ngForOf",i.list)}}function y(e,t){if(1&e&&(u.TgZ(0,"ion-item"),u._UZ(1,"ion-icon",11),u.TgZ(2,"ion-label"),u.TgZ(3,"p"),u.TgZ(4,"b"),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"p"),u._uU(7),u.ALo(8,"date"),u.qZA(),u.TgZ(9,"h3"),u._uU(10),u.qZA(),u.qZA(),u.TgZ(11,"ion-text",19),u._uU(12),u.ALo(13,"number"),u.qZA(),u.qZA()),2&e){var i=u.oxw().$implicit;u.xp6(1),u.Q6J("name",1==+i.confirm?"checkbox":"help-circle")("color",1==+i.confirm?"success":"danger"),u.xp6(4),u.AsE("#",i.bill_id," ",i.group_name?i.group_name:"None",""),u.xp6(2),u.hij(" ",u.xi3(8,7,1e3*i.add_time,"d-MM-Y")," "),u.xp6(3),u.hij(" ",i.title," "),u.xp6(2),u.hij(" ",u.lcZ(13,10,i.amounts_payed),"\u0111 ")}}function v(e,t){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,y,14,12,"ion-item",8),u.qZA()),2&e){var i=t.$implicit;u.xp6(1),u.Q6J("ngIf",4==+i.group_id&&"out"==i.cr)}}function q(e,t){if(1&e&&(u.TgZ(0,"ion-list"),u.YNc(1,v,2,1,"div",10),u.qZA()),2&e){var i=u.oxw();u.xp6(1),u.Q6J("ngForOf",i.list)}}function x(e,t){if(1&e&&(u.TgZ(0,"ion-item"),u._UZ(1,"ion-icon",11),u.TgZ(2,"ion-label"),u.TgZ(3,"p"),u.TgZ(4,"b"),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"p"),u._uU(7),u.ALo(8,"date"),u.qZA(),u.TgZ(9,"h3"),u._uU(10),u.qZA(),u.qZA(),u.TgZ(11,"ion-text",19),u._uU(12),u.ALo(13,"number"),u.qZA(),u.qZA()),2&e){var i=u.oxw().$implicit;u.xp6(1),u.Q6J("name",1==+i.confirm?"checkbox":"help-circle")("color",1==+i.confirm?"success":"danger"),u.xp6(4),u.AsE("#",i.bill_id," ",i.group_name?i.group_name:"None",""),u.xp6(2),u.hij(" ",u.xi3(8,7,1e3*i.add_time,"d-MM-Y")," "),u.xp6(3),u.hij(" ",i.title," "),u.xp6(2),u.hij(" ",u.lcZ(13,10,i.amounts_payed),"\u0111 ")}}function w(e,t){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,x,14,12,"ion-item",8),u.qZA()),2&e){var i=t.$implicit;u.xp6(1),u.Q6J("ngIf",4==+i.group_id&&"in"==i.cr)}}function _(e,t){if(1&e&&(u.TgZ(0,"ion-list"),u.YNc(1,w,2,1,"div",10),u.qZA()),2&e){var i=u.oxw();u.xp6(1),u.Q6J("ngForOf",i.list)}}var T,N=((T=function(){function t(i,n,o,c){e(this,t),this.moneyService=i,this.toastService=n,this.translate=o,this.modalController=c,this.list=[],this.loadingFlag=new r.E,this.typeShow="money"}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.loadingFlag.setPending(!0),this.moneyService.getACustomer(this.item.customer_slug).subscribe(function(t){0==t.status?e.toastService.warning(t.error):e.list=t.data,e.loadingFlag.setResult(!0)},function(){e.loadingFlag.setResult(!1),e.toastService.danger(e.translate.instant("ERROR_CONNECT"))})}},{key:"segmentChanged",value:function(e){}}]),t}()).\u0275fac=function(e){return new(e||T)(u.Y36(c.r),u.Y36(s.k),u.Y36(a.sK),u.Y36(l.IN))},T.\u0275cmp=u.Xpm({type:T,selectors:[["app-money-customer-detail"]],inputs:{item:"item"},decls:26,vars:17,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["mode","ios",3,"ngModel","ngModelChange","ionChange"],["value","money"],["value","debt"],["value","pay"],["type","indeterminate",4,"ngIf"],[4,"ngIf"],["type","indeterminate"],[4,"ngFor","ngForOf"],["slot","start",3,"name","color"],["slot","end"],[1,"ion-text-end"],[3,"color"],["color","danger",4,"ngIf"],["color","success",4,"ngIf"],["color","danger"],["color","success"],["slot","end","color","warning"]],template:function(e,t){1&e&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u.TgZ(3,"ion-button",1),u.NdJ("click",function(){return t.modalController.dismiss(!1)}),u._UZ(4,"ion-icon",2),u.qZA(),u.qZA(),u.TgZ(5,"ion-title"),u._uU(6),u.ALo(7,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"ion-content"),u.TgZ(9,"ion-segment",3),u.NdJ("ngModelChange",function(e){return t.typeShow=e})("ionChange",function(e){return t.segmentChanged(e)}),u.TgZ(10,"ion-segment-button",4),u.TgZ(11,"ion-label"),u._uU(12),u.ALo(13,"translate"),u.qZA(),u.qZA(),u.TgZ(14,"ion-segment-button",5),u.TgZ(15,"ion-label"),u._uU(16),u.ALo(17,"translate"),u.qZA(),u.qZA(),u.TgZ(18,"ion-segment-button",6),u.TgZ(19,"ion-label"),u._uU(20),u.ALo(21,"translate"),u.qZA(),u.qZA(),u.qZA(),u.YNc(22,f,1,0,"ion-progress-bar",7),u.YNc(23,Z,2,1,"ion-list",8),u.YNc(24,q,2,1,"ion-list",8),u.YNc(25,_,2,1,"ion-list",8),u.qZA()),2&e&&(u.xp6(6),u.Oqu(u.lcZ(7,9,"SHOP.DETAIL")),u.xp6(3),u.Q6J("ngModel",t.typeShow),u.xp6(3),u.Oqu(u.lcZ(13,11,"MONEY")),u.xp6(4),u.Oqu(u.lcZ(17,13,"MONEY_MOD.DEBT")),u.xp6(4),u.Oqu(u.lcZ(21,15,"MONEY_MOD.PAYED")),u.xp6(2),u.Q6J("ngIf",t.loadingFlag.pending),u.xp6(1),u.Q6J("ngIf","money"==t.typeShow),u.xp6(1),u.Q6J("ngIf","debt"==t.typeShow),u.xp6(1),u.Q6J("ngIf","pay"==t.typeShow))},directives:[l.Gu,l.sr,l.Sm,l.YG,l.gu,l.wd,l.W2,l.cJ,l.QI,p.JJ,p.On,l.GO,l.Q$,g.O5,l.X7,l.q_,g.sg,l.Ie,l.yW],pipes:[a.X$,g.uU,g.JJ],styles:[""]}),T)},19228:function(t,n,o){o.d(n,{r:function(){return a}});var r,c=o(15189),u=o(88002),s=o(37716),a=((r=function(){function t(i){e(this,t),this.reqAPIService=i,this.urlApi="/manager/money-api-mobie",this.urlApiNew="/manager/finance-api"}return i(t,[{key:"setCode",value:function(e){this.fcode=e,console.log(this.fcode)}},{key:"loadMoney",value:function(e){return this.reqAPIService.get(this.urlApiNew+"?fcode="+this.fcode+"&action=list&page="+e).pipe((0,u.U)(function(e){return e}))}},{key:"search",value:function(e){return this.reqAPIService.get(this.urlApiNew+"?fcode="+this.fcode+"&action=search&keyword="+e.keyword+"&type="+e.type+"&timeFrom="+e.timeFrom+"&timeTo="+e.timeTo+"&page=0&numRow=20").pipe((0,u.U)(function(e){return e}))}},{key:"quickSearch",value:function(e){return this.reqAPIService.get(this.urlApiNew+"?fcode="+this.fcode+"&action=quick-search&type="+e.type+"&keyword="+e.keyword).pipe((0,u.U)(function(e){return e}))}},{key:"add",value:function(e){return this.reqAPIService.postApiWithFile("add",e,"&fcode="+this.fcode,this.urlApiNew)}},{key:"edit",value:function(e){return this.reqAPIService.postApiWithFile("edit",e,"&fcode="+this.fcode+"&item="+e.get("id")+"&cr="+e.get("type"),this.urlApiNew)}},{key:"editGroup",value:function(e){return this.reqAPIService.postApiWithFile("editTypeAll",e,"&fcode="+this.fcode+"&item="+e.get("id")+"&cr="+e.get("type"),this.urlApiNew)}},{key:"delete",value:function(e){return this.reqAPIService.get(this.urlApiNew+"?fcode="+this.fcode+"&action=detele&item="+e.item+"&cr="+e.cr)}},{key:"getAnalyst",value:function(e){return this.reqAPIService.post(this.urlApiNew+"?fcode="+this.fcode+"&action=analyst",e)}},{key:"getGroup",value:function(e,t){return this.reqAPIService.get(this.urlApiNew+"?fcode="+this.fcode+"&action=getItemByCode&code="+e+"&cr="+t)}},{key:"getCategories",value:function(){return this.reqAPIService.get(this.urlApiNew+"?fcode="+this.fcode+"&action=listCategory")}},{key:"confirmMoney",value:function(e,t,i,n){return this.reqAPIService.get(this.urlApiNew+"?action=confirm&ccode="+i+"&cr="+t+"&id="+e+"&confirm="+n)}},{key:"updateFund",value:function(e,t){return this.reqAPIService.get(this.urlApiNew+"?action=updateFund&fcode="+e+"&value="+t)}},{key:"addCategory",value:function(e){return this.reqAPIService.post(this.urlApiNew+"?action=addCategory&fcode="+this.fcode,e)}},{key:"searchCustomer",value:function(e,t){return this.reqAPIService.post(this.urlApiNew+"?action=searchCustomer&fcode="+this.fcode,{name:e,type:t})}},{key:"getBill",value:function(e,t){return this.reqAPIService.get(this.urlApiNew+"?action=get&fcode="+this.fcode+"&type="+t+"&id="+e)}},{key:"getCustomers",value:function(){return this.reqAPIService.get(this.urlApiNew+"?action=getCustomers&fcode="+this.fcode)}},{key:"getACustomer",value:function(e){return this.reqAPIService.get(this.urlApiNew+"?action=getACustomer&fcode="+this.fcode+"&customer_slug="+e)}},{key:"getDebtCustomer",value:function(e,t){return this.reqAPIService.get(this.urlApiNew+"?action=getDebtCustomer&type="+t+"&fcode="+this.fcode+"&customer_slug="+e)}},{key:"addMultiDebtRecord",value:function(e){return this.reqAPIService.post(this.urlApiNew+"?action=addMultiDebt&fcode="+this.fcode,e)}},{key:"getBillByAlias",value:function(e,t){return this.reqAPIService.get(this.urlApiNew+"?action=getByAlias&fcode="+this.fcode+"&alias="+e+"&type="+t)}},{key:"getListMoneyByGroup",value:function(){return this.reqAPIService.get(this.urlApiNew+"?action=getListMoneyByGroup&fcode="+this.fcode)}},{key:"getDetailByGroup",value:function(e,t){return this.reqAPIService.get(this.urlApiNew+"?action=getDetailByGroup&fcode="+this.fcode+"&group="+e+"&type="+t)}},{key:"getDebtByGroup",value:function(e,t){return this.reqAPIService.get(this.urlApiNew+"?action=getDebtByGroup&type="+t+"&fcode="+this.fcode+"&group="+e)}}]),t}()).\u0275fac=function(e){return new(e||r)(s.LFG(c.$))},r.\u0275prov=s.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)}}])}();