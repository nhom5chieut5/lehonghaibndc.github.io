"use strict";(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[2426],{76329:function(t,e,n){var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(13409),s=n(25639),a=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(r.Subject);e.BehaviorSubject=a},13409:function(t,e,n){var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(93576),s=n(67241),a=n(43984),c=n(25639),l=n(45298),p=n(81476),u=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i(e,t),e}(s.Subscriber);e.SubjectSubscriber=u;var d=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[p.rxSubscriber]=function(){return new u(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,o=e.slice(),i=0;i<n;i++)o[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,o=e.slice(),i=0;i<n;i++)o[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),o=0;o<e;o++)n[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(t.complete(),a.Subscription.EMPTY):(this.observers.push(t),new l.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new r.Observable;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(r.Observable);e.Subject=d;var h=function(t){function e(e,n){var o=t.call(this)||this;return o.destination=e,o.source=n,o}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.Subscription.EMPTY},e}(d);e.AnonymousSubject=h},45298:function(t,e,n){var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,n){var o=t.call(this)||this;return o.subject=e,o.subscriber=n,o.closed=!1,o}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n(43984).Subscription);e.SubjectSubscription=r},25639:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}();e.ObjectUnsubscribedError=n},43227:function(t,e,n){n.d(e,{H:function(){return l}});var o=n(37716),i=n(47063),r=n(81780),s=n(38583);function a(t,e){1&t&&(o.TgZ(0,"ion-item"),o.TgZ(1,"ion-text"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.qZA()),2&t&&(o.xp6(2),o.hij(" ",o.lcZ(3,1,"FARM_MOD.PROBLEM")," "))}function c(t,e){if(1&t&&(o.TgZ(0,"ion-item"),o.TgZ(1,"ion-text",3),o._UZ(2,"p",4),o.qZA(),o.qZA()),2&t){const t=o.oxw();o.xp6(2),o.Q6J("innerHTML",t.pond.note?t.pond.note:"",o.oJD)}}let l=(()=>{class t{constructor(t,e){this.popoverControler=t,this.translate=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(i.Dh),o.Y36(r.sK))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-detail-pond"]],inputs:{pond:"pond"},decls:40,vars:25,consts:[["slot","end","color","primary"],[4,"ngIf"],["lines","none","detail","false","button","",3,"click"],["color","danger"],[3,"innerHTML"]],template:function(t,e){1&t&&(o.TgZ(0,"ion-list"),o.TgZ(1,"ion-list-header"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"ion-item"),o.TgZ(5,"ion-text"),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"ion-text",0),o._uU(9),o.qZA(),o.qZA(),o.TgZ(10,"ion-item"),o.TgZ(11,"ion-text"),o._uU(12),o.ALo(13,"translate"),o.qZA(),o.TgZ(14,"ion-text",0),o._uU(15),o.qZA(),o.qZA(),o.TgZ(16,"ion-item"),o.TgZ(17,"ion-text"),o._uU(18),o.ALo(19,"translate"),o.qZA(),o.TgZ(20,"ion-text",0),o._uU(21),o.qZA(),o.qZA(),o.TgZ(22,"ion-item"),o.TgZ(23,"ion-text"),o._uU(24," Size "),o.qZA(),o.TgZ(25,"ion-text",0),o._uU(26),o.qZA(),o.qZA(),o.TgZ(27,"ion-item"),o.TgZ(28,"ion-text"),o._uU(29),o.ALo(30,"translate"),o.qZA(),o.TgZ(31,"ion-text",0),o._uU(32),o.qZA(),o.qZA(),o.YNc(33,a,4,3,"ion-item",1),o.YNc(34,c,3,1,"ion-item",1),o.TgZ(35,"ion-item",2),o.NdJ("click",function(){return e.popoverControler.dismiss()}),o.TgZ(36,"ion-text"),o.TgZ(37,"small"),o._uU(38),o.ALo(39,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(2),o.hij(" ",o.lcZ(3,13,"FARM_MOD.INFOR"),""),o.xp6(4),o.hij(" ",o.lcZ(7,15,"FARM_MOD.NAME_POND")," "),o.xp6(3),o.hij(" ",e.pond.name," "),o.xp6(3),o.hij(" ",o.lcZ(13,17,"FARM_MOD.FOOD")," "),o.xp6(3),o.hij(" ",e.pond.total_feed," "),o.xp6(3),o.hij(" ",o.lcZ(19,19,"FARM_MOD.COST")," "),o.xp6(3),o.hij(" ",e.pond.total_cost," "),o.xp6(5),o.hij(" ",e.pond.weight," "),o.xp6(3),o.hij(" ",o.lcZ(30,21,"FARM_MOD.SEED_OLD")," "),o.xp6(3),o.hij(" ",e.pond.seed_old," "),o.xp6(1),o.Q6J("ngIf",e.pond.note),o.xp6(1),o.Q6J("ngIf",e.pond.note),o.xp6(4),o.Oqu(o.lcZ(39,23,"CLOSE")))},directives:[i.q_,i.yh,i.Ie,i.yW,s.O5],pipes:[r.X$],styles:[""]}),t})()},58598:function(t,e,n){n.d(e,{e:function(){return s}});var o=n(37716),i=n(47063),r=n(81780);let s=(()=>{class t{constructor(t,e){this.popoverControler=t,this.translate=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(i.Dh),o.Y36(r.sK))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-detail-product"]],inputs:{product:"product"},decls:27,vars:19,consts:[["slot","end","color","primary"],["lines","none","detail","false","button","",3,"click"]],template:function(t,e){1&t&&(o.TgZ(0,"ion-list"),o.TgZ(1,"ion-list-header"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"ion-item"),o.TgZ(5,"ion-text"),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"ion-text",0),o._uU(9),o.qZA(),o.qZA(),o.TgZ(10,"ion-item"),o.TgZ(11,"ion-text"),o._uU(12),o.ALo(13,"translate"),o.qZA(),o.TgZ(14,"ion-text",0),o._uU(15),o.qZA(),o.qZA(),o.TgZ(16,"ion-item"),o.TgZ(17,"ion-text"),o._uU(18),o.ALo(19,"translate"),o.qZA(),o.TgZ(20,"ion-text",0),o._uU(21),o.qZA(),o.qZA(),o.TgZ(22,"ion-item",1),o.NdJ("click",function(){return e.popoverControler.dismiss()}),o.TgZ(23,"ion-text"),o.TgZ(24,"small"),o._uU(25),o.ALo(26,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(2),o.Oqu(o.lcZ(3,9,"FARM_MOD.INFOR")),o.xp6(4),o.hij(" ",o.lcZ(7,11,"FARM_MOD.NAME_PRODUCT")," "),o.xp6(3),o.AsE(" ",e.product.name_prefix," - ",e.product.product_name," "),o.xp6(3),o.hij(" ",o.lcZ(13,13,"FARM_MOD.PRICE")," "),o.xp6(3),o.hij(" ",e.product.price," "),o.xp6(3),o.hij(" ",o.lcZ(19,15,"FARM_MOD.NUM_STORE")," "),o.xp6(3),o.hij(" ",e.product.quantity_current," "),o.xp6(4),o.Oqu(o.lcZ(26,17,"CLOSE")))},directives:[i.q_,i.yh,i.Ie,i.yW],pipes:[r.X$],styles:[""]}),t})()},2426:function(t,e,n){n.d(e,{O:function(){return D}});var o=n(64762),i=n(16738),r=n(27887),s=n(51937),a=n(43227),c=n(58598),l=n(37716),p=n(47063),u=n(81780),d=n(84465),h=n(38583),Z=n(56209);function g(t,e){1&t&&l._UZ(0,"ion-progress-bar",5)}function A(t,e){if(1&t&&l._UZ(0,"div",23),2&t){const t=l.oxw(3);l.Q6J("options",t.optionsTech)}}function _(t,e){if(1&t&&(l.TgZ(0,"ion-card",7),l.TgZ(1,"ion-card-header"),l.TgZ(2,"ion-card-subtitle"),l._UZ(3,"ion-icon",22),l._uU(4),l.ALo(5,"translate"),l.qZA(),l.YNc(6,A,1,1,"div",17),l.qZA(),l.qZA()),2&t){const t=l.oxw(2);l.xp6(4),l.hij(" ",l.lcZ(5,2,"FARM_MOD.PRODUCTION_RATE")," "),l.xp6(2),l.Q6J("ngIf",t.view)}}function f(t,e){if(1&t&&l._UZ(0,"div",23),2&t){const t=l.oxw(3);l.Q6J("options",t.options)}}function m(t,e){1&t&&(l.TgZ(0,"small"),l._uU(1,"t\u1ec9"),l.qZA())}function O(t,e){1&t&&(l.TgZ(0,"small"),l._uU(1," $"),l.qZA())}function T(t,e){if(1&t&&(l.TgZ(0,"span",27),l._uU(1),l.ALo(2,"number"),l.qZA()),2&t){const t=l.oxw(3);l.xp6(1),l.Oqu(l.xi3(2,1,t.data.total_money/1e9,"0.0-1"))}}function b(t,e){if(1&t&&(l.TgZ(0,"span",27),l._uU(1),l.ALo(2,"number"),l.qZA()),2&t){const t=l.oxw(3);l.xp6(1),l.Oqu(l.xi3(2,1,t.data.total_money,"0.0-1"))}}function q(t,e){if(1&t&&(l.TgZ(0,"ion-card",7),l.TgZ(1,"ion-card-header"),l.TgZ(2,"ion-card-subtitle"),l._UZ(3,"ion-icon",24),l._uU(4),l.ALo(5,"translate"),l.ALo(6,"translate"),l.qZA(),l.qZA(),l.YNc(7,f,1,1,"div",17),l.TgZ(8,"ion-list"),l.TgZ(9,"ion-item"),l.TgZ(10,"ion-label"),l.TgZ(11,"h3"),l._uU(12),l.ALo(13,"translate"),l.YNc(14,m,2,0,"small",4),l.YNc(15,O,2,0,"small",4),l.qZA(),l.qZA(),l.YNc(16,T,3,4,"span",25),l.YNc(17,b,3,4,"span",25),l.qZA(),l.TgZ(18,"ion-item",26),l.TgZ(19,"ion-label"),l.TgZ(20,"h3"),l._uU(21),l.ALo(22,"translate"),l.qZA(),l.qZA(),l.TgZ(23,"span",27),l._uU(24),l.qZA(),l.qZA(),l.TgZ(25,"div",28),l.TgZ(26,"p",29),l._uU(27),l.ALo(28,"translate"),l._UZ(29,"br"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw(2);l.xp6(4),l.AsE(" ",l.lcZ(5,11,"FARM_MOD.ANALYST_DESISION")," (",l.lcZ(6,13,"POND_MOD.TON"),") "),l.xp6(3),l.Q6J("ngIf",t.view),l.xp6(5),l.hij("",l.lcZ(13,15,"FARM_MOD.TOTAL_REVENUE")," "),l.xp6(2),l.Q6J("ngIf","vi"==t.translate.currentLang),l.xp6(1),l.Q6J("ngIf","vi"!=t.translate.currentLang),l.xp6(1),l.Q6J("ngIf","vi"==t.translate.currentLang),l.xp6(1),l.Q6J("ngIf","vi"!=t.translate.currentLang),l.xp6(4),l.Oqu(l.lcZ(22,17,"FARM_MOD.CROP_GROWING")),l.xp6(3),l.Oqu(t.data.list_season_doing.length),l.xp6(3),l.Oqu(l.lcZ(28,19,"POND_MOD.ESITMATE_WARNING"))}}function x(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"ion-button",30),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).presentOptionsPond()}),l._UZ(1,"ion-icon",31),l._uU(2),l.qZA()}if(2&t){const t=l.oxw(2);l.xp6(2),l.hij("",t.modPondSeleted.label," ")}}function v(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"ion-item",32),l.NdJ("click",function(e){const n=l.CHM(t).$implicit;return l.oxw(2).presentDetailReportPond(n,e)}),l.TgZ(1,"ion-text"),l._uU(2),l.qZA(),l.TgZ(3,"ion-text",14),l._uU(4),l.ALo(5,"number"),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(2),l.hij(" ",t.name," "),l.xp6(2),l.hij(" ",l.xi3(5,2,t.total_cost,"0.0-1")," ")}}function M(t,e){if(1&t&&l._UZ(0,"div",23),2&t){const t=l.oxw(2);l.Q6J("options",t.optionsFinance)}}function y(t,e){1&t&&(l.TgZ(0,"span"),l._uU(1,"tr"),l.qZA())}function U(t,e){1&t&&(l.TgZ(0,"span"),l._uU(1,"tr"),l.qZA())}function S(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"ion-button",30),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).presentOptionsStore()}),l._UZ(1,"ion-icon",31),l._uU(2),l.qZA()}if(2&t){const t=l.oxw(2);l.xp6(2),l.hij("",t.modStoreSeleted.label," ")}}function R(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"ion-item",32),l.NdJ("click",function(e){const n=l.CHM(t).$implicit;return l.oxw(2).presentDetailReportStore(n,e)}),l.TgZ(1,"ion-text"),l._uU(2),l.qZA(),l.TgZ(3,"ion-text",14),l._uU(4),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit;l.xp6(2),l.hij(" ",t.product_name," "),l.xp6(2),l.hij(" ",t.quantity_current," ")}}function w(t,e){1&t&&(l.TgZ(0,"span"),l._uU(1,"tr"),l.qZA())}function P(t,e){if(1&t&&(l.TgZ(0,"div"),l.YNc(1,_,7,4,"ion-card",6),l.TgZ(2,"ion-card",7),l.TgZ(3,"ion-card-header"),l.TgZ(4,"ion-card-subtitle"),l._UZ(5,"ion-icon",8),l._uU(6),l.ALo(7,"translate"),l.qZA(),l.TgZ(8,"div",9),l.TgZ(9,"h1"),l._uU(10),l.qZA(),l.TgZ(11,"p"),l._uU(12,"kg"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(13,"ion-card",7),l.TgZ(14,"ion-card-header"),l.TgZ(15,"ion-card-subtitle"),l._UZ(16,"ion-icon",10),l._uU(17),l.ALo(18,"translate"),l.qZA(),l.TgZ(19,"div",9),l.TgZ(20,"h1"),l._uU(21),l.ALo(22,"number"),l.qZA(),l.TgZ(23,"p"),l._uU(24,"kg"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(25,q,30,21,"ion-card",6),l.TgZ(26,"ion-card",7),l.TgZ(27,"ion-card-header"),l.TgZ(28,"ion-card-subtitle",11),l.TgZ(29,"span"),l._UZ(30,"ion-icon",12),l._uU(31),l.ALo(32,"translate"),l.qZA(),l.YNc(33,x,3,1,"ion-button",13),l.qZA(),l.TgZ(34,"ion-list"),l.TgZ(35,"ion-item"),l.TgZ(36,"ion-text"),l.TgZ(37,"small"),l._uU(38),l.ALo(39,"translate"),l.qZA(),l.qZA(),l.TgZ(40,"ion-text",14),l.TgZ(41,"small"),l._uU(42),l.ALo(43,"translate"),l.qZA(),l.qZA(),l.qZA(),l.YNc(44,v,6,5,"ion-item",15),l.qZA(),l.qZA(),l.qZA(),l.TgZ(45,"ion-card",7),l.TgZ(46,"ion-card-header"),l.TgZ(47,"ion-card-subtitle"),l._UZ(48,"ion-icon",16),l._uU(49),l.ALo(50,"translate"),l.qZA(),l.YNc(51,M,1,1,"div",17),l.qZA(),l.qZA(),l.TgZ(52,"ion-card",7),l.TgZ(53,"ion-card-header"),l.TgZ(54,"ion-card-subtitle"),l._UZ(55,"ion-icon",18),l._uU(56),l.ALo(57,"translate"),l.qZA(),l.TgZ(58,"div",9),l.TgZ(59,"h1"),l._uU(60),l.ALo(61,"number"),l.YNc(62,y,2,0,"span",4),l.qZA(),l.TgZ(63,"p"),l._uU(64),l.ALo(65,"translate"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(66,"ion-card",7),l.TgZ(67,"ion-card-header"),l.TgZ(68,"ion-card-subtitle"),l._UZ(69,"ion-icon",19),l._uU(70),l.ALo(71,"translate"),l.qZA(),l.TgZ(72,"div",9),l.TgZ(73,"h1"),l._uU(74),l.ALo(75,"number"),l.YNc(76,U,2,0,"span",4),l.qZA(),l.TgZ(77,"p"),l._uU(78),l.ALo(79,"translate"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(80,"ion-card",7),l.TgZ(81,"ion-card-header"),l.TgZ(82,"ion-card-subtitle",11),l.TgZ(83,"span"),l._UZ(84,"ion-icon",12),l._uU(85),l.ALo(86,"translate"),l.qZA(),l.YNc(87,S,3,1,"ion-button",13),l.qZA(),l.TgZ(88,"ion-list"),l.TgZ(89,"ion-item"),l.TgZ(90,"ion-text"),l.TgZ(91,"small"),l._uU(92),l.ALo(93,"translate"),l.qZA(),l.qZA(),l.TgZ(94,"ion-text",14),l.TgZ(95,"small"),l._uU(96),l.ALo(97,"translate"),l.qZA(),l.qZA(),l.qZA(),l.YNc(98,R,5,2,"ion-item",15),l.qZA(),l.qZA(),l.qZA(),l.TgZ(99,"ion-card",7),l.TgZ(100,"ion-card-header"),l.TgZ(101,"ion-card-subtitle"),l._UZ(102,"ion-icon",20),l._uU(103),l.ALo(104,"translate"),l.qZA(),l.TgZ(105,"div",9),l.TgZ(106,"h1"),l._uU(107),l.ALo(108,"number"),l.YNc(109,w,2,0,"span",4),l.qZA(),l.TgZ(110,"p"),l._uU(111),l.ALo(112,"translate"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(113,"ion-card",7),l.TgZ(114,"ion-card-header"),l.TgZ(115,"ion-card-subtitle"),l._UZ(116,"ion-icon",21),l._uU(117),l.ALo(118,"translate"),l.qZA(),l.TgZ(119,"div",9),l.TgZ(120,"h1"),l._uU(121),l.qZA(),l.TgZ(122,"p"),l._uU(123),l.ALo(124,"translate"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.view),l.xp6(5),l.hij(" ",l.lcZ(7,33,"FARM_MOD.TOTAL_FEED")," "),l.xp6(4),l.Oqu(t.dataReport.tech.feed),l.xp6(7),l.hij(" ",l.lcZ(18,35,"FARM_MOD.TOTAL_QUANTITY")," "),l.xp6(4),l.Oqu(l.xi3(22,37,t.dataReport.tech.total_harvest,"0.0-1")),l.xp6(4),l.Q6J("ngIf",t.view&&t.data),l.xp6(6),l.hij(" ",l.lcZ(32,40,"FARM_MOD.REPORT_POND")," "),l.xp6(2),l.Q6J("ngIf",t.modPondSeleted),l.xp6(5),l.Oqu(l.lcZ(39,42,"FARM_MOD.NAME_POND")),l.xp6(4),l.Oqu(l.lcZ(43,44,"FARM_MOD.COST")),l.xp6(2),l.Q6J("ngForOf",t.modPondSeleted.list),l.xp6(5),l.hij(" ",l.lcZ(50,46,"FARM_MOD.ANALYST_MONTH")," "),l.xp6(2),l.Q6J("ngIf",t.view),l.xp6(5),l.hij(" ",l.lcZ(57,48,"FARM_MOD.TOTAL_IN")," "),l.xp6(4),l.Oqu(l.xi3(61,50,t.totalIn,"0.0-1")),l.xp6(2),l.Q6J("ngIf","vi"==t.translate.currentLang),l.xp6(2),l.hij(" ",l.lcZ(65,53,"FARM_MOD.MONEY"),""),l.xp6(6),l.hij(" ",l.lcZ(71,55,"FARM_MOD.TOTAL_OUT")," "),l.xp6(4),l.Oqu(l.xi3(75,57,t.totalOut,"0.0-1")),l.xp6(2),l.Q6J("ngIf","vi"==t.translate.currentLang),l.xp6(2),l.Oqu(l.lcZ(79,60,"FARM_MOD.MONEY")),l.xp6(7),l.hij(" ",l.lcZ(86,62,"FARM_MOD.STORE")," "),l.xp6(2),l.Q6J("ngIf",t.modStoreSeleted),l.xp6(5),l.Oqu(l.lcZ(93,64,"FARM_MOD.PRODUCT")),l.xp6(4),l.Oqu(l.lcZ(97,66,"FARM_MOD.NUM_STORE")),l.xp6(2),l.Q6J("ngForOf",t.modStoreSeleted.list),l.xp6(5),l.hij(" ",l.lcZ(104,68,"FARM_MOD.TOTAL_WAREHOUSE")," "),l.xp6(4),l.Oqu(l.xi3(108,70,t.dataReport.finance.total_warehouse,"0.0-1")),l.xp6(2),l.Q6J("ngIf","vi"==t.translate.currentLang),l.xp6(2),l.Oqu(l.lcZ(112,73,"FARM_MOD.MONEY")),l.xp6(6),l.hij(" ",l.lcZ(118,75,"FARM_MOD.NUM_PRODUCT")," "),l.xp6(4),l.Oqu(t.dataReport.finance.total_product),l.xp6(2),l.Oqu(l.lcZ(124,77,"FARM_MOD.PRODUCT"))}}let D=(()=>{class t{constructor(t,e,n,o,i,s){this.modalCtrl=t,this.translate=e,this.farmService=n,this.toastService=o,this.alertController=i,this.popoverController=s,this.view=!1,this.options={},this.loadingFlag=new r.E,this.arrPondMod=[{mod:"pond_coming",label:this.translate.instant("FARM_MOD.POND_COMING")},{mod:"pond_new",label:this.translate.instant("FARM_MOD.POND_NEW")},{mod:"pond_warning",label:this.translate.instant("FARM_MOD.POND_WARNING")}],this.arrStoreMod=[{mod:"store_come_empty",label:this.translate.instant("FARM_MOD.STORE_COME_EMPTY")},{mod:"store_new",label:this.translate.instant("FARM_MOD.STORE_NEW")}],this.optionsTech={},this.optionsFinance={},this.totalIn=0,this.totalOut=0}ngOnInit(){this.loadReport()}initOptions(){if(!this.data)return;let t=(new Date).getMonth()+1,e=[],n=["Species"],o=[],i=[];[{key:"recent",detail:this.translate.instant("CROP_MOD.MONTH_AGO")},{key:"current",detail:"T"+t.toString()}].forEach(t=>{let r=[t.detail];for(let e in this.data.char_seed[t.key])i.length<Object.keys(this.data.char_seed[t.key]).length&&i.push({type:"bar"}),n.length<Object.keys(this.data.char_seed[t.key]).length+1&&(n.push(this.data.char_seed[t.key][e].name),o.push(this.data.char_seed[t.key][e].id)),r.push((parseInt(this.data.char_seed[t.key][e].quantity)/1e3).toString());e.push(r)}),e.unshift(n),console.log(e);let r=(new Date).getTime()/1e3;for(let s=1;s<=3;s++){let i=new Array(n.length-1).fill("0");this.data.list_season_doing.forEach(t=>{let e=(r-t.seed_date)/86400,n=o.indexOf(t.procedure?t.procedure.species_id:t.species_id);-1!=n&&(i[n]=this.processEstimateSpecies(30*s,e,t).toString())}),i.unshift("T"+(t+s).toString()),e.push(i)}this.options={legend:{},tooltip:{trigger:"item"},dataset:{source:e},xAxis:{type:"category"},yAxis:{show:!1},series:i}}ionViewDidEnter(){this.initOptions(),setTimeout(()=>{this.view=!0},500)}processEstimateSpecies(t,e,n){let o=0,r=parseFloat(n.seed_weight),s=0;n.weight.length>0&&(r=null!=n.weight[0].weight?parseFloat(n.weight[0].weight):parseFloat(n.seed_weight),r!=n.seed_weight&&(o=i().diff(i(n.weight[0].date),"days"))),s=n.procedure?n.procedure.grow_speed:r/e,r+=o*s;let a=e+t;n.sum.loss||(n.sum.loss=0);let c=parseInt(n.seed_quantity)-parseInt(n.sum.loss);if(n.procedure&&n.procedure.culture_day>0&&n.procedure.survival_ratio>0){if(a<n.procedure.culture_day||e>n.procedure.culture_day)return 0;c=e*n.seed_quantity*n.procedure.survival_ratio/n.procedure.culture_day}return(c*(s*t+r)/1e3).toFixed(2)}loadReport(){this.loadingFlag.setPending(!0),this.farmService.loadReport().pipe().subscribe(t=>{0==t.status?this.toastService.warning(t.error):(this.dataReport=t.data,this.prepareChartTech(t.data.tech.analyst_pond),this.prepareChartCost(t.data.finance),this.selectShowPonds(0),this.selectShowStore(0),t.data.estimate&&(this.data=t.data.estimate)),this.loadingFlag.setResult(!0)},t=>{this.toastService.danger(this.translate.instant("CONNECT_ERROR")),this.loadingFlag.setResult(!1)})}prepareChartTech(t){let e={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",bottom:"bottom"},series:[{name:this.translate.instant("FARM_MOD.INFOR"),type:"pie",radius:"55%",data:[{value:t.warning,name:this.translate.instant("COMPANY_MOD.POND_WARNING")},{value:t.empty,name:this.translate.instant("COMPANY_MOD.POND_EMPTY")},{value:t.good,name:this.translate.instant("COMPANY_MOD.POND_GOOD")}]}]};this.optionsTech=e}prepareChartCost(t){let e=this,n={tooltip:{trigger:"axis",position:["30%","50%"],axisPointer:{type:"shadow"},formatter:function(t){let n="<p>"+t[0].axisValue+"</p>";return t.forEach(t=>{var o="<p>"+(t=>'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+t+'"></span>')(t.color)+" "+t.seriesName+": "+t.data+" "+e.translate.instant("LIFE-RATIO.RATIO_RESULT.MIL_DONG")+"</p>";n+=o}),n}},legend:{},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value",boundaryGap:[0,.01]},xAxis:{type:"category",data:[]},series:[{name:this.translate.instant("FARM_MOD.TOTAL_IN"),type:"bar",data:[]},{name:this.translate.instant("FARM_MOD.TOTAL_OUT"),type:"bar",data:[]}]},o={};this.totalIn=0,this.totalOut=0,t.chart_in.forEach(t=>{o[t.time]={in:0,out:0}}),t.chart_out.forEach(t=>{o[t.time]={in:0,out:0}}),t.chart_in.forEach(t=>{o[t.time].in=(t.total/1e6).toFixed(0),this.totalIn+=parseInt(t.total)}),t.chart_out.forEach(t=>{o[t.time].out=(t.total/1e6).toFixed(0),this.totalOut+=parseInt(t.total)});for(let i in o)n.xAxis.data.push(i),n.series[0].data.push(o[i].in),n.series[1].data.push(o[i].out);this.totalIn=parseInt((this.totalIn/1e6).toFixed(0)),this.totalOut=parseInt((this.totalOut/1e6).toFixed(0)),this.dataReport.finance.total_warehouse=parseInt((this.dataReport.finance.total_warehouse/1e6).toFixed(0)),this.optionsFinance=n}selectShowPonds(t){this.modPondSeleted={mod:this.arrPondMod[t].mod,label:this.arrPondMod[t].label,list:this.dataReport.tech[this.arrPondMod[t].mod]}}selectShowStore(t){this.modStoreSeleted={mod:this.arrStoreMod[t].mod,label:this.arrStoreMod[t].label,list:this.dataReport.finance[this.arrStoreMod[t].mod]}}presentOptionsPond(){return(0,o.mG)(this,void 0,void 0,function*(){let t=[],e=this;this.arrPondMod.forEach(function(n,o){t.push({name:n.mod,type:"radio",label:n.label,value:o,checked:e.modPondSeleted.mod==n.mod})}),yield(yield this.alertController.create({cssClass:"my-custom-class",header:this.translate.instant("FARM_MOD.REPORT_POND"),inputs:t,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{console.log("Confirm Cancel: blah")}},{text:"Okay",handler:t=>{this.selectShowPonds(t)}}]})).present()})}presentDetailReportPond(t,e){return(0,o.mG)(this,void 0,void 0,function*(){yield(yield this.popoverController.create({component:a.H,cssClass:"popoverStyle",componentProps:{pond:t},translucent:!0,mode:"ios",event:e,animated:!0})).present()})}presentDetailReportStore(t,e){return(0,o.mG)(this,void 0,void 0,function*(){yield(yield this.popoverController.create({component:c.e,cssClass:"popoverStyle",componentProps:{product:t},translucent:!0,mode:"ios",event:e,animated:!0})).present()})}presentOptionsStore(){return(0,o.mG)(this,void 0,void 0,function*(){let t=[],e=this;this.arrStoreMod.forEach(function(n,o){t.push({name:n.mod,type:"radio",label:n.label,value:o,checked:e.modPondSeleted.mod==n.mod})}),yield(yield this.alertController.create({cssClass:"my-custom-class",header:this.translate.instant("FARM_MOD.STORE"),inputs:t,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{console.log("Confirm Cancel: blah")}},{text:"Okay",handler:t=>{this.selectShowStore(t)}}]})).present()})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(p.IN),l.Y36(u.sK),l.Y36(s.D),l.Y36(d.k),l.Y36(p.Br),l.Y36(p.Dh))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-farm-estimate"]],decls:11,vars:5,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["type","indeterminate",4,"ngIf"],[4,"ngIf"],["type","indeterminate"],["mode","ios",4,"ngIf"],["mode","ios"],["name","fish-outline"],[1,"ion-text-center","ion-padding-vertical","noteTarger"],["name","nuclear-outline"],[1,"titleReport"],["name","bowling-ball-outline"],["size","small","shape","round",3,"click",4,"ngIf"],["slot","end"],["button","",3,"click",4,"ngFor","ngForOf"],["name","bar-chart-outline"],["echarts","",3,"options",4,"ngIf"],["name","arrow-undo-outline"],["name","arrow-redo-outline"],["name","cash-outline"],["name","flask-outline"],["name","pie-chart-outline"],["echarts","",3,"options"],["name","medical-outline"],["slot","end","class","ion-margin",4,"ngIf"],["lines","none"],["slot","end",1,"ion-margin"],[1,"ion-padding"],[1,"sm-text","ion-text-center"],["size","small","shape","round",3,"click"],["name","menu-outline"],["button","",3,"click"]],template:function(t,e){1&t&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-title"),l._uU(3),l.ALo(4,"translate"),l.qZA(),l.TgZ(5,"ion-buttons",0),l.TgZ(6,"ion-button",1),l.NdJ("click",function(){return e.modalCtrl.dismiss()}),l._UZ(7,"ion-icon",2),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"ion-content"),l.YNc(9,g,1,0,"ion-progress-bar",3),l.YNc(10,P,125,79,"div",4),l.qZA()),2&t&&(l.xp6(3),l.Oqu(l.lcZ(4,3,"FARM_MOD.ANALYST_FARM")),l.xp6(6),l.Q6J("ngIf",e.loadingFlag.pending),l.xp6(1),l.Q6J("ngIf",e.dataReport))},directives:[p.Gu,p.sr,p.wd,p.Sm,p.YG,p.gu,p.W2,h.O5,p.X7,p.PM,p.Zi,p.tO,p.q_,p.Ie,p.yW,h.sg,Z._w,p.Q$],pipes:[u.X$,h.JJ],styles:[".titleReport[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.noteTarger[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2dd36f}"]}),t})()},51937:function(t,e,n){n.d(e,{D:function(){return a}});var o=n(76329),i=n(15189),r=n(88002),s=n(37716);let a=(()=>{class t{constructor(t){this.reqAPIService=t,this.urlApi="/manager/farm-api",this.urlApiAdress="/manager/address-api",this.reload$=new o.BehaviorSubject(0),this.numberOfPonds=0}setCode(t){this.fcode=t}setFarm(t){this.farm=t,this.permission=t.permission}loadPonds(){return this.reqAPIService.get("/manager/farm-api-mobie?fcode="+this.fcode+"&action=get-item-pond").pipe((0,r.U)(t=>t))}listAddress(t){return this.reqAPIService.get(this.urlApiAdress+"?action=listUnit&id="+t)}loadFarm(){return this.reqAPIService.get("/manager/farm-api-info?fcode="+this.fcode).pipe((0,r.U)(t=>(this.setFarm(t.data),t)))}getSeting(){return this.reqAPIService.get("/manager/farm-api-mobie?action=get-farm-setting&fcode="+this.fcode).pipe((0,r.U)(t=>t))}updatePrivate(t){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-farm-setting&fcode="+this.fcode,t).pipe((0,r.U)(t=>t))}removePermission(t,e){return this.reqAPIService.get("/manager/farm-api-mobie?action=remove-manager&fcode="+this.fcode+"&user_id="+t+"&position="+e).pipe((0,r.U)(t=>t))}updateFarm(t){return this.reqAPIService.post("/manager/farm-edit-api-mobie?action=edit&fcode="+this.fcode,t).pipe((0,r.U)(t=>t))}destroyValue(){this.farm=null,this.fcode=null,this.permission=null,this.numberOfPonds=null}getSpecies(){return this.reqAPIService.get("/manager/farm-create-api?action=get-species").pipe((0,r.U)(t=>t))}insertPond(t){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-pond&fcode="+this.fcode,t).pipe((0,r.U)(t=>t))}insertOnePond(t){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-a-pond&fcode="+this.fcode,t).pipe((0,r.U)(t=>t))}loadReport(){return this.reqAPIService.get("/manager/farm-api-report?fcode="+this.fcode)}listStore(){return this.reqAPIService.get("/manager/farm-api-mobie?fcode="+this.fcode+"&action=list-store")}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(i.$))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);