"use strict";(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[5498],{73473:function(t,e,i){i.d(e,{l:function(){return o}});var n=i(37716);let o=(()=>{class t{constructor(t){this.el=t,this.permissionsCanShow=[],this.el.nativeElement.style.visibility="hidden",this.el.nativeElement.style.display="none"}set PermissionsShow(t){this.permissionsCanShow=t}set CurrentPermisson(t){this.currentPermission=t,this.setShow()}set PermissionAction(t){this.currentPermission=t,this.setPointEvents()}ngOnInit(){}setShow(){this.permissionsCanShow.includes(this.currentPermission)?(this.el.nativeElement.style.visibility="visible",this.el.nativeElement.style.display="block"):(this.el.nativeElement.style.visibility="hidden",this.el.nativeElement.style.display="none")}setPointEvents(){this.el.nativeElement.style.visibility="visible",this.el.nativeElement.style.display="block",this.el.nativeElement.style["pointer-events"]=this.permissionsCanShow.includes(this.currentPermission)?"visible":"none"}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq))},t.\u0275dir=n.lG2({type:t,selectors:[["","appPermission",""]],inputs:{PermissionsShow:["appPermission","PermissionsShow"],CurrentPermisson:["currentPermission","CurrentPermisson"],PermissionAction:["permissionAction","PermissionAction"]}}),t})()},66031:function(t,e,i){i.d(e,{O:function(){return A}});var n=i(64762),o=i(27887),s=i(80272),a=i(37716),r=i(47063),l=i(81780),c=i(84465),d=i(38583),m=i(56209);function u(t,e){if(1&t&&(a.TgZ(0,"ion-item"),a.TgZ(1,"ion-label"),a._uU(2),a.ALo(3,"date"),a.ALo(4,"translate"),a.qZA(),a.TgZ(5,"ion-text"),a._uU(6),a.qZA(),a.TgZ(7,"ion-text",7),a._uU(8),a.ALo(9,"number"),a.qZA(),a.qZA()),2&t){const t=e.$implicit;a.xp6(2),a.Oqu(a.xi3(3,3,t.date,a.lcZ(4,6,"FORMAT_DATE"))),a.xp6(4),a.Oqu(t.quantity),a.xp6(2),a.Oqu(a.xi3(9,8,t.quantity*t.price,"0.0-0"))}}function g(t,e){if(1&t&&(a.TgZ(0,"ion-content"),a._UZ(1,"div",5),a.TgZ(2,"ion-list"),a.YNc(3,u,10,11,"ion-item",6),a.qZA(),a.qZA()),2&t){const t=a.oxw();a.xp6(1),a.Q6J("loading",t.view)("options",t.options),a.xp6(2),a.Q6J("ngForOf",t.list)}}let p=(()=>{class t{constructor(t,e,i,n){this.modalController=t,this.pondService=e,this.translate=i,this.toastService=n,this.list=[],this.options={},this.view=!1}ngOnInit(){this.getListDetail()}getListDetail(){this.list=[],this.pondService.getProductUsed(this.code,this.type,this.product_id).subscribe(t=>{1==t.status?(this.list=t.data,this.list.sort((t,e)=>e.date.localeCompare(t.date)),this.initChart()):this.toastService.warning(t.error)},()=>{this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}ionViewDidEnter(){this.view=!0}initChart(){this.options={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{data:[]},yAxis:{type:"value",boundaryGap:[0,.01]},series:[{name:this.translate.instant("COMPANY_MOD.QUANTITY"),type:"bar",data:[]}]},this.list.forEach(t=>{this.options.xAxis.data.unshift(t.date),this.options.series[0].data.unshift(t.quantity)})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(r.IN),a.Y36(s.p),a.Y36(l.sK),a.Y36(c.k))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-season-material-history"]],inputs:{type:"type",code:"code",product_id:"product_id",infor:"infor"},decls:9,vars:5,consts:[["mode","ios"],["slot","start"],[3,"click"],["slot","icon-only","name","close"],[4,"ngIf"],["echarts","",3,"loading","options"],[4,"ngFor","ngForOf"],["slot","end","color","danger"]],template:function(t,e){1&t&&(a.TgZ(0,"ion-header",0),a.TgZ(1,"ion-toolbar"),a.TgZ(2,"ion-buttons",1),a.TgZ(3,"ion-button",2),a.NdJ("click",function(){return e.modalController.dismiss()}),a._UZ(4,"ion-icon",3),a.qZA(),a.qZA(),a.TgZ(5,"ion-title"),a._uU(6),a.ALo(7,"translate"),a.qZA(),a.qZA(),a.qZA(),a.YNc(8,g,4,3,"ion-content",4)),2&t&&(a.xp6(6),a.AsE("",a.lcZ(7,3,"ANALYTICS")," ",e.infor.name,""),a.xp6(2),a.Q6J("ngIf",e.view))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.wd,d.O5,r.W2,m._w,r.q_,d.sg,r.Ie,r.Q$,r.yW],pipes:[l.X$,d.uU,d.JJ],styles:[""]}),t})();function h(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"ion-row",2),a.NdJ("click",function(){const e=a.CHM(t).$implicit;return a.oxw().presentMaterialHistory(e)}),a.TgZ(1,"ion-col",8),a._uU(2),a.qZA(),a.TgZ(3,"ion-col",9),a._uU(4),a.qZA(),a.TgZ(5,"ion-col",10),a._uU(6),a.ALo(7,"number"),a.qZA(),a.TgZ(8,"ion-col",11),a.TgZ(9,"ion-text",15),a._uU(10),a.ALo(11,"number"),a.qZA(),a.qZA(),a.TgZ(12,"ion-col",8),a._UZ(13,"ion-icon",16),a.qZA(),a.qZA()}if(2&t){const t=e.$implicit,i=e.index;a.xp6(2),a.hij(" ",i+1," "),a.xp6(2),a.hij(" ",t.name," "),a.xp6(2),a.hij(" ",a.xi3(7,4,t.quantity.replace(",",""),"0.0-1")," "),a.xp6(4),a.hij(" ",a.xi3(11,7,t.total,"0.0-0")," ")}}function Z(t,e){1&t&&(a.TgZ(0,"div",17),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&t&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"POND_MOD.NO_ITEM")," "))}function f(t,e){1&t&&(a.TgZ(0,"div",18),a._UZ(1,"ion-spinner",19),a.qZA())}let A=(()=>{class t{constructor(t,e,i,n){this.modalController=t,this.pondService=e,this.toastService=i,this.translate=n,this.list=[],this.loadingFlag=new o.E}ngOnInit(){this.getListProduct()}getListProduct(){this.loadingFlag.setStart(!0),this.list=[],this.pondService.getListItemUsed(this.code,this.type).subscribe(t=>{1==t.status?this.list=t.data:this.toastService.warning(t.error),this.loadingFlag.setResult(!0)},()=>{this.loadingFlag.setResult(!1),this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}presentMaterialHistory(t){return(0,n.mG)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:p,componentProps:{product_id:t.id,type:this.type,code:this.code,infor:t}})).present()})}loadMaterial(t){this.type=t.detail.value,this.getListProduct()}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(r.IN),a.Y36(s.p),a.Y36(c.k),a.Y36(l.sK))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-season-material-list"]],inputs:{type:"type",code:"code",time:"time"},decls:39,vars:25,consts:[["mode","ios"],["slot","start"],[3,"click"],["slot","icon-only","name","close"],["mode","ios","color","medium",3,"value","ionChange"],["value","feed"],["value","blend"],["value","enviro"],["size","1"],["size","3"],["size","3",1,"ion-text-right"],["size","4",1,"ion-text-right"],[3,"click",4,"ngFor","ngForOf"],["class","ion-padding ion-text-center",4,"ngIf"],["class","spiner-loading",4,"ngIf"],["color","danger"],["name","chevron-forward-outline"],[1,"ion-padding","ion-text-center"],[1,"spiner-loading"],["name","dots"]],template:function(t,e){1&t&&(a.TgZ(0,"ion-header",0),a.TgZ(1,"ion-toolbar"),a.TgZ(2,"ion-buttons",1),a.TgZ(3,"ion-button",2),a.NdJ("click",function(){return e.modalController.dismiss()}),a._UZ(4,"ion-icon",3),a.qZA(),a.qZA(),a.TgZ(5,"ion-title"),a._uU(6),a.ALo(7,"translate"),a.qZA(),a.qZA(),a.TgZ(8,"ion-toolbar"),a.TgZ(9,"ion-segment",4),a.NdJ("ionChange",function(t){return e.loadMaterial(t)}),a.TgZ(10,"ion-segment-button",5),a.TgZ(11,"ion-text"),a._uU(12),a.ALo(13,"translate"),a.qZA(),a.qZA(),a.TgZ(14,"ion-segment-button",6),a.TgZ(15,"ion-text"),a._uU(16),a.ALo(17,"translate"),a.qZA(),a.qZA(),a.TgZ(18,"ion-segment-button",7),a.TgZ(19,"ion-text"),a._uU(20),a.ALo(21,"translate"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(22,"ion-content"),a.TgZ(23,"ion-grid"),a.TgZ(24,"ion-row"),a.TgZ(25,"ion-col",8),a._uU(26,"#"),a.qZA(),a.TgZ(27,"ion-col",9),a._uU(28),a.ALo(29,"translate"),a.qZA(),a.TgZ(30,"ion-col",10),a._uU(31),a.ALo(32,"translate"),a.qZA(),a.TgZ(33,"ion-col",11),a._uU(34),a.ALo(35,"translate"),a.qZA(),a.qZA(),a.YNc(36,h,14,10,"ion-row",12),a.qZA(),a.YNc(37,Z,3,3,"div",13),a.YNc(38,f,2,0,"div",14),a.qZA()),2&t&&(a.xp6(6),a.Oqu(a.lcZ(7,11,"SHOP.MATERIAL")),a.xp6(3),a.Q6J("value",e.type),a.xp6(3),a.Oqu(a.lcZ(13,13,"COMPANY_MOD.FEED")),a.xp6(4),a.Oqu(a.lcZ(17,15,"POND_MOD.BLEND")),a.xp6(4),a.Oqu(a.lcZ(21,17,"POND_MOD.CHEMICAL_TREATMENT")),a.xp6(8),a.Oqu(a.lcZ(29,19,"NAME")),a.xp6(3),a.Oqu(a.lcZ(32,21,"UNIT")),a.xp6(3),a.Oqu(a.lcZ(35,23,"CURRENCY_L")),a.xp6(2),a.Q6J("ngForOf",e.list),a.xp6(1),a.Q6J("ngIf",(null==e.list?null:e.list.length)<=0),a.xp6(1),a.Q6J("ngIf",e.loadingFlag.pending))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.wd,r.cJ,r.QI,r.GO,r.yW,r.W2,r.jY,r.Nd,r.wI,d.sg,d.O5,r.PQ],pipes:[l.X$,d.JJ],styles:["[_nghost-%COMP%]   ion-row[_ngcontent-%COMP%]{border-bottom:.5px solid rgba(71,70,70,.2);padding:5px 0}"]}),t})()},30454:function(t,e,i){i.d(e,{m:function(){return g}});var n=i(90665),o=i(16738),s=i(27887),a=i(80272),r=i(37716),l=i(47063),c=i(84465),d=i(81780),m=i(38583);function u(t,e){if(1&t&&(r.TgZ(0,"ion-select-option",18),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.Q6J("value",t.id),r.xp6(1),r.hij(" ",t.name," ")}}let g=(()=>{class t{constructor(t,e,i,a){this.modalController=t,this.pondService=e,this.toastService=i,this.translate=a,this.maxDate=o(),this.minDate=o().subtract(180,"days"),this.saveLoading=new s.E,this.form=new n.cw({volume_exchange:new n.NI("",[n.kI.required,n.kI.min(1)]),to_code:new n.NI("",n.kI.required),time:new n.NI(o().format("YYYY-MM-DD"),n.kI.required)}),this.targetPonds=[],this.totalWater=0}ngOnInit(){this.minDate=this.pondService.seasonStartTime,this.totalWater+=this.data.stock.map(t=>+t.volume).reduce((t,e)=>t+e,0),console.log(this.totalWater),this.totalWater+=this.data.exchange.map(t=>t.from_code==this.pondService.pond.current_season?-t.volume_exchange:+t.volume_exchange).reduce((t,e)=>t+e,0),console.log(this.totalWater),this.getPondTargets()}changeDate(t){let e=o(this.form.value.time).add(t,"days");if(e<this.minDate||e>this.maxDate)return!1;this.form.patchValue({time:e.format("YYYY-MM-DD")}),console.log(this.form.value)}getPondTargets(){this.pondService.listPondTargets().subscribe(t=>{1==+t.status?this.targetPonds=t.data:this.toastService.warning(t.error)},()=>{this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}selectPond(t){let e=this.targetPonds.findIndex(e=>e.id==t.target.value);this.form.patchValue({to_code:this.targetPonds[e].current_season})}save(){const t={volume_exchange:this.form.value.volume_exchange,to_code:this.form.value.to_code,time:o(this.form.value.time).valueOf()/1e3};this.saveLoading.setPending(!0),this.pondService.addExchange(t).subscribe(t=>{1==+t.status?(this.toastService.success(this.translate.instant("SHOP.CART.ADDRESS.ADD_SUCCESS")),this.modalController.dismiss(!0)):this.toastService.warning(t.error),this.saveLoading.setResult(!0)},()=>{this.saveLoading.setResult(!1),this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(l.IN),r.Y36(a.p),r.Y36(c.k),r.Y36(d.sK))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-add-exchange-water"]],inputs:{data:"data"},decls:49,vars:31,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slot","end"],["color","primary",3,"disabled","click"],[3,"formGroup"],[1,"ion-text-center"],[1,"title","ion-padding"],["size","2"],["fill","clear",3,"disabled","click"],["slot","icon-only","name","arrow-back"],["size","8"],["formControlName","time",1,"ion-text-center","w-100",3,"displayFormat","min","max"],["slot","icon-only","name","arrow-forward"],["color","primary","position","floating"],[3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["inputmode","numeric","type","number","formControlName","volume_exchange"],[3,"value"]],template:function(t,e){1&t&&(r.TgZ(0,"ion-header"),r.TgZ(1,"ion-toolbar"),r.TgZ(2,"ion-buttons",0),r.TgZ(3,"ion-button",1),r.NdJ("click",function(){return e.modalController.dismiss()}),r._UZ(4,"ion-icon",2),r.qZA(),r.qZA(),r.TgZ(5,"ion-title"),r._uU(6),r.ALo(7,"translate"),r.ALo(8,"translate"),r.qZA(),r.TgZ(9,"ion-buttons",3),r.TgZ(10,"ion-button",4),r.NdJ("click",function(){return e.save()}),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"ion-content",5),r.TgZ(14,"div",6),r.TgZ(15,"h1",7),r._uU(16),r.ALo(17,"translate"),r.ALo(18,"number"),r.TgZ(19,"small"),r._uU(20,"m"),r.TgZ(21,"sup"),r._uU(22,"3"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(23,"ion-grid"),r.TgZ(24,"ion-row"),r.TgZ(25,"ion-col",8),r.TgZ(26,"ion-button",9),r.NdJ("click",function(){return e.changeDate(-1)}),r._UZ(27,"ion-icon",10),r.qZA(),r.qZA(),r.TgZ(28,"ion-col",11),r.TgZ(29,"ion-item",6),r._UZ(30,"ion-datetime",12),r.ALo(31,"translate"),r.qZA(),r.qZA(),r.TgZ(32,"ion-col",8),r.TgZ(33,"ion-button",9),r.NdJ("click",function(){return e.changeDate(1)}),r._UZ(34,"ion-icon",13),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(35,"ion-item"),r.TgZ(36,"ion-label",14),r._uU(37),r.ALo(38,"translate"),r.qZA(),r.TgZ(39,"ion-select",15),r.NdJ("ionChange",function(t){return e.selectPond(t)}),r.YNc(40,u,2,2,"ion-select-option",16),r.qZA(),r.qZA(),r.TgZ(41,"ion-item"),r.TgZ(42,"ion-label",14),r._uU(43),r.ALo(44,"translate"),r.TgZ(45,"sup"),r._uU(46,"3"),r.qZA(),r._uU(47,")"),r.qZA(),r._UZ(48,"ion-input",17),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(6),r.AsE("",r.lcZ(7,15,"ADD")," ",r.lcZ(8,17,"CROP_MOD.WATER_EXCHANGE"),""),r.xp6(4),r.Q6J("disabled",e.form.invalid||e.totalWater<=0||e.form.value.volume_exchange>e.totalWater),r.xp6(1),r.hij(" ",r.lcZ(12,19,"SAVE")," "),r.xp6(2),r.Q6J("formGroup",e.form),r.xp6(3),r.AsE("",r.lcZ(17,21,"POND_MOD.TOTAL")," ",r.lcZ(18,23,e.totalWater)," "),r.xp6(10),r.Q6J("disabled",e.form.value.time<=e.minDate.format("YYYY-MM-DD")),r.xp6(4),r.Q6J("displayFormat",r.lcZ(31,25,"FORMAT_DATE_MOMENT"))("min",e.minDate.format("YYYY-MM-DD"))("max",e.maxDate.format("YYYY-MM-DD")),r.xp6(3),r.Q6J("disabled",e.form.value.time>=e.maxDate.format("YYYY-MM-DD")),r.xp6(4),r.Oqu(r.lcZ(38,27,"POND_MOD.CHOOSE_POND_DES")),r.xp6(3),r.Q6J("ngForOf",e.targetPonds),r.xp6(3),r.hij("",r.lcZ(44,29,"CROP_MOD.VOLUME")," (m"))},directives:[l.Gu,l.sr,l.Sm,l.YG,l.gu,l.wd,l.W2,n.JL,n.sg,l.jY,l.Nd,l.wI,l.Ie,l.x4,l.QI,n.JJ,n.u,l.Q$,l.t9,m.sg,l.pK,l.as,l.n0],pipes:[d.X$,m.JJ],styles:[""]}),t})()},7539:function(t,e,i){i.d(e,{j:function(){return m}});var n=i(90665),o=i(16738),s=i(27887),a=i(80272),r=i(37716),l=i(47063),c=i(84465),d=i(81780);let m=(()=>{class t{constructor(t,e,i,a){this.modalController=t,this.pondService=e,this.toastService=i,this.translate=a,this.form=new n.cw({volume:new n.NI("",[n.kI.required,n.kI.min(1)]),time:new n.NI(o().format("YYYY-MM-DD"),n.kI.required)}),this.maxDate=o(),this.minDate=o().subtract(180,"days"),this.saveLoading=new s.E}ngOnInit(){this.minDate=this.pondService.seasonStartTime}changeDate(t){let e=o(this.form.value.time).add(t,"days");if(e<this.minDate||e>this.maxDate)return!1;this.form.patchValue({time:e.format("YYYY-MM-DD")}),console.log(this.form.value)}save(){const t={volume:this.form.value.volume,time:o(this.form.value.time).valueOf()/1e3};this.saveLoading.setPending(!0),this.pondService.addStock(t).subscribe(t=>{1==+t.status?(this.toastService.success(this.translate.instant("SHOP.CART.ADDRESS.ADD_SUCCESS")),this.modalController.dismiss(!0)):this.toastService.warning(t.error),this.saveLoading.setResult(!0)},()=>{this.saveLoading.setResult(!1),this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(l.IN),r.Y36(a.p),r.Y36(c.k),r.Y36(d.sK))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-add-finished-water"]],decls:30,vars:21,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slot","end"],["color","primary",3,"disabled","click"],[3,"formGroup"],[1,"ion-text-center"],["size","2"],["fill","clear",3,"disabled","click"],["slot","icon-only","name","arrow-back"],["size","8"],["formControlName","time",1,"ion-text-center","w-100",3,"displayFormat","min","max"],["slot","icon-only","name","arrow-forward"],["lines","none",1,"ion-text-center"],["type","tel","inputmode","decimal","required","","autofocus","","formControlName","volume",1,"l-r",3,"placeholder"]],template:function(t,e){1&t&&(r.TgZ(0,"ion-header"),r.TgZ(1,"ion-toolbar"),r.TgZ(2,"ion-buttons",0),r.TgZ(3,"ion-button",1),r.NdJ("click",function(){return e.modalController.dismiss()}),r._UZ(4,"ion-icon",2),r.qZA(),r.qZA(),r.TgZ(5,"ion-title"),r._uU(6),r.ALo(7,"translate"),r.ALo(8,"translate"),r.qZA(),r.TgZ(9,"ion-buttons",3),r.TgZ(10,"ion-button",4),r.NdJ("click",function(){return e.save()}),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"ion-content",5),r.TgZ(14,"div",6),r.TgZ(15,"ion-grid"),r.TgZ(16,"ion-row"),r.TgZ(17,"ion-col",7),r.TgZ(18,"ion-button",8),r.NdJ("click",function(){return e.changeDate(-1)}),r._UZ(19,"ion-icon",9),r.qZA(),r.qZA(),r.TgZ(20,"ion-col",10),r.TgZ(21,"ion-item",6),r._UZ(22,"ion-datetime",11),r.ALo(23,"translate"),r.qZA(),r.qZA(),r.TgZ(24,"ion-col",7),r.TgZ(25,"ion-button",8),r.NdJ("click",function(){return e.changeDate(1)}),r._UZ(26,"ion-icon",12),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(27,"ion-item",13),r._UZ(28,"ion-input",14),r.ALo(29,"translate"),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(6),r.AsE("",r.lcZ(7,11,"ADD")," ",r.lcZ(8,13,"CROP_MOD.FINISHED_WATER"),""),r.xp6(4),r.Q6J("disabled",e.form.invalid),r.xp6(1),r.hij(" ",r.lcZ(12,15,"SAVE")," "),r.xp6(2),r.Q6J("formGroup",e.form),r.xp6(5),r.Q6J("disabled",e.form.value.time<=e.minDate.format("YYYY-MM-DD")),r.xp6(4),r.Q6J("displayFormat",r.lcZ(23,17,"FORMAT_DATE_MOMENT"))("min",e.minDate.format("YYYY-MM-DD"))("max",e.maxDate.format("YYYY-MM-DD")),r.xp6(3),r.Q6J("disabled",e.form.value.time>=e.maxDate.format("YYYY-MM-DD")),r.xp6(3),r.Q6J("placeholder",r.lcZ(29,19,"CROP_MOD.VOLUME")))},directives:[l.Gu,l.sr,l.Sm,l.YG,l.gu,l.wd,l.W2,n.JL,n.sg,l.jY,l.Nd,l.wI,l.Ie,l.x4,l.QI,n.JJ,n.u,l.pK,l.j9,n.Q7],pipes:[d.X$],styles:[""]}),t})()},43284:function(t,e,i){i.d(e,{V:function(){return p}});var n=i(90665),o=i(16738),s=i(27887),a=i(80272),r=i(37716),l=i(47063),c=i(84465),d=i(81780),m=i(38583);function u(t,e){if(1&t&&(r.TgZ(0,"ion-select-option",19),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.Q6J("value",t.id),r.xp6(1),r.hij(" ",t.name," ")}}function g(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"ion-content",6),r.TgZ(1,"div",7),r.TgZ(2,"h1",8),r._uU(3),r.ALo(4,"translate"),r.ALo(5,"number"),r.TgZ(6,"small"),r._uU(7,"m"),r.TgZ(8,"sup"),r._uU(9,"3"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"ion-grid"),r.TgZ(11,"ion-row"),r.TgZ(12,"ion-col",9),r.TgZ(13,"ion-button",10),r.NdJ("click",function(){return r.CHM(t),r.oxw().changeDate(-1)}),r._UZ(14,"ion-icon",11),r.qZA(),r.qZA(),r.TgZ(15,"ion-col",12),r.TgZ(16,"ion-item",7),r._UZ(17,"ion-datetime",13),r.ALo(18,"translate"),r.qZA(),r.qZA(),r.TgZ(19,"ion-col",9),r.TgZ(20,"ion-button",10),r.NdJ("click",function(){return r.CHM(t),r.oxw().changeDate(1)}),r._UZ(21,"ion-icon",14),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(22,"ion-item"),r.TgZ(23,"ion-label",15),r._uU(24),r.ALo(25,"translate"),r.qZA(),r.TgZ(26,"ion-select",16),r.NdJ("ionChange",function(e){return r.CHM(t),r.oxw().selectPond(e)}),r.YNc(27,u,2,2,"ion-select-option",17),r.qZA(),r.qZA(),r.TgZ(28,"ion-item"),r.TgZ(29,"ion-label",15),r._uU(30),r.ALo(31,"translate"),r.TgZ(32,"sup"),r._uU(33,"3"),r.qZA(),r._uU(34,")"),r.qZA(),r._UZ(35,"ion-input",18),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.Q6J("formGroup",t.form),r.xp6(3),r.AsE("",r.lcZ(4,11,"POND_MOD.TOTAL")," ",r.lcZ(5,13,t.totalWater)," "),r.xp6(10),r.Q6J("disabled",t.form.value.time<=t.minDate.format("YYYY-MM-DD")),r.xp6(4),r.Q6J("displayFormat",r.lcZ(18,15,"FORMAT_DATE_MOMENT"))("min",t.minDate.format("YYYY-MM-DD"))("max",t.maxDate.format("YYYY-MM-DD")),r.xp6(3),r.Q6J("disabled",t.form.value.time>=t.maxDate.format("YYYY-MM-DD")),r.xp6(4),r.Oqu(r.lcZ(25,17,"POND_MOD.CHOOSE_POND_DES")),r.xp6(3),r.Q6J("ngForOf",t.targetPonds),r.xp6(3),r.hij("",r.lcZ(31,19,"CROP_MOD.VOLUME")," (m")}}let p=(()=>{class t{constructor(t,e,i,a){this.modalController=t,this.pondService=e,this.toastService=i,this.translate=a,this.maxDate=o(),this.minDate=o().subtract(180,"days"),this.saveLoading=new s.E,this.form=new n.cw({volume_exchange:new n.NI("",[n.kI.required,n.kI.min(1)]),to_code:new n.NI("",n.kI.required),time:new n.NI(o().format("YYYY-MM-DD"),n.kI.required),pid:new n.NI("")}),this.targetPonds=[],this.totalWater=0,this.show=!1}ngOnInit(){this.minDate=this.pondService.seasonStartTime,this.totalWater+=this.data.stock.map(t=>+t.volume).reduce((t,e)=>t+e,0),this.totalWater+=this.data.exchange.map(t=>t.from_code==this.pondService.pond.current_season&&t.id!=this.infor.id?-t.volume_exchange:t.id!=this.infor.id?+t.volume_exchange:0).reduce((t,e)=>t+e,0),this.getPondTargets()}changeDate(t){let e=o(this.form.value.time).add(t,"days");if(e<this.minDate||e>this.maxDate)return!1;this.form.patchValue({time:e.format("YYYY-MM-DD")}),console.log(this.form.value)}getPondTargets(){this.pondService.listPondTargets().subscribe(t=>{if(1==+t.status){this.targetPonds=t.data;let e=this.targetPonds.find(t=>t.current_season==this.infor.to_code);this.form.setValue({volume_exchange:this.infor.volume_exchange,to_code:this.infor.to_code,time:o(1e3*this.infor.time).format("YYYY-MM-DD"),pid:e?e.id:""})}else this.toastService.warning(t.error)},()=>{this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}selectPond(t){let e=this.targetPonds.findIndex(e=>e.id==t.target.value);this.form.patchValue({to_code:e>=0?this.targetPonds[e].current_season:""})}save(){const t={volume_exchange:this.form.value.volume_exchange,to_code:this.form.value.to_code,time:o(this.form.value.time).valueOf()/1e3};this.saveLoading.setPending(!0),this.pondService.editExchange(this.infor.id,t).subscribe(t=>{1==+t.status?(this.toastService.success(this.translate.instant("SHOP.CART.ADDRESS.ADD_SUCCESS")),this.modalController.dismiss(!0)):this.toastService.warning(t.error),this.saveLoading.setResult(!0)},()=>{this.saveLoading.setResult(!1),this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}ionViewDidEnter(){this.show=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(l.IN),r.Y36(a.p),r.Y36(c.k),r.Y36(d.sK))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-edit-exchange-water"]],inputs:{data:"data",infor:"infor"},decls:14,vars:11,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slot","end"],["color","primary",3,"disabled","click"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"ion-text-center"],[1,"title","ion-padding"],["size","2"],["fill","clear",3,"disabled","click"],["slot","icon-only","name","arrow-back"],["size","8"],["formControlName","time",1,"ion-text-center","w-100",3,"displayFormat","min","max"],["slot","icon-only","name","arrow-forward"],["color","primary","position","floating"],["formControlName","pid",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["inputmode","numeric","type","number","formControlName","volume_exchange"],[3,"value"]],template:function(t,e){1&t&&(r.TgZ(0,"ion-header"),r.TgZ(1,"ion-toolbar"),r.TgZ(2,"ion-buttons",0),r.TgZ(3,"ion-button",1),r.NdJ("click",function(){return e.modalController.dismiss()}),r._UZ(4,"ion-icon",2),r.qZA(),r.qZA(),r.TgZ(5,"ion-title"),r._uU(6),r.ALo(7,"translate"),r.ALo(8,"translate"),r.qZA(),r.TgZ(9,"ion-buttons",3),r.TgZ(10,"ion-button",4),r.NdJ("click",function(){return e.save()}),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(13,g,36,21,"ion-content",5)),2&t&&(r.xp6(6),r.AsE("",r.lcZ(7,5,"EDIT")," ",r.lcZ(8,7,"CROP_MOD.WATER_EXCHANGE"),""),r.xp6(4),r.Q6J("disabled",e.form.invalid||e.totalWater<=0||e.form.value.volume_exchange>e.totalWater),r.xp6(1),r.hij(" ",r.lcZ(12,9,"SAVE")," "),r.xp6(2),r.Q6J("ngIf",e.show))},directives:[l.Gu,l.sr,l.Sm,l.YG,l.gu,l.wd,m.O5,l.W2,n.JL,n.sg,l.jY,l.Nd,l.wI,l.Ie,l.x4,l.QI,n.JJ,n.u,l.Q$,l.t9,m.sg,l.pK,l.as,l.n0],pipes:[d.X$,m.JJ],styles:[""]}),t})()},41955:function(t,e,i){i.d(e,{j:function(){return m}});var n=i(90665),o=i(16738),s=i(27887),a=i(80272),r=i(37716),l=i(47063),c=i(84465),d=i(81780);let m=(()=>{class t{constructor(t,e,i,a){this.modalController=t,this.pondService=e,this.toastService=i,this.translate=a,this.form=new n.cw({volume:new n.NI("",[n.kI.required,n.kI.min(1)]),time:new n.NI(o().format("YYYY-MM-DD"),n.kI.required)}),this.maxDate=o(),this.minDate=o().subtract(180,"days"),this.saveLoading=new s.E}ngOnInit(){this.minDate=this.pondService.seasonStartTime,this.form.setValue({volume:this.infor.volume,time:o(1e3*this.infor.time).format("YYYY-MM-DD")})}changeDate(t){let e=o(this.form.value.time).add(t,"days");if(e<this.minDate||e>this.maxDate)return!1;this.form.patchValue({time:e.format("YYYY-MM-DD")}),console.log(this.form.value)}save(){const t={volume:this.form.value.volume,time:o(this.form.value.time).valueOf()/1e3};this.saveLoading.setPending(!0),this.pondService.editStock(this.infor.id,t).subscribe(t=>{1==+t.status?(this.toastService.success(this.translate.instant("SHOP.CART.ADDRESS.UPDATE_SUCCESS")),this.modalController.dismiss(!0)):this.toastService.warning(t.error),this.saveLoading.setResult(!0)},()=>{this.saveLoading.setResult(!1),this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(l.IN),r.Y36(a.p),r.Y36(c.k),r.Y36(d.sK))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-edit-finished-water"]],inputs:{infor:"infor"},decls:30,vars:21,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slot","end"],["color","primary",3,"disabled","click"],[3,"formGroup"],[1,"ion-text-center"],["size","2"],["fill","clear",3,"disabled","click"],["slot","icon-only","name","arrow-back"],["size","8"],["formControlName","time",1,"ion-text-center","w-100",3,"displayFormat","min","max"],["slot","icon-only","name","arrow-forward"],["lines","none",1,"ion-text-center"],["type","tel","inputmode","decimal","required","","autofocus","","formControlName","volume",1,"l-r",3,"placeholder"]],template:function(t,e){1&t&&(r.TgZ(0,"ion-header"),r.TgZ(1,"ion-toolbar"),r.TgZ(2,"ion-buttons",0),r.TgZ(3,"ion-button",1),r.NdJ("click",function(){return e.modalController.dismiss()}),r._UZ(4,"ion-icon",2),r.qZA(),r.qZA(),r.TgZ(5,"ion-title"),r._uU(6),r.ALo(7,"translate"),r.ALo(8,"translate"),r.qZA(),r.TgZ(9,"ion-buttons",3),r.TgZ(10,"ion-button",4),r.NdJ("click",function(){return e.save()}),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"ion-content",5),r.TgZ(14,"div",6),r.TgZ(15,"ion-grid"),r.TgZ(16,"ion-row"),r.TgZ(17,"ion-col",7),r.TgZ(18,"ion-button",8),r.NdJ("click",function(){return e.changeDate(-1)}),r._UZ(19,"ion-icon",9),r.qZA(),r.qZA(),r.TgZ(20,"ion-col",10),r.TgZ(21,"ion-item",6),r._UZ(22,"ion-datetime",11),r.ALo(23,"translate"),r.qZA(),r.qZA(),r.TgZ(24,"ion-col",7),r.TgZ(25,"ion-button",8),r.NdJ("click",function(){return e.changeDate(1)}),r._UZ(26,"ion-icon",12),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(27,"ion-item",13),r._UZ(28,"ion-input",14),r.ALo(29,"translate"),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(6),r.AsE("",r.lcZ(7,11,"EDIT")," ",r.lcZ(8,13,"CROP_MOD.FINISHED_WATER"),""),r.xp6(4),r.Q6J("disabled",e.form.invalid),r.xp6(1),r.hij(" ",r.lcZ(12,15,"SAVE")," "),r.xp6(2),r.Q6J("formGroup",e.form),r.xp6(5),r.Q6J("disabled",e.form.value.time<=e.minDate.format("YYYY-MM-DD")),r.xp6(4),r.Q6J("displayFormat",r.lcZ(23,17,"FORMAT_DATE_MOMENT"))("min",e.minDate.format("YYYY-MM-DD"))("max",e.maxDate.format("YYYY-MM-DD")),r.xp6(3),r.Q6J("disabled",e.form.value.time>=e.maxDate.format("YYYY-MM-DD")),r.xp6(3),r.Q6J("placeholder",r.lcZ(29,19,"CROP_MOD.VOLUME")))},directives:[l.Gu,l.sr,l.Sm,l.YG,l.gu,l.wd,l.W2,n.JL,n.sg,l.jY,l.Nd,l.wI,l.Ie,l.x4,l.QI,n.JJ,n.u,l.pK,l.j9,n.Q7],pipes:[d.X$],styles:[""]}),t})()},35498:function(t,e,i){i.d(e,{f:function(){return b}});var n=i(64762),o=i(37716),s=i(27887),a=i(80272),r=i(66031),l=i(30454),c=i(7539),d=i(43284),m=i(41955),u=i(47063),g=i(81780),p=i(13619),h=i(84465),Z=i(38583),f=i(73473);const A=function(){return["company_manager","farm_manager","pond_operator","pond_manager"]};function v(t,e){if(1&t&&o._UZ(0,"ion-icon",7),2&t){const t=o.oxw();o.Q6J("appPermission",o.DdM(2,A))("currentPermission",t.pondService.permission)}}function T(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"ion-item"),o.TgZ(1,"ion-label"),o._uU(2),o.ALo(3,"date"),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"span",12),o._uU(6),o.ALo(7,"number"),o.TgZ(8,"sup"),o._uU(9,"3"),o.qZA(),o.qZA(),o.TgZ(10,"ion-button",13),o.NdJ("click",function(e){const i=o.CHM(t),n=i.$implicit,s=i.index,a=o.oxw(2);return a.enableSort?e.stopPropagation():a.openEditFinishedWater(n,s)}),o._UZ(11,"ion-icon",14),o.qZA(),o.qZA()}if(2&t){const t=e.$implicit,i=e.index,n=o.oxw(2);o.xp6(2),o.hij(" ",o.xi3(3,5,1e3*t.time,o.lcZ(4,8,"FORMAT_DATE_S"))," "),o.xp6(4),o.hij("",o.xi3(7,10,t.volume,"1.0-0")," m"),o.xp6(4),o.Q6J("appPermission",o.DdM(13,A))("currentPermission",n.pondService.permission)("disabled",i<n.data.stock.length-1)}}function x(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"ion-item"),o.TgZ(1,"ion-label"),o.TgZ(2,"p"),o._uU(3),o.ALo(4,"date"),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"ion-text",15),o._UZ(7,"ion-icon",16),o._uU(8),o.qZA(),o.qZA(),o.TgZ(9,"span",12),o._uU(10),o.ALo(11,"number"),o.TgZ(12,"sup"),o._uU(13,"3"),o.qZA(),o.qZA(),o.TgZ(14,"ion-button",13),o.NdJ("click",function(e){const i=o.CHM(t),n=i.$implicit,s=i.index,a=o.oxw(2);return a.enableSort?e.stopPropagation():a.openEditExchangeWater(n,s)}),o._UZ(15,"ion-icon",14),o.qZA(),o.qZA()}if(2&t){const t=e.$implicit,i=e.index,n=o.oxw(2);o.xp6(3),o.hij(" ",o.xi3(4,7,1e3*t.time,o.lcZ(5,10,"FORMAT_DATE_S"))," "),o.xp6(4),o.Q6J("name","in"==t.type?"arrow-back-circle-outline":"arrow-forward-circle-outline"),o.xp6(1),o.hij(" ",t.name_target,""),o.xp6(2),o.hij("",o.xi3(11,12,t.volume_exchange,"1.0-0")," m"),o.xp6(4),o.Q6J("appPermission",o.DdM(15,A))("currentPermission",n.pondService.permission)("disabled",n.checkExchangeAvaiable(t,i))}}function _(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"ion-list",8),o.TgZ(2,"ion-item"),o.TgZ(3,"ion-label"),o.TgZ(4,"p"),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.qZA(),o.TgZ(7,"ion-button",9),o.NdJ("click",function(e){o.CHM(t);const i=o.oxw();return i.enableSort?e.stopPropagation():i.openAddFinishedWater()}),o._UZ(8,"ion-icon",10),o.qZA(),o.qZA(),o.YNc(9,T,12,14,"ion-item",11),o.qZA(),o.TgZ(10,"ion-list",8),o.TgZ(11,"ion-item"),o.TgZ(12,"ion-label"),o.TgZ(13,"p"),o._uU(14),o.ALo(15,"translate"),o.qZA(),o.qZA(),o.TgZ(16,"ion-button",9),o.NdJ("click",function(e){o.CHM(t);const i=o.oxw();return i.enableSort?e.stopPropagation():i.openAddExchangeWater()}),o._UZ(17,"ion-icon",10),o.qZA(),o.qZA(),o.YNc(18,x,16,16,"ion-item",11),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.xp6(5),o.Oqu(o.lcZ(6,8,"CROP_MOD.FINISHED_WATER")),o.xp6(2),o.Q6J("appPermission",o.DdM(12,A))("currentPermission",t.pondService.permission),o.xp6(2),o.Q6J("ngForOf",t.data.stock),o.xp6(5),o.Oqu(o.lcZ(15,10,"CROP_MOD.WATER_EXCHANGE")),o.xp6(2),o.Q6J("appPermission",o.DdM(13,A))("currentPermission",t.pondService.permission),o.xp6(2),o.Q6J("ngForOf",t.data.exchange)}}function q(t,e){1&t&&(o.TgZ(0,"div"),o._UZ(1,"ion-spinner",17),o.qZA())}function D(t,e){if(1&t&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&t){const t=o.oxw();o.xp6(1),o.Oqu(t.message)}}function Y(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"ion-buttons",18),o.TgZ(1,"ion-button",19),o.NdJ("click",function(){return o.CHM(t),o.oxw().upBlockProperty()}),o._UZ(2,"ion-icon",20),o.qZA(),o.TgZ(3,"ion-button",19),o.NdJ("click",function(){return o.CHM(t),o.oxw().downBlockProperty()}),o._UZ(4,"ion-icon",21),o.qZA(),o.qZA()}}let b=(()=>{class t{constructor(t,e,i,n,a){this.pondService=t,this.modalController=e,this.translate=i,this.router=n,this.toastService=a,this.loadingFlag=new s.E,this.message="",this.data={stock:[],exchange:[]},this.eventUp=new o.vpe,this.eventDown=new o.vpe,this.eventRemove=new o.vpe}ngOnInit(){this.loadData()}loadData(){this.loadingFlag.setPending(!0),this.pondService.listWater().subscribe(t=>{this.loadingFlag.setResult(!0),1==+t.status?this.data=t.data:this.message=t.error},()=>{this.loadingFlag.setResult(!1),this.message=this.translate.instant("ERROR_CONNECT")})}upBlockProperty(){this.eventUp.emit(this.index)}downBlockProperty(){this.eventDown.emit(this.index)}removeBlock(){this.eventRemove.emit(this.index)}openDetail(){return(0,n.mG)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:r.O,componentProps:{type:"enviro",code:this.pondService.pond.current_season,time:this.pondService.seasonStartTime}})).present()})}openAddExchangeWater(){return(0,n.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:l.m,componentProps:{data:this.data}});return t.onDidDismiss().then(t=>{t.data&&this.loadData()}),yield t.present()})}openAddFinishedWater(){return(0,n.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:c.j,componentProps:{data:this.data}});return t.onDidDismiss().then(t=>{t.data&&this.loadData()}),yield t.present()})}openEditFinishedWater(t,e){return(0,n.mG)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:m.j,componentProps:{infor:t,data:this.data}});return e.onDidDismiss().then(t=>{t.data&&this.loadData()}),yield e.present()})}openEditExchangeWater(t,e){return(0,n.mG)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:d.V,componentProps:{infor:t,data:this.data}});return e.onDidDismiss().then(t=>{t.data&&this.loadData()}),yield e.present()})}checkExchangeAvaiable(t,e){if("in"==t.type)return!0;var i=this.data.exchange.filter(t=>"out"==t.type),n=i.length-1;return n>=0&&t.id!=i[n].id}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(a.p),o.Y36(u.IN),o.Y36(g.sK),o.Y36(p.F0),o.Y36(h.k))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-treatment"]],inputs:{enableSort:"enableSort",index:"index"},outputs:{eventUp:"eventUp",eventDown:"eventDown",eventRemove:"eventRemove"},decls:14,vars:9,consts:[["mode","ios",3,"ngClass"],[1,"treatment",3,"click"],["name","git-compare-outline",1,"icon-f"],["class","icon-detail","name","chevron-forward-outline",3,"appPermission","currentPermission",4,"ngIf"],[4,"ngIf"],[1,"ion-text-center"],["class","ion-float-end",4,"ngIf"],["name","chevron-forward-outline",1,"icon-detail",3,"appPermission","currentPermission"],["lines","none","mode","ios"],["shape","round","fill","clear","size","default","slot","end",3,"appPermission","currentPermission","click"],["name","add-circle-outline","slot","icon-only"],[4,"ngFor","ngForOf"],["slot","end",1,"ion-margin"],["slot","end","shape","round","fill","clear","size","default",3,"appPermission","currentPermission","disabled","click"],["src","assets/icon/edit-24px.svg","slot","icon-only"],[1,"pondTarget"],[3,"name"],["name","dots"],[1,"ion-float-end"],["size","small","color","tertiary",3,"click"],["name","chevron-up-circle-outline"],["name","chevron-down-circle-outline"]],template:function(t,e){1&t&&(o.TgZ(0,"div"),o.TgZ(1,"ion-card",0),o.TgZ(2,"ion-card-header",1),o.NdJ("click",function(t){return e.enableSort?t.stopPropagation():e.openDetail()}),o.TgZ(3,"ion-card-subtitle"),o._UZ(4,"ion-icon",2),o._uU(5),o.ALo(6,"translate"),o.YNc(7,v,1,3,"ion-icon",3),o.qZA(),o.qZA(),o.YNc(8,_,19,14,"div",4),o.TgZ(9,"div",5),o.YNc(10,q,2,0,"div",4),o.YNc(11,D,2,1,"p",4),o.qZA(),o.TgZ(12,"div"),o.YNc(13,Y,5,0,"ion-buttons",6),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngClass",e.enableSort?"jiggleBlock":""),o.xp6(4),o.hij(" ",o.lcZ(6,7,"POND_MOD.WATER_TREAMENT")," "),o.xp6(2),o.Q6J("ngIf",!e.enableSort),o.xp6(1),o.Q6J("ngIf",!e.enableSort),o.xp6(2),o.Q6J("ngIf",e.loadingFlag.pending),o.xp6(1),o.Q6J("ngIf",e.message),o.xp6(2),o.Q6J("ngIf",e.enableSort))},directives:[u.PM,Z.mk,u.Zi,u.tO,u.gu,Z.O5,f.l,u.q_,u.Ie,u.Q$,u.YG,Z.sg,u.yW,u.PQ,u.Sm],pipes:[g.X$,Z.uU,Z.JJ],styles:["[_nghost-%COMP%]   .treatment[_ngcontent-%COMP%]{background-image:linear-gradient(to right,#3C3B3F,#605C3C)}[_nghost-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:#fff!important;padding-left:3em}[_nghost-%COMP%]   ion-icon.icon-f[_ngcontent-%COMP%]{font-size:2em;position:absolute;left:0;top:-.2em}[_nghost-%COMP%]   .jiggleBlock[_ngcontent-%COMP%]{animation:jiggle .4s infinite;-webkit-animation:jiggle .4s infinite;-moz-animation-duration:.4s;-moz-animation-name:jiggle;-moz-animation-iteration-count:infinite;-webkit-transform:rotate(-1deg);-moz-transform:rotate(-1deg)}@keyframes jiggle{0%{transform:rotate(-1deg)}50%{transform:rotate(1deg)}}@-webkit-keyframes jiggle{0%{-webkit-transform:rotate(-1deg)}50%{-webkit-transform:rotate(1deg)}}[_nghost-%COMP%]   .btnRemoveBlock[_ngcontent-%COMP%]{position:absolute;top:0;right:0}[_nghost-%COMP%]   .disableEvent[_ngcontent-%COMP%]{pointer-events:none!important}[_nghost-%COMP%]   .pondTarget[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:start}"]}),t})()}}]);