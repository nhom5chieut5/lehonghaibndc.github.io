!function(){"use strict";function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function e(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[6637],{27887:function(t,i,o){o.d(i,{E:function(){return r}});var r=function(){function t(){n(this,t),this.start=null,this.end=null,this.pending=null,this.result=null,this.count=0}return e(t,[{key:"setStart",value:function(n){this.start=n,!0===n&&(this.pending=!0,this.end=!1),this.result=null,this.count++}},{key:"setPending",value:function(n){this.pending=n,!1===n?this.start=!1:this.end=!0}},{key:"setResult",value:function(n){this.result=n,this.pending=!1,this.start=!1,this.end=!0}}]),t}()},46637:function(t,i,o){o.r(i),o.d(i,{TraceabilityPageModule:function(){return y}});var r,l=o(38583),u=o(90665),a=o(13619),s=o(47063),Z=o(64762),c=o(62166),A=o(37716),g=o(81780),T=((r=function(){function t(e,i){n(this,t),this.modalController=e,this.translate=i}return e(t,[{key:"ngOnInit",value:function(){}},{key:"presentScan",value:function(){return(0,Z.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalController.create({component:c.M});case 2:return n.next=4,n.sent.present();case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},n,this)}))}}]),t}()).\u0275fac=function(n){return new(n||r)(A.Y36(s.IN),A.Y36(g.sK))},r.\u0275cmp=A.Xpm({type:r,selectors:[["app-traceability"]],decls:11,vars:3,consts:[["slot","start"],["slot","end"],[3,"click"],["name","scan-outline"]],template:function(n,t){1&n&&(A.TgZ(0,"ion-header"),A.TgZ(1,"ion-toolbar"),A.TgZ(2,"ion-buttons",0),A._UZ(3,"ion-menu-button"),A.qZA(),A.TgZ(4,"ion-title"),A._uU(5),A.ALo(6,"translate"),A.qZA(),A.TgZ(7,"ion-buttons",1),A.TgZ(8,"ion-button",2),A.NdJ("click",function(){return t.presentScan()}),A._UZ(9,"ion-icon",3),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A._UZ(10,"ion-content")),2&n&&(A.xp6(5),A.Oqu(A.lcZ(6,1,"TRACEABILITY")))},directives:[s.Gu,s.sr,s.Sm,s.fG,s.wd,s.YG,s.gu,s.W2],pipes:[g.X$],styles:[""]}),r),p=o(81933),q=o(27887),f=o(84465);function h(n,t){1&n&&(A.TgZ(0,"div"),A._UZ(1,"ion-spinner",5),A.qZA())}function _(n,t){if(1&n&&(A.TgZ(0,"div"),A.TgZ(1,"p"),A.TgZ(2,"ion-text",6),A._uU(3),A.qZA(),A.qZA(),A.qZA()),2&n){var e=A.oxw();A.xp6(3),A.Oqu(e.message)}}function d(n,t){if(1&n&&(A.TgZ(0,"p"),A._uU(1),A.ALo(2,"translate"),A.ALo(3,"number"),A.ALo(4,"translate"),A.qZA()),2&n){var e=A.oxw(2);A.xp6(1),A.lnq("",A.lcZ(2,3,"TRACEABILITY_MOD.STOCKING")," ",A.xi3(3,5,(e.now-e.result.info.seed_date)/86400,"0.0-0")," ",A.lcZ(4,8,"TRACEABILITY_MOD.DAY_OLD"),"")}}function m(n,t){1&n&&(A.TgZ(0,"p"),A._uU(1),A.ALo(2,"translate"),A.qZA()),2&n&&(A.xp6(1),A.Oqu(A.lcZ(2,1,"TRACEABILITY_MOD.CANCELED")))}function x(n,t){if(1&n&&(A.TgZ(0,"p"),A._uU(1),A.ALo(2,"translate"),A.ALo(3,"translate"),A.qZA()),2&n){var e=A.oxw(2);A.xp6(1),A.lnq("",A.lcZ(2,3,"TRACEABILITY_MOD.HARVESTED")," ",null==e.result.buyer?null:e.result.buyer.length," ",A.lcZ(3,5,"TRACEABILITY_MOD.TIMES"),"")}}function O(n,t){if(1&n&&(A.TgZ(0,"ion-item"),A.TgZ(1,"ion-label"),A.TgZ(2,"h2"),A._uU(3),A.ALo(4,"translate"),A.qZA(),A.TgZ(5,"p"),A._uU(6),A.ALo(7,"number"),A.ALo(8,"translate"),A.qZA(),A.qZA(),A.qZA()),2&n){var e=A.oxw(2);A.xp6(3),A.Oqu(A.lcZ(4,3,"POND_MOD.STOCKING_TIME")),A.xp6(3),A.AsE("",A.xi3(7,5,(e.result.info.end_time-e.result.info.seed_date)/86400,"0.0-0")," ",A.lcZ(8,8,"DAY"),"")}}function I(n,t){if(1&n&&(A.TgZ(0,"ion-item"),A.TgZ(1,"ion-label"),A.TgZ(2,"h2"),A._uU(3),A.ALo(4,"translate"),A.qZA(),A.TgZ(5,"p"),A._uU(6),A.qZA(),A.qZA(),A.qZA()),2&n){var e=A.oxw(2);A.xp6(3),A.Oqu(A.lcZ(4,2,"POND_MOD.PROCEDURE")),A.xp6(3),A.Oqu(e.result.procedure.name)}}function b(n,t){if(1&n&&(A.TgZ(0,"ion-item"),A.TgZ(1,"ion-note",0),A._uU(2),A.qZA(),A.TgZ(3,"ion-label"),A.TgZ(4,"h2"),A._uU(5),A.ALo(6,"number"),A.ALo(7,"date"),A.ALo(8,"translate"),A.qZA(),A.TgZ(9,"p"),A._uU(10),A.qZA(),A.qZA(),A.qZA()),2&n){var e=t.$implicit,i=t.index;A.xp6(2),A.Oqu(i+1),A.xp6(3),A.AsE("",A.xi3(6,4,e.harvest_quantity,".0-1")," kg (",A.xi3(7,7,1e3*e.add_time,A.lcZ(8,10,"FORMAT_DATE")),")"),A.xp6(5),A.Oqu(e.buyer)}}function L(n,t){if(1&n&&(A.TgZ(0,"ion-list",7),A.TgZ(1,"ion-list-header",8),A.TgZ(2,"ion-label"),A._uU(3),A.ALo(4,"translate"),A.qZA(),A.qZA(),A.YNc(5,b,11,12,"ion-item",10),A.qZA()),2&n){var e=A.oxw(2);A.xp6(3),A.Oqu(A.lcZ(4,2,"POND_MOD.HARVEST")),A.xp6(2),A.Q6J("ngForOf",e.result.buyer)}}function U(n,t){if(1&n&&(A.TgZ(0,"p"),A._uU(1),A.qZA()),2&n){var e=t.$implicit;A.xp6(1),A.Oqu(e.supplier)}}function v(n,t){if(1&n&&(A.TgZ(0,"ion-item"),A.TgZ(1,"ion-label"),A.TgZ(2,"h2"),A._uU(3),A.ALo(4,"translate"),A.qZA(),A.YNc(5,U,2,1,"p",10),A.qZA(),A.qZA()),2&n){var e=A.oxw(2);A.xp6(3),A.Oqu(A.lcZ(4,2,"TRACEABILITY_MOD.FINGERLING")),A.xp6(2),A.Q6J("ngForOf",e.result.seed)}}function E(n,t){if(1&n&&(A.TgZ(0,"ion-chip",13),A.TgZ(1,"ion-label"),A._uU(2),A.qZA(),A.qZA()),2&n){var e=t.$implicit;A.xp6(2),A.Oqu(e.name)}}function R(n,t){if(1&n&&(A.TgZ(0,"ion-item"),A.TgZ(1,"ion-label",11),A.TgZ(2,"h2"),A._uU(3),A.ALo(4,"translate"),A.qZA(),A.TgZ(5,"p"),A.YNc(6,E,3,1,"ion-chip",12),A.qZA(),A.qZA(),A.qZA()),2&n){var e=A.oxw(2);A.xp6(3),A.Oqu(A.lcZ(4,2,"TRACEABILITY_MOD.FEED_WATER_TREATMENT")),A.xp6(3),A.Q6J("ngForOf",e.result.manufacturer)}}function Y(n,t){if(1&n&&(A.TgZ(0,"div"),A.TgZ(1,"ion-list",7),A.TgZ(2,"ion-list-header",8),A.TgZ(3,"ion-label"),A._uU(4),A.ALo(5,"translate"),A.qZA(),A.qZA(),A.TgZ(6,"ion-item"),A.TgZ(7,"ion-label"),A.TgZ(8,"h2"),A._uU(9),A.ALo(10,"translate"),A.qZA(),A.TgZ(11,"p"),A._uU(12),A.qZA(),A.qZA(),A.qZA(),A.TgZ(13,"ion-item"),A.TgZ(14,"ion-label"),A.TgZ(15,"h2"),A._uU(16),A.ALo(17,"translate"),A.qZA(),A.TgZ(18,"p"),A._uU(19),A.ALo(20,"date"),A.ALo(21,"translate"),A.qZA(),A.qZA(),A.qZA(),A.TgZ(22,"ion-item"),A.TgZ(23,"ion-label"),A.TgZ(24,"h2"),A._uU(25),A.ALo(26,"translate"),A.qZA(),A.YNc(27,d,5,10,"p",4),A.YNc(28,m,3,3,"p",4),A.YNc(29,x,4,7,"p",4),A.qZA(),A.qZA(),A.TgZ(30,"ion-item"),A.TgZ(31,"ion-label"),A.TgZ(32,"h2"),A._uU(33),A.ALo(34,"translate"),A.qZA(),A.TgZ(35,"p"),A._uU(36),A.ALo(37,"number"),A.ALo(38,"translate"),A.ALo(39,"number"),A.ALo(40,"translate"),A.qZA(),A.qZA(),A.qZA(),A.TgZ(41,"ion-item"),A.TgZ(42,"ion-label"),A.TgZ(43,"h2"),A._uU(44),A.ALo(45,"translate"),A.qZA(),A.TgZ(46,"p"),A._uU(47),A.ALo(48,"number"),A.qZA(),A.qZA(),A.qZA(),A.YNc(49,O,9,10,"ion-item",4),A.YNc(50,I,7,4,"ion-item",4),A.qZA(),A.YNc(51,L,6,4,"ion-list",9),A.TgZ(52,"ion-list",7),A.TgZ(53,"ion-list-header",8),A.TgZ(54,"ion-label"),A._uU(55),A.ALo(56,"translate"),A.qZA(),A.qZA(),A.YNc(57,v,6,4,"ion-item",4),A.YNc(58,R,7,4,"ion-item",4),A.qZA(),A.TgZ(59,"ion-list",7),A.TgZ(60,"ion-list-header",8),A.TgZ(61,"ion-label"),A._uU(62),A.ALo(63,"translate"),A.qZA(),A.qZA(),A.TgZ(64,"ion-item"),A.TgZ(65,"ion-label"),A.TgZ(66,"h2"),A._uU(67),A.ALo(68,"translate"),A.qZA(),A.TgZ(69,"p"),A._uU(70),A.qZA(),A.qZA(),A.qZA(),A.TgZ(71,"ion-item"),A.TgZ(72,"ion-label"),A.TgZ(73,"h2"),A._uU(74),A.ALo(75,"translate"),A.qZA(),A.TgZ(76,"p"),A._uU(77),A.qZA(),A.TgZ(78,"p"),A._uU(79),A.qZA(),A.qZA(),A.qZA(),A.TgZ(80,"ion-item"),A.TgZ(81,"ion-label"),A.TgZ(82,"h2"),A._uU(83),A.ALo(84,"translate"),A.qZA(),A.TgZ(85,"p"),A._uU(86),A.ALo(87,"number"),A.TgZ(88,"sup"),A._uU(89,"2"),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA()),2&n){var e=A.oxw();A.xp6(4),A.Oqu(A.lcZ(5,32,"TRACEABILITY_MOD.CROP_INFORMATION")),A.xp6(5),A.Oqu(A.lcZ(10,34,"TRACEABILITY_MOD.SPECIES")),A.xp6(3),A.Oqu(e.result.info.species_name),A.xp6(4),A.Oqu(A.lcZ(17,36,"TRACEABILITY_MOD.START_TIME")),A.xp6(3),A.Oqu(A.xi3(20,38,1e3*e.result.info.start_time,A.lcZ(21,41,"FORMAT_DATE"))),A.xp6(6),A.Oqu(A.lcZ(26,43,"TRACEABILITY_MOD.STATUS")),A.xp6(2),A.Q6J("ngIf",0==e.result.info.end_time),A.xp6(1),A.Q6J("ngIf",e.result.info.end_time>0&&null==e.result.buyer),A.xp6(1),A.Q6J("ngIf",null==e.result.buyer?null:e.result.buyer.length),A.xp6(4),A.Oqu(A.lcZ(34,45,"POND_MOD.SIZE")),A.xp6(3),A.HOy("",A.xi3(37,47,null==e.result.info?null:e.result.info.harvest_size,".0-2")," gr/",A.lcZ(38,50,"PCS")," (",A.xi3(39,52,1e3/(null==e.result.info?null:e.result.info.harvest_size),".0-2")," ",A.lcZ(40,55,"PCS"),"/kg)"),A.xp6(8),A.Oqu(A.lcZ(45,57,"TRACEABILITY_MOD.QUANTITY")),A.xp6(3),A.hij("",A.xi3(48,59,e.result.info.harvest_quantity,".0-1")," kg"),A.xp6(2),A.Q6J("ngIf",e.result.info.end_time>0),A.xp6(1),A.Q6J("ngIf",e.result.procedure),A.xp6(1),A.Q6J("ngIf",e.result.buyer),A.xp6(4),A.Oqu(A.lcZ(56,62,"TRACEABILITY_MOD.SUPPLIER")),A.xp6(2),A.Q6J("ngIf",e.result.seed),A.xp6(1),A.Q6J("ngIf",e.result.manufacturer),A.xp6(4),A.Oqu(A.lcZ(63,64,"TRACEABILITY_MOD.FARM_INFORMATION")),A.xp6(5),A.Oqu(A.lcZ(68,66,"FARM_OWNER")),A.xp6(3),A.Oqu(e.result.owner.farm.fullname),A.xp6(4),A.Oqu(A.lcZ(75,68,"POND_MOD.FARM")),A.xp6(3),A.Oqu(e.result.owner.farm.name),A.xp6(2),A.Oqu(e.result.owner.farm.address),A.xp6(4),A.Oqu(A.lcZ(84,70,"POND_MOD.POND")),A.xp6(3),A.lnq("",e.result.owner.pond.name," : ",A.xi3(87,72,e.result.owner.pond.area,".0-1"),"x",e.result.owner.pond.deep,"m")}}var N=function(){var t=function(){function t(e,i,o,r){n(this,t),this.route=e,this.toastService=i,this.traceabilityService=o,this.translate=r,this.loadingFlag=new q.E,this.now=(new Date).valueOf()/1e3,this.message="",this.code=""}return e(t,[{key:"ngOnInit",value:function(){this.code=this.route.snapshot.paramMap.get("code"),this.responseTrace()}},{key:"responseTrace",value:function(){var n=this;this.loadingFlag.setStart(!0),this.traceabilityService.getCrop(this.code).subscribe(function(t){console.log(t),1==t.status?n.result=t.data:n.message=t.message,n.loadingFlag.setResult(!0)},function(){n.loadingFlag.setResult(!1),n.toastService.danger(n.translate.instant("ERROR_CONNECT"))})}}]),t}();return t.\u0275fac=function(n){return new(n||t)(A.Y36(a.gz),A.Y36(f.k),A.Y36(p.X),A.Y36(g.sK))},t.\u0275cmp=A.Xpm({type:t,selectors:[["app-traceability-result"]],decls:16,vars:8,consts:[["slot","start"],["text","","defaultHref","tabs/management"],[1,"ion-text-center","ion-padding"],[3,"src"],[4,"ngIf"],["name","dots"],["color","danger"],["lines","none"],["lines","inset"],["lines","none",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"ion-text-wrap"],["color","secondary",4,"ngFor","ngForOf"],["color","secondary"]],template:function(n,t){1&n&&(A.TgZ(0,"ion-header"),A.TgZ(1,"ion-toolbar"),A.TgZ(2,"ion-buttons",0),A._UZ(3,"ion-back-button",1),A.qZA(),A.TgZ(4,"ion-title"),A._uU(5),A.ALo(6,"translate"),A.qZA(),A.qZA(),A.qZA(),A.TgZ(7,"ion-content"),A.TgZ(8,"div",2),A._UZ(9,"img",3),A._UZ(10,"br"),A.TgZ(11,"span"),A._uU(12),A.qZA(),A.YNc(13,h,2,0,"div",4),A.YNc(14,_,4,1,"div",4),A.qZA(),A.YNc(15,Y,90,75,"div",4),A.qZA()),2&n&&(A.xp6(5),A.Oqu(A.lcZ(6,6,"TRACE.RESULT")),A.xp6(4),A.Q6J("src","https://chart.googleapis.com/chart?chs=160x160&cht=qr&chl=crop:"+t.code+"&choe=UTF-8",A.LSH),A.xp6(3),A.hij("#",t.code,""),A.xp6(1),A.Q6J("ngIf",t.loadingFlag.pending),A.xp6(1),A.Q6J("ngIf",t.loadingFlag.result&&""!=t.message),A.xp6(1),A.Q6J("ngIf",t.loadingFlag.result&&t.result))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.wd,s.W2,l.O5,s.PQ,s.yW,s.q_,s.yh,s.Q$,s.Ie,l.sg,s.uN,s.hM],pipes:[g.X$,l.uU,l.JJ],styles:[""]}),t}(),D=[{path:"",component:T},{path:"result",component:N},{path:"result/:code",component:N}],y=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=A.oAB({type:t}),t.\u0275inj=A.cJS({imports:[[l.ez,u.u5,s.Pc,a.Bz.forChild(D),g.aw.forChild()]]}),t}()}}])}();