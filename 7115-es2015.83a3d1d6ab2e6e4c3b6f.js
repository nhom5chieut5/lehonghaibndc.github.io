"use strict";(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[7115],{96895:function(t,n,e){e.d(n,{y:function(){return b}});var i=e(27887),o=e(19228),s=e(37716),a=e(84465),l=e(81780),r=e(47063),c=e(90665),u=e(38583);function g(t,n){1&t&&s._UZ(0,"ion-progress-bar",9)}function m(t,n){if(1&t&&(s.TgZ(0,"ion-text",17),s._uU(1),s.ALo(2,"translate"),s.ALo(3,"number"),s.qZA()),2&t){const t=s.oxw(2).$implicit;s.xp6(1),s.AsE(" ",s.lcZ(2,2,"MONEY_MOD.NEED_PAY")," ",s.lcZ(3,4,t.amounts-t.amounts_payed),"\u0111 ")}}function Z(t,n){if(1&t&&(s.TgZ(0,"ion-text",18),s._uU(1),s.ALo(2,"translate"),s.ALo(3,"number"),s.qZA()),2&t){const t=s.oxw(2).$implicit;s.xp6(1),s.AsE(" ",s.lcZ(2,2,"MONEY_MOD.NEED_COLLECT")," ",s.lcZ(3,4,t.amounts-t.amounts_payed),"\u0111 ")}}function p(t,n){if(1&t&&(s.TgZ(0,"ion-item"),s.TgZ(1,"ion-label"),s.TgZ(2,"p"),s.TgZ(3,"b"),s._uU(4),s.qZA(),s._UZ(5,"ion-icon",11),s.qZA(),s.TgZ(6,"p"),s._uU(7),s.ALo(8,"date"),s.qZA(),s.TgZ(9,"h3"),s._uU(10),s.qZA(),s.qZA(),s.TgZ(11,"ion-label",12),s.TgZ(12,"p",13),s.TgZ(13,"ion-text",14),s._uU(14),s.ALo(15,"number"),s.qZA(),s.qZA(),s.TgZ(16,"p",13),s.YNc(17,m,4,6,"ion-text",15),s.YNc(18,Z,4,6,"ion-text",16),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw().$implicit;s.xp6(4),s.AsE("#",t.id," ",t.group_name?t.group_name:"None",""),s.xp6(1),s.Q6J("name",1==+t.confirm?"checkbox":"help-circle")("color",1==+t.confirm?"success":"danger"),s.xp6(2),s.hij(" ",s.xi3(8,10,1e3*t.add_time,"d-MM-Y")," "),s.xp6(3),s.hij(" ",t.title," "),s.xp6(3),s.Q6J("color","in"==t.cr?"success":"danger"),s.xp6(1),s.hij(" ",s.lcZ(15,13,t.amounts),"\u0111 "),s.xp6(3),s.Q6J("ngIf","out"==t.cr&&+t.amounts_payed<+t.amounts),s.xp6(1),s.Q6J("ngIf","in"==t.cr&&+t.amounts_payed<+t.amounts)}}function d(t,n){if(1&t&&(s.TgZ(0,"div"),s.YNc(1,p,19,15,"ion-item",8),s.qZA()),2&t){const t=n.$implicit;s.xp6(1),s.Q6J("ngIf",4!=+t.group_id)}}function h(t,n){if(1&t&&(s.TgZ(0,"ion-list"),s.YNc(1,d,2,1,"div",10),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.list)}}function A(t,n){if(1&t&&(s.TgZ(0,"ion-item"),s._UZ(1,"ion-icon",11),s.TgZ(2,"ion-label"),s.TgZ(3,"p"),s.TgZ(4,"b"),s._uU(5),s.qZA(),s.qZA(),s.TgZ(6,"p"),s._uU(7),s.ALo(8,"date"),s.qZA(),s.TgZ(9,"h3"),s._uU(10),s.qZA(),s.qZA(),s.TgZ(11,"ion-text",19),s._uU(12),s.ALo(13,"number"),s.qZA(),s.qZA()),2&t){const t=s.oxw().$implicit;s.xp6(1),s.Q6J("name",1==+t.confirm?"checkbox":"help-circle")("color",1==+t.confirm?"success":"danger"),s.xp6(4),s.AsE("#",t.bill_id," ",t.group_name?t.group_name:"None",""),s.xp6(2),s.hij(" ",s.xi3(8,7,1e3*t.add_time,"d-MM-Y")," "),s.xp6(3),s.hij(" ",t.title," "),s.xp6(2),s.hij(" ",s.lcZ(13,10,t.amounts_payed),"\u0111 ")}}function x(t,n){if(1&t&&(s.TgZ(0,"div"),s.YNc(1,A,14,12,"ion-item",8),s.qZA()),2&t){const t=n.$implicit;s.xp6(1),s.Q6J("ngIf",4==+t.group_id&&"out"==t.cr)}}function f(t,n){if(1&t&&(s.TgZ(0,"ion-list"),s.YNc(1,x,2,1,"div",10),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.list)}}function _(t,n){if(1&t&&(s.TgZ(0,"ion-item"),s._UZ(1,"ion-icon",11),s.TgZ(2,"ion-label"),s.TgZ(3,"p"),s.TgZ(4,"b"),s._uU(5),s.qZA(),s.qZA(),s.TgZ(6,"p"),s._uU(7),s.ALo(8,"date"),s.qZA(),s.TgZ(9,"h3"),s._uU(10),s.qZA(),s.qZA(),s.TgZ(11,"ion-text",19),s._uU(12),s.ALo(13,"number"),s.qZA(),s.qZA()),2&t){const t=s.oxw().$implicit;s.xp6(1),s.Q6J("name",1==+t.confirm?"checkbox":"help-circle")("color",1==+t.confirm?"success":"danger"),s.xp6(4),s.AsE("#",t.bill_id," ",t.group_name?t.group_name:"None",""),s.xp6(2),s.hij(" ",s.xi3(8,7,1e3*t.add_time,"d-MM-Y")," "),s.xp6(3),s.hij(" ",t.title," "),s.xp6(2),s.hij(" ",s.lcZ(13,10,t.amounts_payed),"\u0111 ")}}function T(t,n){if(1&t&&(s.TgZ(0,"div"),s.YNc(1,_,14,12,"ion-item",8),s.qZA()),2&t){const t=n.$implicit;s.xp6(1),s.Q6J("ngIf",4==+t.group_id&&"in"==t.cr)}}function q(t,n){if(1&t&&(s.TgZ(0,"ion-list"),s.YNc(1,T,2,1,"div",10),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.list)}}let b=(()=>{class t{constructor(t,n,e,o){this.moneyService=t,this.toastService=n,this.translate=e,this.modalController=o,this.list=[],this.loadingFlag=new i.E,this.typeShow="money"}ngOnInit(){this.loadingFlag.setPending(!0),this.moneyService.getACustomer(this.item.customer_slug).subscribe(t=>{0==t.status?this.toastService.warning(t.error):this.list=t.data,this.loadingFlag.setResult(!0)},()=>{this.loadingFlag.setResult(!1),this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}segmentChanged(t){}}return t.\u0275fac=function(n){return new(n||t)(s.Y36(o.r),s.Y36(a.k),s.Y36(l.sK),s.Y36(r.IN))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-money-customer-detail"]],inputs:{item:"item"},decls:26,vars:17,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["mode","ios",3,"ngModel","ngModelChange","ionChange"],["value","money"],["value","debt"],["value","pay"],["type","indeterminate",4,"ngIf"],[4,"ngIf"],["type","indeterminate"],[4,"ngFor","ngForOf"],["slot","start",3,"name","color"],["slot","end"],[1,"ion-text-end"],[3,"color"],["color","danger",4,"ngIf"],["color","success",4,"ngIf"],["color","danger"],["color","success"],["slot","end","color","warning"]],template:function(t,n){1&t&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",0),s.TgZ(3,"ion-button",1),s.NdJ("click",function(){return n.modalController.dismiss(!1)}),s._UZ(4,"ion-icon",2),s.qZA(),s.qZA(),s.TgZ(5,"ion-title"),s._uU(6),s.ALo(7,"translate"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"ion-content"),s.TgZ(9,"ion-segment",3),s.NdJ("ngModelChange",function(t){return n.typeShow=t})("ionChange",function(t){return n.segmentChanged(t)}),s.TgZ(10,"ion-segment-button",4),s.TgZ(11,"ion-label"),s._uU(12),s.ALo(13,"translate"),s.qZA(),s.qZA(),s.TgZ(14,"ion-segment-button",5),s.TgZ(15,"ion-label"),s._uU(16),s.ALo(17,"translate"),s.qZA(),s.qZA(),s.TgZ(18,"ion-segment-button",6),s.TgZ(19,"ion-label"),s._uU(20),s.ALo(21,"translate"),s.qZA(),s.qZA(),s.qZA(),s.YNc(22,g,1,0,"ion-progress-bar",7),s.YNc(23,h,2,1,"ion-list",8),s.YNc(24,f,2,1,"ion-list",8),s.YNc(25,q,2,1,"ion-list",8),s.qZA()),2&t&&(s.xp6(6),s.Oqu(s.lcZ(7,9,"SHOP.DETAIL")),s.xp6(3),s.Q6J("ngModel",n.typeShow),s.xp6(3),s.Oqu(s.lcZ(13,11,"MONEY")),s.xp6(4),s.Oqu(s.lcZ(17,13,"MONEY_MOD.DEBT")),s.xp6(4),s.Oqu(s.lcZ(21,15,"MONEY_MOD.PAYED")),s.xp6(2),s.Q6J("ngIf",n.loadingFlag.pending),s.xp6(1),s.Q6J("ngIf","money"==n.typeShow),s.xp6(1),s.Q6J("ngIf","debt"==n.typeShow),s.xp6(1),s.Q6J("ngIf","pay"==n.typeShow))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.wd,r.W2,r.cJ,r.QI,c.JJ,c.On,r.GO,r.Q$,u.O5,r.X7,r.q_,u.sg,r.Ie,r.yW],pipes:[l.X$,u.uU,u.JJ],styles:[""]}),t})()},7115:function(t,n,e){e.d(n,{D:function(){return q}});var i=e(64762),o=e(27887),s=e(96895),a=e(20706),l=e(73385),r=e(30084),c=e(19228),u=e(37716),g=e(84465),m=e(81780),Z=e(47063),p=e(90665),d=e(38583);function h(t,n){1&t&&u._UZ(0,"ion-progress-bar",8)}function A(t,n){if(1&t){const t=u.EpF();u.TgZ(0,"ion-item",11),u.NdJ("click",function(){const n=u.CHM(t).$implicit;return u.oxw(2).presentOptions(n)}),u.TgZ(1,"ion-text"),u._uU(2),u.qZA(),u.TgZ(3,"ion-text",12),u._uU(4),u.ALo(5,"number"),u.qZA(),u.qZA()}if(2&t){const t=n.$implicit;u.xp6(2),u.hij(" ",t.customer_name," "),u.xp6(1),u.Q6J("color",+t.total_debt<=0?"success":"danger"),u.xp6(1),u.hij(" ",u.lcZ(5,3,t.total_debt),"\u0111 ")}}function x(t,n){if(1&t&&(u.TgZ(0,"div"),u.TgZ(1,"ion-list",9),u.YNc(2,A,6,5,"ion-item",10),u.qZA(),u.qZA()),2&t){const t=u.oxw();u.xp6(2),u.Q6J("ngForOf",t.customers)}}function f(t,n){if(1&t){const t=u.EpF();u.TgZ(0,"ion-item",11),u.NdJ("click",function(){const n=u.CHM(t).$implicit;return u.oxw(2).presentOptions(n)}),u.TgZ(1,"ion-text"),u._uU(2),u.qZA(),u.TgZ(3,"ion-text",12),u._uU(4),u.ALo(5,"number"),u.qZA(),u.qZA()}if(2&t){const t=n.$implicit;u.xp6(2),u.hij(" ",t.group_name," "),u.xp6(1),u.Q6J("color",+t.total_debt>=0?"success":"danger"),u.xp6(1),u.hij(" ",u.lcZ(5,3,t.total_debt),"\u0111 ")}}function _(t,n){if(1&t){const t=u.EpF();u.TgZ(0,"ion-item",11),u.NdJ("click",function(){const n=u.CHM(t).$implicit;return u.oxw(2).presentOptions(n)}),u.TgZ(1,"ion-text"),u._uU(2),u.qZA(),u.TgZ(3,"ion-text",12),u._uU(4),u.ALo(5,"number"),u.qZA(),u.qZA()}if(2&t){const t=n.$implicit;u.xp6(2),u.hij(" ",t.group_name," "),u.xp6(1),u.Q6J("color",+t.total_debt<=0?"success":"danger"),u.xp6(1),u.hij(" ",u.lcZ(5,3,t.total_debt),"\u0111 ")}}function T(t,n){if(1&t&&(u.TgZ(0,"div"),u.TgZ(1,"ion-list",9),u.TgZ(2,"ion-list-header"),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.YNc(5,f,6,5,"ion-item",10),u.TgZ(6,"ion-list-header"),u._uU(7),u.ALo(8,"translate"),u.qZA(),u.YNc(9,_,6,5,"ion-item",10),u.qZA(),u.qZA()),2&t){const t=u.oxw();u.xp6(3),u.hij(" ",u.lcZ(4,4,"FARM_MOD.INCOME")," "),u.xp6(2),u.Q6J("ngForOf",t.listbtGroup.in),u.xp6(2),u.hij(" ",u.lcZ(8,6,"FARM_MOD.EXPENSE")," "),u.xp6(2),u.Q6J("ngForOf",t.listbtGroup.out)}}let q=(()=>{class t{constructor(t,n,e,i,s){this.moneyService=t,this.toastService=n,this.translate=e,this.modalController=i,this.actionSheetController=s,this.customers=[],this.listbtGroup={in:[],out:[]},this.loadingFlag=new o.E,this.term="customer"}ngOnInit(){this.loadingFlag.setPending(!0),this.getList()}getList(){[["getCustomers","customers"],["getListMoneyByGroup","listbtGroup"]].forEach(t=>{this.moneyService[t[0]]().subscribe(n=>{0==n.status?this.toastService.warning(n.error):this[t[1]]=n.data,this.loadingFlag.setResult(!0)},()=>{this.loadingFlag.setResult(!1),this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})})}presentDetail(t){return(0,i.mG)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:"customer"==this.term?s.y:r.K,componentProps:{item:t}})).present()})}presentAddDebt(t){return(0,i.mG)(this,void 0,void 0,function*(){const n=yield this.modalController.create({component:"customer"==this.term?a.b:l.H,componentProps:{item:t}});return n.onDidDismiss().then(t=>{t&&this.getList()}),yield n.present()})}presentOptions(t){return(0,i.mG)(this,void 0,void 0,function*(){yield(yield this.actionSheetController.create({header:"Actions",cssClass:"my-custom-class",buttons:[{text:this.translate.instant("MONEY_MOD.PAY"),icon:"wallet",handler:()=>{this.presentAddDebt(t)}},{text:this.translate.instant("SHOP.DETAIL"),icon:"eye",handler:()=>{this.presentDetail(t)}},{text:this.translate.instant("CANCEL"),icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]})).present()})}segmentChanged(t){}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(c.r),u.Y36(g.k),u.Y36(m.sK),u.Y36(Z.IN),u.Y36(Z.BX))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-money-customer"]],decls:21,vars:13,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["mode","ios",3,"ngModel","ngModelChange","ionChange"],["value","customer"],["value","group"],["type","indeterminate",4,"ngIf"],[4,"ngIf"],["type","indeterminate"],["mode","ios"],["detail","",3,"click",4,"ngFor","ngForOf"],["detail","",3,"click"],["slot","end",3,"color"]],template:function(t,n){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u.TgZ(3,"ion-button",1),u.NdJ("click",function(){return n.modalController.dismiss(!1)}),u._UZ(4,"ion-icon",2),u.qZA(),u.qZA(),u.TgZ(5,"ion-title"),u._uU(6),u.ALo(7,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"ion-content"),u.TgZ(9,"ion-segment",3),u.NdJ("ngModelChange",function(t){return n.term=t})("ionChange",function(t){return n.segmentChanged(t)}),u.TgZ(10,"ion-segment-button",4),u.TgZ(11,"ion-label"),u._uU(12),u.ALo(13,"translate"),u.qZA(),u.qZA(),u.TgZ(14,"ion-segment-button",5),u.TgZ(15,"ion-label"),u._uU(16),u.ALo(17,"translate"),u.qZA(),u.qZA(),u.qZA(),u.YNc(18,h,1,0,"ion-progress-bar",6),u.YNc(19,x,3,1,"div",7),u.YNc(20,T,10,8,"div",7),u.qZA()),2&t&&(u.xp6(6),u.Oqu(u.lcZ(7,7,"ANALYTICS")),u.xp6(3),u.Q6J("ngModel",n.term),u.xp6(3),u.Oqu(u.lcZ(13,9,"MONEY_MOD.CUSTOMER")),u.xp6(4),u.Oqu(u.lcZ(17,11,"MONEY_MOD.CATEGORY")),u.xp6(2),u.Q6J("ngIf",n.loadingFlag.pending),u.xp6(1),u.Q6J("ngIf","customer"==n.term),u.xp6(1),u.Q6J("ngIf","group"==n.term))},directives:[Z.Gu,Z.sr,Z.Sm,Z.YG,Z.gu,Z.wd,Z.W2,Z.cJ,Z.QI,p.JJ,p.On,Z.GO,Z.Q$,d.O5,Z.X7,Z.q_,d.sg,Z.Ie,Z.yW,Z.yh],pipes:[m.X$,d.JJ],styles:[""]}),t})()},73385:function(t,n,e){e.d(n,{H:function(){return A}});var i=e(16738),o=e(62014),s=e(27887),a=e(19228),l=e(37716),r=e(84465),c=e(81780),u=e(47063),g=e(38583),m=e(90665);function Z(t,n){1&t&&l._UZ(0,"ion-progress-bar",13)}function p(t,n){if(1&t&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&t){const t=l.oxw().$implicit;l.xp6(1),l.hij("(",t.pond_name,")")}}function d(t,n){if(1&t){const t=l.EpF();l.TgZ(0,"ion-item"),l.TgZ(1,"ion-checkbox",14),l.NdJ("ngModelChange",function(n){const e=l.CHM(t).index;return l.oxw().checkList[e].status=n})("ionChange",function(){const n=l.CHM(t).index;return l.oxw().setTotalMoneyDebt(n)}),l.qZA(),l.TgZ(2,"ion-label"),l.TgZ(3,"p"),l._uU(4),l.ALo(5,"date"),l.qZA(),l.TgZ(6,"h3"),l._uU(7),l.YNc(8,p,2,1,"span",12),l.qZA(),l.qZA(),l.TgZ(9,"ion-label",3),l.TgZ(10,"p",15),l.TgZ(11,"ion-text",16),l._uU(12),l.ALo(13,"number"),l.qZA(),l.qZA(),l.TgZ(14,"p",15),l.TgZ(15,"ion-text",16),l._uU(16),l.ALo(17,"translate"),l.ALo(18,"number"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=n.$implicit,e=n.index,i=l.oxw();l.xp6(1),l.Q6J("ngModel",i.checkList[e].status),l.xp6(3),l.hij(" ",l.xi3(5,7,1e3*t.add_time,"d-MM-Y")," "),l.xp6(3),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngIf",t.pond_name),l.xp6(4),l.hij(" ",l.lcZ(13,10,t.amounts),"\u0111 "),l.xp6(4),l.AsE(" ",l.lcZ(17,12,"MONEY_MOD.DEBT")," ",l.lcZ(18,14,t.debt_payed),"\u0111 ")}}function h(t,n){1&t&&(l.TgZ(0,"p"),l.TgZ(1,"ion-text",16),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.qZA()),2&t&&(l.xp6(2),l.hij(" ",l.lcZ(3,1,"MONEY_MOD.WARNING_MAX_DEBT")," "))}let A=(()=>{class t{constructor(t,n,e,a){this.moneyService=t,this.toastService=n,this.translate=e,this.modalController=a,this.list=[],this.checkList=[],this.loadingFlag=new s.E,this.numberFormat=new o.y(""),this.maxAmounts=0,this.amounts=0,this.date=i().format("YYYY-MM-DD"),this.maxDate=i(),this.minDate=i().subtract(180,"days")}ngOnInit(){this.getListBill()}getListBill(){this.moneyService.getDebtByGroup(this.item.group_id,this.item.cr).subscribe(t=>{0==t.status?this.toastService.warning(t.error):(this.list=t.data,this.checkList=this.list.map(t=>({bill_id:t.id,add_time:t.add_time,value:+t.debt_payed,status:!0,customer:t.customer_name})),this.maxAmounts=this.checkList.reduce((t,n)=>t+n.value,0),console.log(this.maxAmounts),this.numberFormat.setValue(this.maxAmounts),this.minDate=i(Math.max.apply(null,this.checkList.map(function(t){return t.status?1e3*t.add_time:0})))),this.loadingFlag.setResult(!0)},()=>{this.loadingFlag.setResult(!1),this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}save(){let t=this.numberFormat.realValue,n=[];this.checkList.forEach(e=>{e.status&&e.value>0&&t>0&&(n.push({bill_id:e.bill_id,value:e.value<t?e.value:t,title:this.translate.instant("MONEY_MOD.PAY")+" bill #"+e.bill_id,customer:e.customer}),t=e.value<t?t-e.value:0)}),this.loadingFlag.setPending(!0),this.moneyService.addMultiDebtRecord({type:this.item.cr,date:i(this.date).valueOf()/1e3,rows:n}).subscribe(t=>{0==t.status?this.toastService.warning(t.error):(this.toastService.success(this.translate.instant("SHOP.CART.ADDRESS.UPDATE_SUCCESS")),this.modalController.dismiss()),this.loadingFlag.setResult(!0)},()=>{this.loadingFlag.setResult(!1),this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}setTotalMoneyDebt(t){this.numberFormat.setValue(this.checkList[t].status?this.checkList[t].value+this.numberFormat.realValue>this.maxAmounts?this.maxAmounts:this.checkList[t].value+this.numberFormat.realValue:this.numberFormat.realValue-this.checkList[t].value<=0?0:this.numberFormat.realValue-this.checkList[t].value),this.minDate=i(Math.max.apply(null,this.checkList.map(function(t){return t.status?1e3*t.add_time:0}))),i(this.date)<i(this.minDate)&&(this.date=i(this.minDate).format("YYYY-MM-DD"))}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(a.r),l.Y36(r.k),l.Y36(c.sK),l.Y36(u.IN))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-money-group-debt"]],inputs:{item:"item",type:"type"},decls:30,vars:23,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slot","end"],[3,"disabled","click"],["type","indeterminate",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"ion-padding"],["lines","inset"],[3,"displayFormat","ngModel","min","max","ngModelChange"],["position","floating"],["type","tel","inputmode","decimal",3,"value","ionChange"],[4,"ngIf"],["type","indeterminate"],["slot","start",3,"ngModel","ngModelChange","ionChange"],[1,"ion-text-end"],["color","danger"]],template:function(t,n){1&t&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-buttons",0),l.TgZ(3,"ion-button",1),l.NdJ("click",function(){return n.modalController.dismiss(!1)}),l._UZ(4,"ion-icon",2),l.qZA(),l.qZA(),l.TgZ(5,"ion-title"),l._uU(6),l.ALo(7,"translate"),l.qZA(),l.TgZ(8,"ion-buttons",3),l.TgZ(9,"ion-button",4),l.NdJ("click",function(){return n.save()}),l._uU(10),l.ALo(11,"translate"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(12,"ion-content"),l.YNc(13,Z,1,0,"ion-progress-bar",5),l.TgZ(14,"div"),l.TgZ(15,"ion-list"),l.YNc(16,d,19,16,"ion-item",6),l.qZA(),l.TgZ(17,"div",7),l.TgZ(18,"ion-item",8),l.TgZ(19,"ion-label"),l._uU(20),l.ALo(21,"translate"),l.qZA(),l.TgZ(22,"ion-datetime",9),l.NdJ("ngModelChange",function(t){return n.date=t}),l.ALo(23,"translate"),l.qZA(),l.qZA(),l.TgZ(24,"ion-item",8),l.TgZ(25,"ion-label",10),l._uU(26),l.ALo(27,"translate"),l.qZA(),l.TgZ(28,"ion-input",11),l.NdJ("ionChange",function(t){return n.numberFormat.setValue(t.detail.value)}),l.qZA(),l.qZA(),l.YNc(29,h,4,3,"p",12),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(6),l.Oqu(l.lcZ(7,13,"MONEY_MOD.PAY")),l.xp6(3),l.Q6J("disabled",n.numberFormat.realValue<=0||n.numberFormat.realValue>n.maxAmounts||0==n.list.length),l.xp6(1),l.hij(" ",l.lcZ(11,15,"FARM_MOD.SAVE")," "),l.xp6(3),l.Q6J("ngIf",n.loadingFlag.pending),l.xp6(3),l.Q6J("ngForOf",n.list),l.xp6(4),l.Oqu(l.lcZ(21,17,"FARM_MOD.DATE")),l.xp6(2),l.Q6J("displayFormat",l.lcZ(23,19,"FORMAT_DATE_MOMENT"))("ngModel",n.date)("min",n.minDate.format("YYYY-MM-DD"))("max",n.maxDate.format("YYYY-MM-DD")),l.xp6(4),l.hij(" ",l.lcZ(27,21,"MONEY_MOD.AMOUNT")," "),l.xp6(2),l.Q6J("value",n.numberFormat.fakeView),l.xp6(1),l.Q6J("ngIf",n.numberFormat.realValue>n.maxAmounts))},directives:[u.Gu,u.sr,u.Sm,u.YG,u.gu,u.wd,u.W2,g.O5,u.q_,g.sg,u.Ie,u.Q$,u.x4,u.QI,m.JJ,m.On,u.pK,u.j9,u.X7,u.nz,u.w,u.yW],pipes:[c.X$,g.uU,g.JJ],styles:[""]}),t})()},30084:function(t,n,e){e.d(n,{K:function(){return _}});var i=e(27887),o=e(19228),s=e(37716),a=e(84465),l=e(81780),r=e(47063),c=e(90665),u=e(38583);function g(t,n){1&t&&s._UZ(0,"ion-progress-bar",8)}function m(t,n){if(1&t&&(s.TgZ(0,"ion-text",16),s._uU(1),s.ALo(2,"translate"),s.ALo(3,"number"),s.qZA()),2&t){const t=s.oxw(2).$implicit;s.xp6(1),s.AsE(" ",s.lcZ(2,2,"MONEY_MOD.NEED_PAY")," ",s.lcZ(3,4,t.amounts-t.amounts_payed),"\u0111 ")}}function Z(t,n){if(1&t&&(s.TgZ(0,"ion-text",17),s._uU(1),s.ALo(2,"translate"),s.ALo(3,"number"),s.qZA()),2&t){const t=s.oxw(2).$implicit;s.xp6(1),s.AsE(" ",s.lcZ(2,2,"MONEY_MOD.NEED_COLLECT")," ",s.lcZ(3,4,t.amounts-t.amounts_payed),"\u0111 ")}}function p(t,n){if(1&t&&(s.TgZ(0,"ion-item"),s.TgZ(1,"ion-label"),s.TgZ(2,"p"),s.TgZ(3,"b"),s._uU(4),s.qZA(),s._UZ(5,"ion-icon",10),s.qZA(),s.TgZ(6,"p"),s._uU(7),s.ALo(8,"date"),s.qZA(),s.TgZ(9,"h3"),s._uU(10),s.qZA(),s.qZA(),s.TgZ(11,"ion-label",11),s.TgZ(12,"p",12),s.TgZ(13,"ion-text",13),s._uU(14),s.ALo(15,"number"),s.qZA(),s.qZA(),s.TgZ(16,"p",12),s.YNc(17,m,4,6,"ion-text",14),s.YNc(18,Z,4,6,"ion-text",15),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw().$implicit;s.xp6(4),s.AsE("#",t.id," ",t.group_name?t.group_name:"None",""),s.xp6(1),s.Q6J("name",1==+t.confirm?"checkbox":"help-circle")("color",1==+t.confirm?"success":"danger"),s.xp6(2),s.hij(" ",s.xi3(8,10,1e3*t.add_time,"d-MM-Y")," "),s.xp6(3),s.hij(" ",t.title," "),s.xp6(3),s.Q6J("color","in"==t.type?"success":"danger"),s.xp6(1),s.hij(" ",s.lcZ(15,13,t.amounts),"\u0111 "),s.xp6(3),s.Q6J("ngIf","out"==t.type&&+t.amounts_payed<+t.amounts),s.xp6(1),s.Q6J("ngIf","in"==t.type&&+t.amounts_payed<+t.amounts)}}function d(t,n){if(1&t&&(s.TgZ(0,"div"),s.YNc(1,p,19,15,"ion-item",7),s.qZA()),2&t){const t=n.$implicit;s.xp6(1),s.Q6J("ngIf",4!=+t.group_id)}}function h(t,n){if(1&t&&(s.TgZ(0,"ion-list"),s.YNc(1,d,2,1,"div",9),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.list)}}function A(t,n){if(1&t&&(s.TgZ(0,"ion-item"),s._UZ(1,"ion-icon",10),s.TgZ(2,"ion-label"),s.TgZ(3,"p"),s.TgZ(4,"b"),s._uU(5),s.qZA(),s.qZA(),s.TgZ(6,"p"),s._uU(7),s.ALo(8,"date"),s.qZA(),s.TgZ(9,"h3"),s._uU(10),s.qZA(),s.qZA(),s.TgZ(11,"ion-text",18),s._uU(12),s.ALo(13,"number"),s.qZA(),s.qZA()),2&t){const t=s.oxw().$implicit;s.xp6(1),s.Q6J("name",1==+t.confirm?"checkbox":"help-circle")("color",1==+t.confirm?"success":"danger"),s.xp6(4),s.AsE("#",t.bill_id," ",t.group_name?t.group_name:"None",""),s.xp6(2),s.hij(" ",s.xi3(8,7,1e3*t.add_time,"d-MM-Y")," "),s.xp6(3),s.hij(" ",t.title," "),s.xp6(2),s.hij(" ",s.lcZ(13,10,t.amounts_payed),"\u0111 ")}}function x(t,n){if(1&t&&(s.TgZ(0,"div"),s.YNc(1,A,14,12,"ion-item",7),s.qZA()),2&t){const t=n.$implicit;s.xp6(1),s.Q6J("ngIf",4==+t.group_id)}}function f(t,n){if(1&t&&(s.TgZ(0,"ion-list"),s.YNc(1,x,2,1,"div",9),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.list)}}let _=(()=>{class t{constructor(t,n,e,o){this.moneyService=t,this.toastService=n,this.translate=e,this.modalController=o,this.list=[],this.loadingFlag=new i.E,this.typeShow="money"}ngOnInit(){console.log(this.item),this.loadingFlag.setPending(!0),this.moneyService.getDetailByGroup(this.item.group_id,this.item.cr).subscribe(t=>{0==t.status?this.toastService.warning(t.error):this.list=t.data,this.loadingFlag.setResult(!0)},()=>{this.loadingFlag.setResult(!1),this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}segmentChanged(t){}}return t.\u0275fac=function(n){return new(n||t)(s.Y36(o.r),s.Y36(a.k),s.Y36(l.sK),s.Y36(r.IN))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-money-group-detail"]],inputs:{item:"item"},decls:21,vars:13,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["mode","ios",3,"ngModel","ngModelChange","ionChange"],["value","money"],["value","debt"],["type","indeterminate",4,"ngIf"],[4,"ngIf"],["type","indeterminate"],[4,"ngFor","ngForOf"],["slot","start",3,"name","color"],["slot","end"],[1,"ion-text-end"],[3,"color"],["color","danger",4,"ngIf"],["color","success",4,"ngIf"],["color","danger"],["color","success"],["slot","end","color","warning"]],template:function(t,n){1&t&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",0),s.TgZ(3,"ion-button",1),s.NdJ("click",function(){return n.modalController.dismiss(!1)}),s._UZ(4,"ion-icon",2),s.qZA(),s.qZA(),s.TgZ(5,"ion-title"),s._uU(6),s.ALo(7,"translate"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"ion-content"),s.TgZ(9,"ion-segment",3),s.NdJ("ngModelChange",function(t){return n.typeShow=t})("ionChange",function(t){return n.segmentChanged(t)}),s.TgZ(10,"ion-segment-button",4),s.TgZ(11,"ion-label"),s._uU(12),s.ALo(13,"translate"),s.qZA(),s.qZA(),s.TgZ(14,"ion-segment-button",5),s.TgZ(15,"ion-label"),s._uU(16),s.ALo(17,"translate"),s.qZA(),s.qZA(),s.qZA(),s.YNc(18,g,1,0,"ion-progress-bar",6),s.YNc(19,h,2,1,"ion-list",7),s.YNc(20,f,2,1,"ion-list",7),s.qZA()),2&t&&(s.xp6(6),s.Oqu(s.lcZ(7,7,"SHOP.DETAIL")),s.xp6(3),s.Q6J("ngModel",n.typeShow),s.xp6(3),s.Oqu(s.lcZ(13,9,"MONEY")),s.xp6(4),s.Oqu(s.lcZ(17,11,"MONEY_MOD.DEBT")),s.xp6(2),s.Q6J("ngIf",n.loadingFlag.pending),s.xp6(1),s.Q6J("ngIf","money"==n.typeShow),s.xp6(1),s.Q6J("ngIf","debt"==n.typeShow))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.wd,r.W2,r.cJ,r.QI,c.JJ,c.On,r.GO,r.Q$,u.O5,r.X7,r.q_,u.sg,r.Ie,r.yW],pipes:[l.X$,u.uU,u.JJ],styles:[""]}),t})()}}]);