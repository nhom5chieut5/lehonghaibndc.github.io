"use strict";(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[1309],{21309:function(t,e,o){o.r(e),o.d(e,{StoreLogsSearchPageModule:function(){return u}});var i=o(38583),n=o(90665),r=o(47063),s=o(13619),a=o(99330),c=o(37716);const l=[{path:"",component:a.o}];let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[s.Bz.forChild(l)],s.Bz]}),t})(),u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.ez,n.u5,r.Pc,d]]}),t})()},99330:function(t,e,o){o.d(e,{o:function(){return p}});var i=o(90665),n=o(16738),r=o(22923),s=o(37716),a=o(47063),c=o(71239),l=o(38583),d=o(81780);function u(t,e){if(1&t&&(s.TgZ(0,"div"),s.TgZ(1,"ion-select-option",8),s._uU(2),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.Q6J("value",t.infor.id),s.xp6(1),s.Oqu(t.infor.name)}}function m(t,e){if(1&t&&(s.TgZ(0,"div"),s.TgZ(1,"ion-select-option",8),s._uU(2),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(1),s.Q6J("value",t.infor.code),s.xp6(1),s.Oqu(t.infor.name)}}let p=(()=>{class t{constructor(t,e,o){this.modalController=t,this.dbLocalService=e,this.storeService=o,this.form=new i.cw({from:new i.NI(n().subtract(180,"days").format("YYYY-MM-DD")),end:new i.NI(n().endOf("day").format("YYYY-MM-DD")),wcode:new i.NI(""),username:new i.NI(""),pond_id:new i.NI("")}),this.listStore=[],this.listPond=[],this.maxDate=n(),this.minDate=n().subtract(180,"days"),this.obStatus={pending:"Ch\u1edd x\u1eed l\xfd",confirm:"\u0110\xe3 x\xe1c nh\u1eadn",reject:"Sai ph\u1ea1m"}}ngOnInit(){console.log(this.data);let t=this.dbLocalService.farms.findIndex(t=>t.infor.code==this.storeService.getFarmCode());this.listPond=-1==t?[]:this.dbLocalService.ponds.filter(e=>e.infor.farm_id===this.dbLocalService.farms[t].infor.id),this.listStore=this.dbLocalService.stores.filter(t=>t.infor.farm_code===this.storeService.getFarmCode()),this.form.setValue(this.data)}onSubmit(){this.modalController.dismiss(this.form.value)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(a.IN),s.Y36(c.T),s.Y36(r.d))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-store-logs-search"]],inputs:{data:"data"},decls:45,vars:39,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],[3,"formGroup","ngSubmit"],["lines","inset"],["formControlName","from",3,"displayFormat","min","max"],["formControlName","end",3,"displayFormat","min","max"],["type","text","formControlName","pond_id","interface","action-sheet"],[3,"value"],[4,"ngFor","ngForOf"],["type","text","formControlName","wcode","interface","action-sheet"],[1,"ion-text-center","ion-padding"],["type","submit","color","primary","shape","round"]],template:function(t,e){1&t&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",0),s.TgZ(3,"ion-button",1),s.NdJ("click",function(){return e.modalController.dismiss()}),s._UZ(4,"ion-icon",2),s.qZA(),s.qZA(),s.TgZ(5,"ion-title"),s._uU(6),s.ALo(7,"translate"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"ion-content"),s.TgZ(9,"form",3),s.NdJ("ngSubmit",function(){return e.onSubmit()}),s.TgZ(10,"ion-list"),s.TgZ(11,"ion-item",4),s.TgZ(12,"ion-label"),s._uU(13),s.ALo(14,"translate"),s.qZA(),s._UZ(15,"ion-datetime",5),s.ALo(16,"translate"),s.qZA(),s.TgZ(17,"ion-item",4),s.TgZ(18,"ion-label"),s._uU(19),s.ALo(20,"translate"),s.qZA(),s._UZ(21,"ion-datetime",6),s.ALo(22,"translate"),s.qZA(),s.TgZ(23,"ion-item",4),s.TgZ(24,"ion-label"),s._uU(25),s.ALo(26,"translate"),s.qZA(),s.TgZ(27,"ion-select",7),s.TgZ(28,"ion-select-option",8),s._uU(29),s.ALo(30,"translate"),s.qZA(),s.YNc(31,u,3,2,"div",9),s.qZA(),s.qZA(),s.TgZ(32,"ion-item",4),s.TgZ(33,"ion-label"),s._uU(34),s.ALo(35,"translate"),s.qZA(),s.TgZ(36,"ion-select",10),s.TgZ(37,"ion-select-option",8),s._uU(38),s.ALo(39,"translate"),s.qZA(),s.YNc(40,m,3,2,"div",9),s.qZA(),s.qZA(),s.qZA(),s.TgZ(41,"div",11),s.TgZ(42,"ion-button",12),s._uU(43),s.ALo(44,"translate"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(6),s.Oqu(s.lcZ(7,19,"SHOP.SEARCH")),s.xp6(3),s.Q6J("formGroup",e.form),s.xp6(4),s.Oqu(s.lcZ(14,21,"FARM_MOD.FROM")),s.xp6(2),s.Q6J("displayFormat",s.lcZ(16,23,"FORMAT_DATE_MOMENT"))("min",e.minDate.format("YYYY-MM-DD"))("max",e.maxDate.format("YYYY-MM-DD")),s.xp6(4),s.Oqu(s.lcZ(20,25,"FARM_MOD.TO")),s.xp6(2),s.Q6J("displayFormat",s.lcZ(22,27,"FORMAT_DATE_MOMENT"))("min",e.minDate.format("YYYY-MM-DD"))("max",e.maxDate.format("YYYY-MM-DD")),s.xp6(4),s.Oqu(s.lcZ(26,29,"POND")),s.xp6(3),s.Q6J("value",""),s.xp6(1),s.Oqu(s.lcZ(30,31,"NO")),s.xp6(2),s.Q6J("ngForOf",e.listPond),s.xp6(3),s.Oqu(s.lcZ(35,33,"STORE")),s.xp6(3),s.Q6J("value",""),s.xp6(1),s.Oqu(s.lcZ(39,35,"NO")),s.xp6(2),s.Q6J("ngForOf",e.listStore),s.xp6(3),s.hij("",s.lcZ(44,37,"WAREHOUSE_MOD.SAVE")," "))},directives:[a.Gu,a.sr,a.Sm,a.YG,a.gu,a.wd,a.W2,i._Y,i.JL,i.sg,a.q_,a.Ie,a.Q$,a.x4,a.QI,i.JJ,i.u,a.t9,a.n0,l.sg],pipes:[d.X$],styles:[""]}),t})()},22923:function(t,e,o){o.d(e,{d:function(){return a}});var i=o(88002),n=o(26215),r=o(15189),s=o(37716);let a=(()=>{class t{constructor(t){this.reqAPIService=t,this.urlApi="/manager/store-api-mobie",this.NEW_URL_API="/manager/warehouse-api",this.changeDataStore=!1,this.onLoaded$=new n.X(0)}destroy(){this.fcode=null,this.store=null}setFarmCode(t){this.fcode=t}getFarmCode(){return this.fcode}setStoreCode(t){this.wcode=t}getStoreCode(){return this.wcode}setStore(t){this.store=t}getStore(){return this.store}itemChanged(t,e){void 0!==this.store[t]&&Object.assign(this.store[t],e)}getApiStore(t="",e="",o=""){let n;return n=""===o?this.NEW_URL_API+"?action="+t+"&wcode="+this.wcode+e:`/${o}?action=`+t+e,this.reqAPIService.get(n).pipe((0,i.U)(t=>t))}sendPost(t="",e={},o="",n=""){let r;return r=""===n?this.NEW_URL_API+"?action="+t+"&wcode="+this.wcode+o:`/${n}?action=`+t+o,this.reqAPIService.post(r,e).pipe((0,i.U)(t=>t))}sendPostWithFile(t="",e={},o="",i=""){return this.reqAPIService.postApiWithFile(t,e,"&wcode="+this.wcode+o,this.NEW_URL_API)}postEdit(t,e){return this.reqAPIService.post(this.urlApi+"?action=edit-product-private&fcode="+this.fcode+"&id="+t,e)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(r.$))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);