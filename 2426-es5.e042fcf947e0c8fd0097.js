!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[2426],{76329:function(t,e,n){var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(13409),a=n(25639),s=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new a.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(r.Subject);e.BehaviorSubject=s},13409:function(t,e,n){var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(93576),a=n(67241),s=n(43984),c=n(25639),u=n(45298),l=n(81476),p=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i(e,t),e}(a.Subscriber);e.SubjectSubscriber=p;var d=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[l.rxSubscriber]=function(){return new p(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,o=e.slice(),i=0;i<n;i++)o[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,o=e.slice(),i=0;i<n;i++)o[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),o=0;o<e;o++)n[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new r.Observable;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(r.Observable);e.Subject=d;var h=function(t){function e(e,n){var o=t.call(this)||this;return o.destination=e,o.source=n,o}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(d);e.AnonymousSubject=h},45298:function(t,e,n){var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,n){var o=t.call(this)||this;return o.subject=e,o.subscriber=n,o.closed=!1,o}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n(43984).Subscription);e.SubjectSubscription=r},25639:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}();e.ObjectUnsubscribedError=n},43227:function(e,o,i){i.d(o,{H:function(){return d}});var r=i(37716),a=i(47063),s=i(81780),c=i(38583);function u(t,e){1&t&&(r.TgZ(0,"ion-item"),r.TgZ(1,"ion-text"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.hij(" ",r.lcZ(3,1,"FARM_MOD.PROBLEM")," "))}function l(t,e){if(1&t&&(r.TgZ(0,"ion-item"),r.TgZ(1,"ion-text",3),r._UZ(2,"p",4),r.qZA(),r.qZA()),2&t){var n=r.oxw();r.xp6(2),r.Q6J("innerHTML",n.pond.note?n.pond.note:"",r.oJD)}}var p,d=((p=function(){function e(n,o){t(this,e),this.popoverControler=n,this.translate=o}return n(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||p)(r.Y36(a.Dh),r.Y36(s.sK))},p.\u0275cmp=r.Xpm({type:p,selectors:[["app-detail-pond"]],inputs:{pond:"pond"},decls:40,vars:25,consts:[["slot","end","color","primary"],[4,"ngIf"],["lines","none","detail","false","button","",3,"click"],["color","danger"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.TgZ(0,"ion-list"),r.TgZ(1,"ion-list-header"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"ion-item"),r.TgZ(5,"ion-text"),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.TgZ(8,"ion-text",0),r._uU(9),r.qZA(),r.qZA(),r.TgZ(10,"ion-item"),r.TgZ(11,"ion-text"),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.TgZ(14,"ion-text",0),r._uU(15),r.qZA(),r.qZA(),r.TgZ(16,"ion-item"),r.TgZ(17,"ion-text"),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.TgZ(20,"ion-text",0),r._uU(21),r.qZA(),r.qZA(),r.TgZ(22,"ion-item"),r.TgZ(23,"ion-text"),r._uU(24," Size "),r.qZA(),r.TgZ(25,"ion-text",0),r._uU(26),r.qZA(),r.qZA(),r.TgZ(27,"ion-item"),r.TgZ(28,"ion-text"),r._uU(29),r.ALo(30,"translate"),r.qZA(),r.TgZ(31,"ion-text",0),r._uU(32),r.qZA(),r.qZA(),r.YNc(33,u,4,3,"ion-item",1),r.YNc(34,l,3,1,"ion-item",1),r.TgZ(35,"ion-item",2),r.NdJ("click",function(){return e.popoverControler.dismiss()}),r.TgZ(36,"ion-text"),r.TgZ(37,"small"),r._uU(38),r.ALo(39,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.hij(" ",r.lcZ(3,13,"FARM_MOD.INFOR"),""),r.xp6(4),r.hij(" ",r.lcZ(7,15,"FARM_MOD.NAME_POND")," "),r.xp6(3),r.hij(" ",e.pond.name," "),r.xp6(3),r.hij(" ",r.lcZ(13,17,"FARM_MOD.FOOD")," "),r.xp6(3),r.hij(" ",e.pond.total_feed," "),r.xp6(3),r.hij(" ",r.lcZ(19,19,"FARM_MOD.COST")," "),r.xp6(3),r.hij(" ",e.pond.total_cost," "),r.xp6(5),r.hij(" ",e.pond.weight," "),r.xp6(3),r.hij(" ",r.lcZ(30,21,"FARM_MOD.SEED_OLD")," "),r.xp6(3),r.hij(" ",e.pond.seed_old," "),r.xp6(1),r.Q6J("ngIf",e.pond.note),r.xp6(1),r.Q6J("ngIf",e.pond.note),r.xp6(4),r.Oqu(r.lcZ(39,23,"CLOSE")))},directives:[a.q_,a.yh,a.Ie,a.yW,c.O5],pipes:[s.X$],styles:[""]}),p)},58598:function(e,o,i){i.d(o,{e:function(){return c}});var r=i(37716),a=i(47063),s=i(81780),c=function(){var e=function(){function e(n,o){t(this,e),this.popoverControler=n,this.translate=o}return n(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(a.Dh),r.Y36(s.sK))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-detail-product"]],inputs:{product:"product"},decls:27,vars:19,consts:[["slot","end","color","primary"],["lines","none","detail","false","button","",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"ion-list"),r.TgZ(1,"ion-list-header"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"ion-item"),r.TgZ(5,"ion-text"),r._uU(6),r.ALo(7,"translate"),r.qZA(),r.TgZ(8,"ion-text",0),r._uU(9),r.qZA(),r.qZA(),r.TgZ(10,"ion-item"),r.TgZ(11,"ion-text"),r._uU(12),r.ALo(13,"translate"),r.qZA(),r.TgZ(14,"ion-text",0),r._uU(15),r.qZA(),r.qZA(),r.TgZ(16,"ion-item"),r.TgZ(17,"ion-text"),r._uU(18),r.ALo(19,"translate"),r.qZA(),r.TgZ(20,"ion-text",0),r._uU(21),r.qZA(),r.qZA(),r.TgZ(22,"ion-item",1),r.NdJ("click",function(){return e.popoverControler.dismiss()}),r.TgZ(23,"ion-text"),r.TgZ(24,"small"),r._uU(25),r.ALo(26,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Oqu(r.lcZ(3,9,"FARM_MOD.INFOR")),r.xp6(4),r.hij(" ",r.lcZ(7,11,"FARM_MOD.NAME_PRODUCT")," "),r.xp6(3),r.AsE(" ",e.product.name_prefix," - ",e.product.product_name," "),r.xp6(3),r.hij(" ",r.lcZ(13,13,"FARM_MOD.PRICE")," "),r.xp6(3),r.hij(" ",e.product.price," "),r.xp6(3),r.hij(" ",r.lcZ(19,15,"FARM_MOD.NUM_STORE")," "),r.xp6(3),r.hij(" ",e.product.quantity_current," "),r.xp6(4),r.Oqu(r.lcZ(26,17,"CLOSE")))},directives:[a.q_,a.yh,a.Ie,a.yW],pipes:[s.X$],styles:[""]}),e}()},2426:function(e,o,i){i.d(o,{O:function(){return N}});var r=i(64762),a=i(16738),s=i(27887),c=i(51937),u=i(43227),l=i(58598),p=i(37716),d=i(47063),h=i(81780),f=i(84465),Z=i(38583),g=i(56209);function A(t,e){1&t&&p._UZ(0,"ion-progress-bar",5)}function _(t,e){if(1&t&&p._UZ(0,"div",23),2&t){var n=p.oxw(3);p.Q6J("options",n.optionsTech)}}function m(t,e){if(1&t&&(p.TgZ(0,"ion-card",7),p.TgZ(1,"ion-card-header"),p.TgZ(2,"ion-card-subtitle"),p._UZ(3,"ion-icon",22),p._uU(4),p.ALo(5,"translate"),p.qZA(),p.YNc(6,_,1,1,"div",17),p.qZA(),p.qZA()),2&t){var n=p.oxw(2);p.xp6(4),p.hij(" ",p.lcZ(5,2,"FARM_MOD.PRODUCTION_RATE")," "),p.xp6(2),p.Q6J("ngIf",n.view)}}function v(t,e){if(1&t&&p._UZ(0,"div",23),2&t){var n=p.oxw(3);p.Q6J("options",n.options)}}function O(t,e){1&t&&(p.TgZ(0,"small"),p._uU(1,"t\u1ec9"),p.qZA())}function T(t,e){1&t&&(p.TgZ(0,"small"),p._uU(1," $"),p.qZA())}function b(t,e){if(1&t&&(p.TgZ(0,"span",27),p._uU(1),p.ALo(2,"number"),p.qZA()),2&t){var n=p.oxw(3);p.xp6(1),p.Oqu(p.xi3(2,1,n.data.total_money/1e9,"0.0-1"))}}function x(t,e){if(1&t&&(p.TgZ(0,"span",27),p._uU(1),p.ALo(2,"number"),p.qZA()),2&t){var n=p.oxw(3);p.xp6(1),p.Oqu(p.xi3(2,1,n.data.total_money,"0.0-1"))}}function q(t,e){if(1&t&&(p.TgZ(0,"ion-card",7),p.TgZ(1,"ion-card-header"),p.TgZ(2,"ion-card-subtitle"),p._UZ(3,"ion-icon",24),p._uU(4),p.ALo(5,"translate"),p.ALo(6,"translate"),p.qZA(),p.qZA(),p.YNc(7,v,1,1,"div",17),p.TgZ(8,"ion-list"),p.TgZ(9,"ion-item"),p.TgZ(10,"ion-label"),p.TgZ(11,"h3"),p._uU(12),p.ALo(13,"translate"),p.YNc(14,O,2,0,"small",4),p.YNc(15,T,2,0,"small",4),p.qZA(),p.qZA(),p.YNc(16,b,3,4,"span",25),p.YNc(17,x,3,4,"span",25),p.qZA(),p.TgZ(18,"ion-item",26),p.TgZ(19,"ion-label"),p.TgZ(20,"h3"),p._uU(21),p.ALo(22,"translate"),p.qZA(),p.qZA(),p.TgZ(23,"span",27),p._uU(24),p.qZA(),p.qZA(),p.TgZ(25,"div",28),p.TgZ(26,"p",29),p._uU(27),p.ALo(28,"translate"),p._UZ(29,"br"),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){var n=p.oxw(2);p.xp6(4),p.AsE(" ",p.lcZ(5,11,"FARM_MOD.ANALYST_DESISION")," (",p.lcZ(6,13,"POND_MOD.TON"),") "),p.xp6(3),p.Q6J("ngIf",n.view),p.xp6(5),p.hij("",p.lcZ(13,15,"FARM_MOD.TOTAL_REVENUE")," "),p.xp6(2),p.Q6J("ngIf","vi"==n.translate.currentLang),p.xp6(1),p.Q6J("ngIf","vi"!=n.translate.currentLang),p.xp6(1),p.Q6J("ngIf","vi"==n.translate.currentLang),p.xp6(1),p.Q6J("ngIf","vi"!=n.translate.currentLang),p.xp6(4),p.Oqu(p.lcZ(22,17,"FARM_MOD.CROP_GROWING")),p.xp6(3),p.Oqu(n.data.list_season_doing.length),p.xp6(3),p.Oqu(p.lcZ(28,19,"POND_MOD.ESITMATE_WARNING"))}}function y(t,e){if(1&t){var n=p.EpF();p.TgZ(0,"ion-button",30),p.NdJ("click",function(){return p.CHM(n),p.oxw(2).presentOptionsPond()}),p._UZ(1,"ion-icon",31),p._uU(2),p.qZA()}if(2&t){var o=p.oxw(2);p.xp6(2),p.hij("",o.modPondSeleted.label," ")}}function M(t,e){if(1&t){var n=p.EpF();p.TgZ(0,"ion-item",32),p.NdJ("click",function(t){var e=p.CHM(n).$implicit;return p.oxw(2).presentDetailReportPond(e,t)}),p.TgZ(1,"ion-text"),p._uU(2),p.qZA(),p.TgZ(3,"ion-text",14),p._uU(4),p.ALo(5,"number"),p.qZA(),p.qZA()}if(2&t){var o=e.$implicit;p.xp6(2),p.hij(" ",o.name," "),p.xp6(2),p.hij(" ",p.xi3(5,2,o.total_cost,"0.0-1")," ")}}function U(t,e){if(1&t&&p._UZ(0,"div",23),2&t){var n=p.oxw(2);p.Q6J("options",n.optionsFinance)}}function S(t,e){1&t&&(p.TgZ(0,"span"),p._uU(1,"tr"),p.qZA())}function R(t,e){1&t&&(p.TgZ(0,"span"),p._uU(1,"tr"),p.qZA())}function w(t,e){if(1&t){var n=p.EpF();p.TgZ(0,"ion-button",30),p.NdJ("click",function(){return p.CHM(n),p.oxw(2).presentOptionsStore()}),p._UZ(1,"ion-icon",31),p._uU(2),p.qZA()}if(2&t){var o=p.oxw(2);p.xp6(2),p.hij("",o.modStoreSeleted.label," ")}}function P(t,e){if(1&t){var n=p.EpF();p.TgZ(0,"ion-item",32),p.NdJ("click",function(t){var e=p.CHM(n).$implicit;return p.oxw(2).presentDetailReportStore(e,t)}),p.TgZ(1,"ion-text"),p._uU(2),p.qZA(),p.TgZ(3,"ion-text",14),p._uU(4),p.qZA(),p.qZA()}if(2&t){var o=e.$implicit;p.xp6(2),p.hij(" ",o.product_name," "),p.xp6(2),p.hij(" ",o.quantity_current," ")}}function D(t,e){1&t&&(p.TgZ(0,"span"),p._uU(1,"tr"),p.qZA())}function E(t,e){if(1&t&&(p.TgZ(0,"div"),p.YNc(1,m,7,4,"ion-card",6),p.TgZ(2,"ion-card",7),p.TgZ(3,"ion-card-header"),p.TgZ(4,"ion-card-subtitle"),p._UZ(5,"ion-icon",8),p._uU(6),p.ALo(7,"translate"),p.qZA(),p.TgZ(8,"div",9),p.TgZ(9,"h1"),p._uU(10),p.qZA(),p.TgZ(11,"p"),p._uU(12,"kg"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(13,"ion-card",7),p.TgZ(14,"ion-card-header"),p.TgZ(15,"ion-card-subtitle"),p._UZ(16,"ion-icon",10),p._uU(17),p.ALo(18,"translate"),p.qZA(),p.TgZ(19,"div",9),p.TgZ(20,"h1"),p._uU(21),p.ALo(22,"number"),p.qZA(),p.TgZ(23,"p"),p._uU(24,"kg"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.YNc(25,q,30,21,"ion-card",6),p.TgZ(26,"ion-card",7),p.TgZ(27,"ion-card-header"),p.TgZ(28,"ion-card-subtitle",11),p.TgZ(29,"span"),p._UZ(30,"ion-icon",12),p._uU(31),p.ALo(32,"translate"),p.qZA(),p.YNc(33,y,3,1,"ion-button",13),p.qZA(),p.TgZ(34,"ion-list"),p.TgZ(35,"ion-item"),p.TgZ(36,"ion-text"),p.TgZ(37,"small"),p._uU(38),p.ALo(39,"translate"),p.qZA(),p.qZA(),p.TgZ(40,"ion-text",14),p.TgZ(41,"small"),p._uU(42),p.ALo(43,"translate"),p.qZA(),p.qZA(),p.qZA(),p.YNc(44,M,6,5,"ion-item",15),p.qZA(),p.qZA(),p.qZA(),p.TgZ(45,"ion-card",7),p.TgZ(46,"ion-card-header"),p.TgZ(47,"ion-card-subtitle"),p._UZ(48,"ion-icon",16),p._uU(49),p.ALo(50,"translate"),p.qZA(),p.YNc(51,U,1,1,"div",17),p.qZA(),p.qZA(),p.TgZ(52,"ion-card",7),p.TgZ(53,"ion-card-header"),p.TgZ(54,"ion-card-subtitle"),p._UZ(55,"ion-icon",18),p._uU(56),p.ALo(57,"translate"),p.qZA(),p.TgZ(58,"div",9),p.TgZ(59,"h1"),p._uU(60),p.ALo(61,"number"),p.YNc(62,S,2,0,"span",4),p.qZA(),p.TgZ(63,"p"),p._uU(64),p.ALo(65,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(66,"ion-card",7),p.TgZ(67,"ion-card-header"),p.TgZ(68,"ion-card-subtitle"),p._UZ(69,"ion-icon",19),p._uU(70),p.ALo(71,"translate"),p.qZA(),p.TgZ(72,"div",9),p.TgZ(73,"h1"),p._uU(74),p.ALo(75,"number"),p.YNc(76,R,2,0,"span",4),p.qZA(),p.TgZ(77,"p"),p._uU(78),p.ALo(79,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(80,"ion-card",7),p.TgZ(81,"ion-card-header"),p.TgZ(82,"ion-card-subtitle",11),p.TgZ(83,"span"),p._UZ(84,"ion-icon",12),p._uU(85),p.ALo(86,"translate"),p.qZA(),p.YNc(87,w,3,1,"ion-button",13),p.qZA(),p.TgZ(88,"ion-list"),p.TgZ(89,"ion-item"),p.TgZ(90,"ion-text"),p.TgZ(91,"small"),p._uU(92),p.ALo(93,"translate"),p.qZA(),p.qZA(),p.TgZ(94,"ion-text",14),p.TgZ(95,"small"),p._uU(96),p.ALo(97,"translate"),p.qZA(),p.qZA(),p.qZA(),p.YNc(98,P,5,2,"ion-item",15),p.qZA(),p.qZA(),p.qZA(),p.TgZ(99,"ion-card",7),p.TgZ(100,"ion-card-header"),p.TgZ(101,"ion-card-subtitle"),p._UZ(102,"ion-icon",20),p._uU(103),p.ALo(104,"translate"),p.qZA(),p.TgZ(105,"div",9),p.TgZ(106,"h1"),p._uU(107),p.ALo(108,"number"),p.YNc(109,D,2,0,"span",4),p.qZA(),p.TgZ(110,"p"),p._uU(111),p.ALo(112,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(113,"ion-card",7),p.TgZ(114,"ion-card-header"),p.TgZ(115,"ion-card-subtitle"),p._UZ(116,"ion-icon",21),p._uU(117),p.ALo(118,"translate"),p.qZA(),p.TgZ(119,"div",9),p.TgZ(120,"h1"),p._uU(121),p.qZA(),p.TgZ(122,"p"),p._uU(123),p.ALo(124,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){var n=p.oxw();p.xp6(1),p.Q6J("ngIf",n.view),p.xp6(5),p.hij(" ",p.lcZ(7,33,"FARM_MOD.TOTAL_FEED")," "),p.xp6(4),p.Oqu(n.dataReport.tech.feed),p.xp6(7),p.hij(" ",p.lcZ(18,35,"FARM_MOD.TOTAL_QUANTITY")," "),p.xp6(4),p.Oqu(p.xi3(22,37,n.dataReport.tech.total_harvest,"0.0-1")),p.xp6(4),p.Q6J("ngIf",n.view&&n.data),p.xp6(6),p.hij(" ",p.lcZ(32,40,"FARM_MOD.REPORT_POND")," "),p.xp6(2),p.Q6J("ngIf",n.modPondSeleted),p.xp6(5),p.Oqu(p.lcZ(39,42,"FARM_MOD.NAME_POND")),p.xp6(4),p.Oqu(p.lcZ(43,44,"FARM_MOD.COST")),p.xp6(2),p.Q6J("ngForOf",n.modPondSeleted.list),p.xp6(5),p.hij(" ",p.lcZ(50,46,"FARM_MOD.ANALYST_MONTH")," "),p.xp6(2),p.Q6J("ngIf",n.view),p.xp6(5),p.hij(" ",p.lcZ(57,48,"FARM_MOD.TOTAL_IN")," "),p.xp6(4),p.Oqu(p.xi3(61,50,n.totalIn,"0.0-1")),p.xp6(2),p.Q6J("ngIf","vi"==n.translate.currentLang),p.xp6(2),p.hij(" ",p.lcZ(65,53,"FARM_MOD.MONEY"),""),p.xp6(6),p.hij(" ",p.lcZ(71,55,"FARM_MOD.TOTAL_OUT")," "),p.xp6(4),p.Oqu(p.xi3(75,57,n.totalOut,"0.0-1")),p.xp6(2),p.Q6J("ngIf","vi"==n.translate.currentLang),p.xp6(2),p.Oqu(p.lcZ(79,60,"FARM_MOD.MONEY")),p.xp6(7),p.hij(" ",p.lcZ(86,62,"FARM_MOD.STORE")," "),p.xp6(2),p.Q6J("ngIf",n.modStoreSeleted),p.xp6(5),p.Oqu(p.lcZ(93,64,"FARM_MOD.PRODUCT")),p.xp6(4),p.Oqu(p.lcZ(97,66,"FARM_MOD.NUM_STORE")),p.xp6(2),p.Q6J("ngForOf",n.modStoreSeleted.list),p.xp6(5),p.hij(" ",p.lcZ(104,68,"FARM_MOD.TOTAL_WAREHOUSE")," "),p.xp6(4),p.Oqu(p.xi3(108,70,n.dataReport.finance.total_warehouse,"0.0-1")),p.xp6(2),p.Q6J("ngIf","vi"==n.translate.currentLang),p.xp6(2),p.Oqu(p.lcZ(112,73,"FARM_MOD.MONEY")),p.xp6(6),p.hij(" ",p.lcZ(118,75,"FARM_MOD.NUM_PRODUCT")," "),p.xp6(4),p.Oqu(n.dataReport.finance.total_product),p.xp6(2),p.Oqu(p.lcZ(124,77,"FARM_MOD.PRODUCT"))}}var F,N=((F=function(){function e(n,o,i,r,a,c){t(this,e),this.modalCtrl=n,this.translate=o,this.farmService=i,this.toastService=r,this.alertController=a,this.popoverController=c,this.view=!1,this.options={},this.loadingFlag=new s.E,this.arrPondMod=[{mod:"pond_coming",label:this.translate.instant("FARM_MOD.POND_COMING")},{mod:"pond_new",label:this.translate.instant("FARM_MOD.POND_NEW")},{mod:"pond_warning",label:this.translate.instant("FARM_MOD.POND_WARNING")}],this.arrStoreMod=[{mod:"store_come_empty",label:this.translate.instant("FARM_MOD.STORE_COME_EMPTY")},{mod:"store_new",label:this.translate.instant("FARM_MOD.STORE_NEW")}],this.optionsTech={},this.optionsFinance={},this.totalIn=0,this.totalOut=0}return n(e,[{key:"ngOnInit",value:function(){this.loadReport()}},{key:"initOptions",value:function(){var t=this;if(this.data){var e=(new Date).getMonth()+1,n=[],o=["Species"],i=[],r=[];[{key:"recent",detail:this.translate.instant("CROP_MOD.MONTH_AGO")},{key:"current",detail:"T"+e.toString()}].forEach(function(e){var a=[e.detail];for(var s in t.data.char_seed[e.key])r.length<Object.keys(t.data.char_seed[e.key]).length&&r.push({type:"bar"}),o.length<Object.keys(t.data.char_seed[e.key]).length+1&&(o.push(t.data.char_seed[e.key][s].name),i.push(t.data.char_seed[e.key][s].id)),a.push((parseInt(t.data.char_seed[e.key][s].quantity)/1e3).toString());n.push(a)}),n.unshift(o),console.log(n);for(var a=(new Date).getTime()/1e3,s=function(r){var s=new Array(o.length-1).fill("0");t.data.list_season_doing.forEach(function(e){var n=(a-e.seed_date)/86400,o=i.indexOf(e.procedure?e.procedure.species_id:e.species_id);-1!=o&&(s[o]=t.processEstimateSpecies(30*r,n,e).toString())}),s.unshift("T"+(e+r).toString()),n.push(s)},c=1;c<=3;c++)s(c);this.options={legend:{},tooltip:{trigger:"item"},dataset:{source:n},xAxis:{type:"category"},yAxis:{show:!1},series:r}}}},{key:"ionViewDidEnter",value:function(){var t=this;this.initOptions(),setTimeout(function(){t.view=!0},500)}},{key:"processEstimateSpecies",value:function(t,e,n){var o,i=0,r=parseFloat(n.seed_weight);n.weight.length>0&&(r=null!=n.weight[0].weight?parseFloat(n.weight[0].weight):parseFloat(n.seed_weight))!=n.seed_weight&&(i=a().diff(a(n.weight[0].date),"days")),r+=i*(o=n.procedure?n.procedure.grow_speed:r/e);var s=e+t;n.sum.loss||(n.sum.loss=0);var c=parseInt(n.seed_quantity)-parseInt(n.sum.loss);if(n.procedure&&n.procedure.culture_day>0&&n.procedure.survival_ratio>0){if(s<n.procedure.culture_day||e>n.procedure.culture_day)return 0;c=e*n.seed_quantity*n.procedure.survival_ratio/n.procedure.culture_day}return(c*(o*t+r)/1e3).toFixed(2)}},{key:"loadReport",value:function(){var t=this;this.loadingFlag.setPending(!0),this.farmService.loadReport().pipe().subscribe(function(e){0==e.status?t.toastService.warning(e.error):(t.dataReport=e.data,t.prepareChartTech(e.data.tech.analyst_pond),t.prepareChartCost(e.data.finance),t.selectShowPonds(0),t.selectShowStore(0),e.data.estimate&&(t.data=e.data.estimate)),t.loadingFlag.setResult(!0)},function(e){t.toastService.danger(t.translate.instant("CONNECT_ERROR")),t.loadingFlag.setResult(!1)})}},{key:"prepareChartTech",value:function(t){var e={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",bottom:"bottom"},series:[{name:this.translate.instant("FARM_MOD.INFOR"),type:"pie",radius:"55%",data:[{value:t.warning,name:this.translate.instant("COMPANY_MOD.POND_WARNING")},{value:t.empty,name:this.translate.instant("COMPANY_MOD.POND_EMPTY")},{value:t.good,name:this.translate.instant("COMPANY_MOD.POND_GOOD")}]}]};this.optionsTech=e}},{key:"prepareChartCost",value:function(t){var e=this,n=this,o={tooltip:{trigger:"axis",position:["30%","50%"],axisPointer:{type:"shadow"},formatter:function(t){var e="<p>"+t[0].axisValue+"</p>";return t.forEach(function(t){var o="<p>"+function(t){return'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+t+'"></span>'}(t.color)+" "+t.seriesName+": "+t.data+" "+n.translate.instant("LIFE-RATIO.RATIO_RESULT.MIL_DONG")+"</p>";e+=o}),e}},legend:{},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value",boundaryGap:[0,.01]},xAxis:{type:"category",data:[]},series:[{name:this.translate.instant("FARM_MOD.TOTAL_IN"),type:"bar",data:[]},{name:this.translate.instant("FARM_MOD.TOTAL_OUT"),type:"bar",data:[]}]},i={};for(var r in this.totalIn=0,this.totalOut=0,t.chart_in.forEach(function(t){i[t.time]={in:0,out:0}}),t.chart_out.forEach(function(t){i[t.time]={in:0,out:0}}),t.chart_in.forEach(function(t){i[t.time].in=(t.total/1e6).toFixed(0),e.totalIn+=parseInt(t.total)}),t.chart_out.forEach(function(t){i[t.time].out=(t.total/1e6).toFixed(0),e.totalOut+=parseInt(t.total)}),i)o.xAxis.data.push(r),o.series[0].data.push(i[r].in),o.series[1].data.push(i[r].out);this.totalIn=parseInt((this.totalIn/1e6).toFixed(0)),this.totalOut=parseInt((this.totalOut/1e6).toFixed(0)),this.dataReport.finance.total_warehouse=parseInt((this.dataReport.finance.total_warehouse/1e6).toFixed(0)),this.optionsFinance=o}},{key:"selectShowPonds",value:function(t){this.modPondSeleted={mod:this.arrPondMod[t].mod,label:this.arrPondMod[t].label,list:this.dataReport.tech[this.arrPondMod[t].mod]}}},{key:"selectShowStore",value:function(t){this.modStoreSeleted={mod:this.arrStoreMod[t].mod,label:this.arrStoreMod[t].label,list:this.dataReport.finance[this.arrStoreMod[t].mod]}}},{key:"presentOptionsPond",value:function(){return(0,r.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],n=this,this.arrPondMod.forEach(function(t,o){e.push({name:t.mod,type:"radio",label:t.label,value:o,checked:n.modPondSeleted.mod==t.mod})}),t.next=4,this.alertController.create({cssClass:"my-custom-class",header:this.translate.instant("FARM_MOD.REPORT_POND"),inputs:e,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(t){console.log("Confirm Cancel: blah")}},{text:"Okay",handler:function(t){o.selectShowPonds(t)}}]});case 4:return t.next=6,t.sent.present();case 6:case"end":return t.stop()}},t,this)}))}},{key:"presentDetailReportPond",value:function(t,e){return(0,r.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.popoverController.create({component:u.H,cssClass:"popoverStyle",componentProps:{pond:t},translucent:!0,mode:"ios",event:e,animated:!0});case 2:return n.next=4,n.sent.present();case 4:case"end":return n.stop()}},n,this)}))}},{key:"presentDetailReportStore",value:function(t,e){return(0,r.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.popoverController.create({component:l.e,cssClass:"popoverStyle",componentProps:{product:t},translucent:!0,mode:"ios",event:e,animated:!0});case 2:return n.next=4,n.sent.present();case 4:case"end":return n.stop()}},n,this)}))}},{key:"presentOptionsStore",value:function(){return(0,r.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n,o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],n=this,this.arrStoreMod.forEach(function(t,o){e.push({name:t.mod,type:"radio",label:t.label,value:o,checked:n.modPondSeleted.mod==t.mod})}),t.next=4,this.alertController.create({cssClass:"my-custom-class",header:this.translate.instant("FARM_MOD.STORE"),inputs:e,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(t){console.log("Confirm Cancel: blah")}},{text:"Okay",handler:function(t){o.selectShowStore(t)}}]});case 4:return t.next=6,t.sent.present();case 6:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(t){return new(t||F)(p.Y36(d.IN),p.Y36(h.sK),p.Y36(c.D),p.Y36(f.k),p.Y36(d.Br),p.Y36(d.Dh))},F.\u0275cmp=p.Xpm({type:F,selectors:[["app-farm-estimate"]],decls:11,vars:5,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["type","indeterminate",4,"ngIf"],[4,"ngIf"],["type","indeterminate"],["mode","ios",4,"ngIf"],["mode","ios"],["name","fish-outline"],[1,"ion-text-center","ion-padding-vertical","noteTarger"],["name","nuclear-outline"],[1,"titleReport"],["name","bowling-ball-outline"],["size","small","shape","round",3,"click",4,"ngIf"],["slot","end"],["button","",3,"click",4,"ngFor","ngForOf"],["name","bar-chart-outline"],["echarts","",3,"options",4,"ngIf"],["name","arrow-undo-outline"],["name","arrow-redo-outline"],["name","cash-outline"],["name","flask-outline"],["name","pie-chart-outline"],["echarts","",3,"options"],["name","medical-outline"],["slot","end","class","ion-margin",4,"ngIf"],["lines","none"],["slot","end",1,"ion-margin"],[1,"ion-padding"],[1,"sm-text","ion-text-center"],["size","small","shape","round",3,"click"],["name","menu-outline"],["button","",3,"click"]],template:function(t,e){1&t&&(p.TgZ(0,"ion-header"),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-title"),p._uU(3),p.ALo(4,"translate"),p.qZA(),p.TgZ(5,"ion-buttons",0),p.TgZ(6,"ion-button",1),p.NdJ("click",function(){return e.modalCtrl.dismiss()}),p._UZ(7,"ion-icon",2),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(8,"ion-content"),p.YNc(9,A,1,0,"ion-progress-bar",3),p.YNc(10,E,125,79,"div",4),p.qZA()),2&t&&(p.xp6(3),p.Oqu(p.lcZ(4,3,"FARM_MOD.ANALYST_FARM")),p.xp6(6),p.Q6J("ngIf",e.loadingFlag.pending),p.xp6(1),p.Q6J("ngIf",e.dataReport))},directives:[d.Gu,d.sr,d.wd,d.Sm,d.YG,d.gu,d.W2,Z.O5,d.X7,d.PM,d.Zi,d.tO,d.q_,d.Ie,d.yW,Z.sg,g._w,d.Q$],pipes:[h.X$,Z.JJ],styles:[".titleReport[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.noteTarger[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2dd36f}"]}),F)},51937:function(e,o,i){i.d(o,{D:function(){return l}});var r,a=i(76329),s=i(15189),c=i(88002),u=i(37716),l=((r=function(){function e(n){t(this,e),this.reqAPIService=n,this.urlApi="/manager/farm-api",this.urlApiAdress="/manager/address-api",this.reload$=new a.BehaviorSubject(0),this.numberOfPonds=0}return n(e,[{key:"setCode",value:function(t){this.fcode=t}},{key:"setFarm",value:function(t){this.farm=t,this.permission=t.permission}},{key:"loadPonds",value:function(){return this.reqAPIService.get("/manager/farm-api-mobie?fcode="+this.fcode+"&action=get-item-pond").pipe((0,c.U)(function(t){return t}))}},{key:"listAddress",value:function(t){return this.reqAPIService.get(this.urlApiAdress+"?action=listUnit&id="+t)}},{key:"loadFarm",value:function(){var t=this;return this.reqAPIService.get("/manager/farm-api-info?fcode="+this.fcode).pipe((0,c.U)(function(e){return t.setFarm(e.data),e}))}},{key:"getSeting",value:function(){return this.reqAPIService.get("/manager/farm-api-mobie?action=get-farm-setting&fcode="+this.fcode).pipe((0,c.U)(function(t){return t}))}},{key:"updatePrivate",value:function(t){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-farm-setting&fcode="+this.fcode,t).pipe((0,c.U)(function(t){return t}))}},{key:"removePermission",value:function(t,e){return this.reqAPIService.get("/manager/farm-api-mobie?action=remove-manager&fcode="+this.fcode+"&user_id="+t+"&position="+e).pipe((0,c.U)(function(t){return t}))}},{key:"updateFarm",value:function(t){return this.reqAPIService.post("/manager/farm-edit-api-mobie?action=edit&fcode="+this.fcode,t).pipe((0,c.U)(function(t){return t}))}},{key:"destroyValue",value:function(){this.farm=null,this.fcode=null,this.permission=null,this.numberOfPonds=null}},{key:"getSpecies",value:function(){return this.reqAPIService.get("/manager/farm-create-api?action=get-species").pipe((0,c.U)(function(t){return t}))}},{key:"insertPond",value:function(t){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-pond&fcode="+this.fcode,t).pipe((0,c.U)(function(t){return t}))}},{key:"insertOnePond",value:function(t){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-a-pond&fcode="+this.fcode,t).pipe((0,c.U)(function(t){return t}))}},{key:"loadReport",value:function(){return this.reqAPIService.get("/manager/farm-api-report?fcode="+this.fcode)}},{key:"listStore",value:function(){return this.reqAPIService.get("/manager/farm-api-mobie?fcode="+this.fcode+"&action=list-store")}}]),e}()).\u0275fac=function(t){return new(t||r)(u.LFG(s.$))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)}}])}();