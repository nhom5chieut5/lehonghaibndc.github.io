!function(){"use strict";function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=i(e);if(t){var s=i(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return n(this,r)}}function n(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[1209],{54395:function(n,i,o){o.d(i,{b:function(){return u}});var a=o(77393),c=o(33637);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.P;return function(n){return n.lift(new l(e,t))}}var l=function(){function e(t,n){r(this,e),this.dueTime=t,this.scheduler=n}return s(e,[{key:"call",value:function(e,t){return t.subscribe(new d(e,this.dueTime,this.scheduler))}}]),e}(),d=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(o,n);var i=t(o);function o(e,t,n){var s;return r(this,o),(s=i.call(this,e)).dueTime=t,s.scheduler=n,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return s(o,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(f,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),o}(a.L);function f(e){e.debouncedNext()}},51937:function(e,t,n){n.d(t,{D:function(){return l}});var i,o=n(76329),a=n(15189),c=n(88002),u=n(37716),l=((i=function(){function e(t){r(this,e),this.reqAPIService=t,this.urlApi="/manager/farm-api",this.urlApiAdress="/manager/address-api",this.reload$=new o.BehaviorSubject(0),this.numberOfPonds=0}return s(e,[{key:"setCode",value:function(e){this.fcode=e}},{key:"setFarm",value:function(e){this.farm=e,this.permission=e.permission}},{key:"loadPonds",value:function(){return this.reqAPIService.get("/manager/farm-api-mobie?fcode="+this.fcode+"&action=get-item-pond").pipe((0,c.U)(function(e){return e}))}},{key:"listAddress",value:function(e){return this.reqAPIService.get(this.urlApiAdress+"?action=listUnit&id="+e)}},{key:"loadFarm",value:function(){var e=this;return this.reqAPIService.get("/manager/farm-api-info?fcode="+this.fcode).pipe((0,c.U)(function(t){return e.setFarm(t.data),t}))}},{key:"getSeting",value:function(){return this.reqAPIService.get("/manager/farm-api-mobie?action=get-farm-setting&fcode="+this.fcode).pipe((0,c.U)(function(e){return e}))}},{key:"updatePrivate",value:function(e){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-farm-setting&fcode="+this.fcode,e).pipe((0,c.U)(function(e){return e}))}},{key:"removePermission",value:function(e,t){return this.reqAPIService.get("/manager/farm-api-mobie?action=remove-manager&fcode="+this.fcode+"&user_id="+e+"&position="+t).pipe((0,c.U)(function(e){return e}))}},{key:"updateFarm",value:function(e){return this.reqAPIService.post("/manager/farm-edit-api-mobie?action=edit&fcode="+this.fcode,e).pipe((0,c.U)(function(e){return e}))}},{key:"destroyValue",value:function(){this.farm=null,this.fcode=null,this.permission=null,this.numberOfPonds=null}},{key:"getSpecies",value:function(){return this.reqAPIService.get("/manager/farm-create-api?action=get-species").pipe((0,c.U)(function(e){return e}))}},{key:"insertPond",value:function(e){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-pond&fcode="+this.fcode,e).pipe((0,c.U)(function(e){return e}))}},{key:"insertOnePond",value:function(e){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-a-pond&fcode="+this.fcode,e).pipe((0,c.U)(function(e){return e}))}},{key:"loadReport",value:function(){return this.reqAPIService.get("/manager/farm-api-report?fcode="+this.fcode)}},{key:"listStore",value:function(){return this.reqAPIService.get("/manager/farm-api-mobie?fcode="+this.fcode+"&action=list-store")}}]),e}()).\u0275fac=function(e){return new(e||i)(u.LFG(a.$))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},31781:function(e,t,n){n.d(t,{S:function(){return x}});var i=n(64762),o=n(90665),a=n(87152),c=n(51937),u=n(27887),l=n(40044),d=n(37716),f=n(47063),p=n(84465),g=n(81780),m=n(38583);function h(e,t){1&e&&d._UZ(0,"ion-progress-bar",18)}function v(e,t){if(1&e&&(d.TgZ(0,"ion-select-option",21),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.id),d.xp6(1),d.Oqu(n.name)}}function A(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-item",8),d.TgZ(1,"ion-label",9),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.TgZ(4,"ion-select",19),d.NdJ("ionChange",function(e){return d.CHM(n),d.oxw(2).changeProvince(e)}),d.YNc(5,v,2,2,"ion-select-option",20),d.qZA(),d.qZA()}if(2&e){var i=d.oxw(2);d.xp6(2),d.Oqu(d.lcZ(3,2,"PROVINCE")),d.xp6(3),d.Q6J("ngForOf",i.listProvince)}}function Z(e,t){if(1&e&&(d.TgZ(0,"ion-select-option",21),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.id),d.xp6(1),d.Oqu(n.name)}}function b(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-item",8),d.TgZ(1,"ion-label",9),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.TgZ(4,"ion-select",22),d.NdJ("ionChange",function(e){return d.CHM(n),d.oxw(2).changeDistrict(e)}),d.YNc(5,Z,2,2,"ion-select-option",20),d.qZA(),d.qZA()}if(2&e){var i=d.oxw(2);d.xp6(2),d.Oqu(d.lcZ(3,2,"DISTRICT")),d.xp6(3),d.Q6J("ngForOf",i.listDistrict)}}function T(e,t){if(1&e&&(d.TgZ(0,"ion-select-option",21),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.id),d.xp6(1),d.Oqu(n.name)}}function q(e,t){if(1&e&&(d.TgZ(0,"ion-item",8),d.TgZ(1,"ion-label",9),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.TgZ(4,"ion-select",23),d.YNc(5,T,2,2,"ion-select-option",20),d.qZA(),d.qZA()),2&e){var n=d.oxw(2);d.xp6(2),d.Oqu(d.lcZ(3,2,"WARDS")),d.xp6(3),d.Q6J("ngForOf",n.listWards)}}function O(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-content",6),d.YNc(1,h,1,0,"ion-progress-bar",7),d.TgZ(2,"ion-list"),d.TgZ(3,"ion-item",8),d.TgZ(4,"ion-label",9),d._uU(5),d.ALo(6,"translate"),d.qZA(),d._UZ(7,"ion-input",10),d.qZA(),d.TgZ(8,"ion-item",8),d.TgZ(9,"ion-label",9),d._uU(10),d.ALo(11,"translate"),d.qZA(),d._UZ(12,"ion-input",11),d.qZA(),d.YNc(13,A,6,4,"ion-item",12),d.YNc(14,b,6,4,"ion-item",12),d.YNc(15,q,6,4,"ion-item",12),d.TgZ(16,"ion-item",8),d.TgZ(17,"ion-label",9),d._uU(18),d.ALo(19,"translate"),d.qZA(),d._UZ(20,"ion-textarea",13),d.qZA(),d.TgZ(21,"ion-item",8),d.TgZ(22,"ion-label",9),d._uU(23),d.ALo(24,"translate"),d.qZA(),d._UZ(25,"ion-input",14),d.qZA(),d.TgZ(26,"ion-item",8),d.TgZ(27,"ion-label",9),d._uU(28),d.ALo(29,"translate"),d.qZA(),d._UZ(30,"ion-input",15),d.qZA(),d.TgZ(31,"ion-item",16),d.TgZ(32,"ion-button",17),d.NdJ("click",function(){return d.CHM(n),d.oxw().getLocation()}),d._uU(33),d.ALo(34,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=d.oxw();d.Q6J("formGroup",i.form),d.xp6(1),d.Q6J("ngIf",i.savingFlag.pending),d.xp6(4),d.Oqu(d.lcZ(6,11,"LAB_MOD.NAME")),d.xp6(5),d.Oqu(d.lcZ(11,13,"FARM_MOD.ADDRESS")),d.xp6(3),d.Q6J("ngIf",i.listProvince),d.xp6(1),d.Q6J("ngIf",i.listDistrict),d.xp6(1),d.Q6J("ngIf",i.listWards),d.xp6(3),d.Oqu(d.lcZ(19,15,"PHOTO_MOD.DESCRIPTION")),d.xp6(5),d.Oqu(d.lcZ(24,17,"FARM_MOD.LONG")),d.xp6(5),d.Oqu(d.lcZ(29,19,"FARM_MOD.LAT")),d.xp6(5),d.Oqu(d.lcZ(34,21,"COMPANY_MOD.CURRENT_LOCATE"))}}var _,x=((_=function(){function e(t,n,i,s,a,c){r(this,e),this.modalController=t,this.farmService=n,this.toastService=i,this.translate=s,this.geolocation=a,this.labService=c,this.savingFlag=new u.E,this.listProvince=[],this.listDistrict=[],this.listWards=[],this.show=!1,this.form=new o.cw({name:new o.NI("",o.kI.required),address:new o.NI("",o.kI.required),wards_id:new o.NI("",o.kI.required),district_id:new o.NI("",o.kI.required),province_id:new o.NI("",o.kI.required),description:new o.NI("",o.kI.required),longitude:new o.NI(""),latitude:new o.NI("")})}return s(e,[{key:"ngOnInit",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.getLocation(),console.log(this.typeAdd);case 1:case"end":return e.stop()}},e,this)}))}},{key:"save",value:function(){var e=this;this.labService[this.typeAdd](this.form.value).subscribe(function(t){1==t.status?(e.toastService.success(e.translate.instant("LAB_MOD.CREATE_SUCCESSFUL")),e.modalController.dismiss(e.form.value)):e.toastService.warning(t.message)},function(){e.toastService.danger(e.translate.instant("ERROR_CONNECT"))})}},{key:"getListAddress",value:function(e,t){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.farmService.listAddress(e).toPromise().catch(function(){r.toastService.danger(r.translate.instant("ERROR_CONNECT"))});case 2:1==(i=n.sent).status?this[t]=i.data:this.toastService.warning(i.message);case 4:case"end":return n.stop()}},n,this)}))}},{key:"changeProvince",value:function(e){var t=e.detail.value;this.listDistrict=[],this.form.patchValue({district_id:""}),this.getListAddress(t,"listDistrict")}},{key:"changeDistrict",value:function(e){var t=e.detail.value;this.listWards=[],this.form.patchValue({wards_id:""}),this.getListAddress(t,"listWards")}},{key:"getLocation",value:function(){var e=this;this.geolocation.getCurrentPosition().then(function(t){console.log(t),t.coords.latitude&&t.coords.longitude&&(e.form.controls.latitude.setValue(t.coords.latitude),e.form.controls.longitude.setValue(t.coords.longitude))}).catch(function(){e.toastService.danger(e.translate.instant("COMPANY_MOD.ERROR_LOCATE"))})}},{key:"ionViewWillEnter",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getListAddress(0,"listProvince");case 2:this.show=!0;case 3:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(e){return new(e||_)(d.Y36(f.IN),d.Y36(c.D),d.Y36(p.k),d.Y36(g.sK),d.Y36(a.b),d.Y36(l.y))},_.\u0275cmp=d.Xpm({type:_,selectors:[["app-lab-create"]],inputs:{typeAdd:"typeAdd"},decls:13,vars:8,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slot","end"],[3,"disabled","click"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["type","indeterminate",4,"ngIf"],["lines","inset"],["position","floating"],["formControlName","name"],["formControlName","address","type","text","inputmode","text"],["lines","inset",4,"ngIf"],["formControlName","description"],["formControlName","longitude","type","tel","inputmode","decimal"],["formControlName","latitude","type","tel","inputmode","decimal"],["lines","none"],["slot","end","fill","outline",3,"click"],["type","indeterminate"],["formControlName","province_id",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","district_id",3,"ionChange"],["formControlName","wards_id"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d.TgZ(3,"ion-button",1),d.NdJ("click",function(){return t.modalController.dismiss()}),d._UZ(4,"ion-icon",2),d.qZA(),d.qZA(),d.TgZ(5,"ion-title"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.TgZ(8,"ion-buttons",3),d.TgZ(9,"ion-button",4),d.NdJ("click",function(){return t.save()}),d._uU(10),d.ALo(11,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(12,O,35,23,"ion-content",5)),2&e&&(d.xp6(6),d.Oqu(d.lcZ(7,4,"LAB_MOD.CREATE_LAB")),d.xp6(3),d.Q6J("disabled",t.form.invalid||t.savingFlag.pending),d.xp6(1),d.Oqu(d.lcZ(11,6,"FARM_MOD.SAVE")),d.xp6(2),d.Q6J("ngIf",t.show))},directives:[f.Gu,f.sr,f.Sm,f.YG,f.gu,f.wd,m.O5,f.W2,o.JL,o.sg,f.q_,f.Ie,f.Q$,f.pK,f.j9,o.JJ,o.u,f.g2,f.X7,f.t9,f.QI,m.sg,f.n0],pipes:[g.X$],styles:[""]}),_)},53772:function(e,t,n){n.d(t,{_:function(){return x}});var i=n(64762),o=n(90665),a=n(87152),c=n(51937),u=n(27887),l=n(40044),d=n(37716),f=n(47063),p=n(84465),g=n(81780),m=n(38583);function h(e,t){1&e&&d._UZ(0,"ion-progress-bar",18)}function v(e,t){if(1&e&&(d.TgZ(0,"ion-select-option",21),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.id),d.xp6(1),d.Oqu(n.name)}}function A(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-item",8),d.TgZ(1,"ion-label",9),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.TgZ(4,"ion-select",19),d.NdJ("ionChange",function(e){return d.CHM(n),d.oxw(2).changeProvince(e)}),d.YNc(5,v,2,2,"ion-select-option",20),d.qZA(),d.qZA()}if(2&e){var i=d.oxw(2);d.xp6(2),d.Oqu(d.lcZ(3,2,"PROVINCE")),d.xp6(3),d.Q6J("ngForOf",i.listProvince)}}function Z(e,t){if(1&e&&(d.TgZ(0,"ion-select-option",21),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.id),d.xp6(1),d.Oqu(n.name)}}function b(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-item",8),d.TgZ(1,"ion-label",9),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.TgZ(4,"ion-select",22),d.NdJ("ionChange",function(e){return d.CHM(n),d.oxw(2).changeDistrict(e)}),d.YNc(5,Z,2,2,"ion-select-option",20),d.qZA(),d.qZA()}if(2&e){var i=d.oxw(2);d.xp6(2),d.Oqu(d.lcZ(3,2,"DISTRICT")),d.xp6(3),d.Q6J("ngForOf",i.listDistrict)}}function T(e,t){if(1&e&&(d.TgZ(0,"ion-select-option",21),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.id),d.xp6(1),d.Oqu(n.name)}}function q(e,t){if(1&e&&(d.TgZ(0,"ion-item",8),d.TgZ(1,"ion-label",9),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.TgZ(4,"ion-select",23),d.YNc(5,T,2,2,"ion-select-option",20),d.qZA(),d.qZA()),2&e){var n=d.oxw(2);d.xp6(2),d.Oqu(d.lcZ(3,2,"WARDS")),d.xp6(3),d.Q6J("ngForOf",n.listWards)}}function O(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-content",6),d.YNc(1,h,1,0,"ion-progress-bar",7),d.TgZ(2,"ion-list"),d.TgZ(3,"ion-item",8),d.TgZ(4,"ion-label",9),d._uU(5),d.ALo(6,"translate"),d.qZA(),d._UZ(7,"ion-input",10),d.qZA(),d.TgZ(8,"ion-item",8),d.TgZ(9,"ion-label",9),d._uU(10),d.ALo(11,"translate"),d.qZA(),d._UZ(12,"ion-input",11),d.qZA(),d.YNc(13,A,6,4,"ion-item",12),d.YNc(14,b,6,4,"ion-item",12),d.YNc(15,q,6,4,"ion-item",12),d.TgZ(16,"ion-item",8),d.TgZ(17,"ion-label",9),d._uU(18),d.ALo(19,"translate"),d.qZA(),d._UZ(20,"ion-textarea",13),d.qZA(),d.TgZ(21,"ion-item",8),d.TgZ(22,"ion-label",9),d._uU(23),d.ALo(24,"translate"),d.qZA(),d._UZ(25,"ion-input",14),d.qZA(),d.TgZ(26,"ion-item",8),d.TgZ(27,"ion-label",9),d._uU(28),d.ALo(29,"translate"),d.qZA(),d._UZ(30,"ion-input",15),d.qZA(),d.TgZ(31,"ion-item",16),d.TgZ(32,"ion-button",17),d.NdJ("click",function(){return d.CHM(n),d.oxw().getLocation()}),d._uU(33),d.ALo(34,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=d.oxw();d.Q6J("formGroup",i.form),d.xp6(1),d.Q6J("ngIf",i.savingFlag.pending),d.xp6(4),d.Oqu(d.lcZ(6,11,"LAB_MOD.NAME")),d.xp6(5),d.Oqu(d.lcZ(11,13,"FARM_MOD.ADDRESS")),d.xp6(3),d.Q6J("ngIf",i.listProvince),d.xp6(1),d.Q6J("ngIf",i.listDistrict),d.xp6(1),d.Q6J("ngIf",i.listWards),d.xp6(3),d.Oqu(d.lcZ(19,15,"PHOTO_MOD.DESCRIPTION")),d.xp6(5),d.Oqu(d.lcZ(24,17,"FARM_MOD.LONG")),d.xp6(5),d.Oqu(d.lcZ(29,19,"FARM_MOD.LAT")),d.xp6(5),d.Oqu(d.lcZ(34,21,"COMPANY_MOD.CURRENT_LOCATE"))}}var _,x=((_=function(){function e(t,n,i,s,a,c){r(this,e),this.modalController=t,this.farmService=n,this.toastService=i,this.translate=s,this.geolocation=a,this.labService=c,this.savingFlag=new u.E,this.listProvince=[],this.listDistrict=[],this.listWards=[],this.show=!1,this.form=new o.cw({name:new o.NI("",o.kI.required),address:new o.NI("",o.kI.required),wards_id:new o.NI("",o.kI.required),district_id:new o.NI("",o.kI.required),province_id:new o.NI("",o.kI.required),description:new o.NI("",o.kI.required),longitude:new o.NI("",o.kI.required),latitude:new o.NI("",o.kI.required)}),this.typeEdit="updateLab"}return s(e,[{key:"ngOnInit",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.typeEdit);case 1:case"end":return e.stop()}},e,this)}))}},{key:"save",value:function(){var e=this;this.labService[this.typeEdit](this.form.value).subscribe(function(t){1==t.status?(e.toastService.success(e.translate.instant("SHOP.CART.ADDRESS.UPDATE_SUCCESS")),e.modalController.dismiss(e.form.value)):e.toastService.warning(t.message)},function(){e.toastService.danger(e.translate.instant("ERROR_CONNECT"))})}},{key:"getListAddress",value:function(e,t){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i,r=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.farmService.listAddress(e).toPromise().catch(function(){r.toastService.danger(r.translate.instant("ERROR_CONNECT"))});case 2:1==(i=n.sent).status?this[t]=i.data:this.toastService.warning(i.message);case 4:case"end":return n.stop()}},n,this)}))}},{key:"changeProvince",value:function(e){var t=e.detail.value;this.listDistrict=[],this.form.patchValue({district_id:""}),this.getListAddress(t,"listDistrict")}},{key:"changeDistrict",value:function(e){var t=e.detail.value;this.listWards=[],this.form.patchValue({wards_id:""}),this.getListAddress(t,"listWards")}},{key:"getLocation",value:function(){var e=this;this.geolocation.getCurrentPosition().then(function(t){console.log(t),t.coords.latitude&&t.coords.longitude&&(e.form.controls.latitude.setValue(t.coords.latitude),e.form.controls.longitude.setValue(t.coords.longitude))}).catch(function(){e.toastService.danger(e.translate.instant("COMPANY_MOD.ERROR_LOCATE"))})}},{key:"ionViewWillEnter",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getListAddress(0,"listProvince");case 2:return e.next=4,this.getListAddress(this.data.province_id,"listDistrict");case 4:return e.next=6,this.getListAddress(this.data.district_id,"listWards");case 6:Object.keys(this.form.controls).forEach(function(e){var n={};n[e]=t.data[e],t.form.patchValue(n)}),this.show=!0;case 8:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(e){return new(e||_)(d.Y36(f.IN),d.Y36(c.D),d.Y36(p.k),d.Y36(g.sK),d.Y36(a.b),d.Y36(l.y))},_.\u0275cmp=d.Xpm({type:_,selectors:[["app-lab-edit"]],inputs:{data:"data",typeEdit:"typeEdit"},decls:13,vars:8,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slot","end"],[3,"disabled","click"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["type","indeterminate",4,"ngIf"],["lines","inset"],["position","floating"],["formControlName","name"],["formControlName","address","type","text","inputmode","text"],["lines","inset",4,"ngIf"],["formControlName","description"],["formControlName","longitude","type","tel","inputmode","decimal"],["formControlName","latitude","type","tel","inputmode","decimal"],["lines","none"],["slot","end","fill","outline",3,"click"],["type","indeterminate"],["formControlName","province_id",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","district_id",3,"ionChange"],["formControlName","wards_id"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d.TgZ(3,"ion-button",1),d.NdJ("click",function(){return t.modalController.dismiss()}),d._UZ(4,"ion-icon",2),d.qZA(),d.qZA(),d.TgZ(5,"ion-title"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.TgZ(8,"ion-buttons",3),d.TgZ(9,"ion-button",4),d.NdJ("click",function(){return t.save()}),d._uU(10),d.ALo(11,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(12,O,35,23,"ion-content",5)),2&e&&(d.xp6(6),d.Oqu(d.lcZ(7,4,"DEVICE_MOD.UPDATE_INFOR")),d.xp6(3),d.Q6J("disabled",t.form.invalid||t.savingFlag.pending),d.xp6(1),d.Oqu(d.lcZ(11,6,"FARM_MOD.SAVE")),d.xp6(2),d.Q6J("ngIf",t.show))},directives:[f.Gu,f.sr,f.Sm,f.YG,f.gu,f.wd,m.O5,f.W2,o.JL,o.sg,f.q_,f.Ie,f.Q$,f.pK,f.j9,o.JJ,o.u,f.g2,f.X7,f.t9,f.QI,m.sg,f.n0],pipes:[g.X$],styles:[""]}),_)},69130:function(e,t,n){n.d(t,{J:function(){return x}});var i=n(64762),o=n(79765),a=n(25917),c=n(54395),u=n(87519),l=n(43190),d=n(51937),f=n(27887),p=n(66341),g=n(40044),m=n(37716),h=n(47063),v=n(81780),A=n(84465),Z=n(38583);function b(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ion-item"),m.TgZ(1,"ion-avatar",0),m._UZ(2,"img",8),m.qZA(),m.TgZ(3,"ion-label"),m.TgZ(4,"h3"),m._uU(5),m.qZA(),m.qZA(),m.TgZ(6,"ion-button",9),m.NdJ("click",function(){var e=m.CHM(n).index;return m.oxw().presentRemoveUser(e)}),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit;m.xp6(5),m.Oqu(i.username),m.xp6(2),m.hij(" ",m.lcZ(8,2,"FARM_MOD.DELETE")," ")}}function T(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"ion-item"),m.TgZ(1,"ion-avatar",0),m._UZ(2,"img",10),m.qZA(),m.TgZ(3,"ion-label"),m.TgZ(4,"h3"),m._uU(5),m.qZA(),m.TgZ(6,"p"),m._uU(7),m.qZA(),m.qZA(),m.TgZ(8,"ion-button",11),m.NdJ("click",function(){var e=m.CHM(n).$implicit;return m.oxw().presentAddUser(e)}),m._uU(9),m.ALo(10,"translate"),m.qZA(),m.qZA()}if(2&e){var i=t.$implicit,r=m.oxw();m.xp6(2),m.Q6J("src",r.memberService.getSitePath()+"/upload/users/avatars/medium/"+i.photo,m.LSH),m.xp6(3),m.Oqu(i.username),m.xp6(2),m.Oqu(i.email),m.xp6(1),m.Q6J("disabled",r.checkExistUser(i)),m.xp6(1),m.hij(" ",m.lcZ(10,5,"FARM_MOD.SELECT")," ")}}function q(e,t){if(1&e&&(m.TgZ(0,"ion-item",12),m.TgZ(1,"ion-label"),m.TgZ(2,"p"),m._uU(3),m.qZA(),m.qZA(),m.qZA()),2&e){var n=m.oxw();m.xp6(3),m.Oqu(n.message)}}function O(e,t){1&e&&(m.TgZ(0,"div"),m._UZ(1,"ion-spinner",13),m.qZA())}var _,x=((_=function(){function e(t,n,i,s,a,c,u){r(this,e),this.modalController=t,this.translate=n,this.memberService=i,this.farmService=s,this.toastService=a,this.labService=c,this.alertController=u,this.savingFlag=new f.E,this.loadingFlag=new f.E,this.searchTerms=new o.xQ}return s(e,[{key:"ngOnInit",value:function(){var e=this,t=this.searchTerms.pipe((0,c.b)(300),(0,u.x)(),(0,l.w)(function(t){return e.getListMember(t)}));this.members$=t,this.members$.subscribe(function(t){t?(e.loadingFlag.setResult(!0),e.message=""):(e.loadingFlag.setResult(!1),e.message=e.translate.instant("FARM_MOD.NOT_FOUND"))})}},{key:"search",value:function(e){this.searchTerms.next(e.detail.value)}},{key:"getListMember",value:function(e){return this.loadingFlag.setPending(!0),e.trim()?this.memberService.searchMember(e).pipe():(this.loadingFlag.setResult(!0),(0,a.of)([]))}},{key:"onSelect",value:function(e){this.memberSelected=e}},{key:"addPermission",value:function(e){var t=this;this.labService.addMember(e.user_id).pipe().subscribe(function(n){0==n.status?t.toastService.warning(n.error):(t.manager.push({username:e.username,user_id:e.user_id}),t.toastService.success(t.translate.instant("FARM_MOD.ADDED_STAFF"))),t.savingFlag.setResult(!0)},function(e){t.savingFlag.setResult(!1),t.toastService.danger(t.translate.instant("ERROR_CONNECT"))})}},{key:"removePermission",value:function(e){var t=this;this.labService.removeMember(this.manager[e].user_id).pipe().subscribe(function(n){0==n.status?t.toastService.warning(n.error):(t.manager.splice(e,1),t.toastService.success(t.translate.instant("FARM_MOD.REMOVED_STAFF"))),t.savingFlag.setResult(!0)},function(e){t.savingFlag.setResult(!1),t.toastService.danger(t.translate.instant("ERROR_CONNECT"))})}},{key:"presentRemoveUser",value:function(e){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({cssClass:"my-custom-class",header:this.translate.instant("CONFIRM")+"!",message:this.translate.instant("FARM_MOD.CONFIRM_REMOVE"),buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){console.log("Confirm Cancel: blah")}},{text:"Okay",handler:function(){n.removePermission(e)}}]});case 2:return t.next=4,t.sent.present();case 4:case"end":return t.stop()}},t,this)}))}},{key:"presentAddUser",value:function(e){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({cssClass:"my-custom-class",header:this.translate.instant("CONFIRM")+"!",message:this.translate.instant("FARM_MOD.CONFIRM_ADD"),buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){console.log("Confirm Cancel: blah")}},{text:"Okay",handler:function(t){n.addPermission(e)}}]});case 2:return t.next=4,t.sent.present();case 4:case"end":return t.stop()}},t,this)}))}},{key:"close",value:function(){this.modalController.dismiss(this.manager)}},{key:"checkExistUser",value:function(e){for(var t=0;t<this.manager.length;t++)if(this.manager[t].user_name==e.username)return!0;return!1}}]),e}()).\u0275fac=function(e){return new(e||_)(m.Y36(h.IN),m.Y36(v.sK),m.Y36(p.n),m.Y36(d.D),m.Y36(A.k),m.Y36(g.y),m.Y36(h.Br))},_.\u0275cmp=m.Xpm({type:_,selectors:[["app-lab-manager"]],inputs:{manager:"manager"},decls:22,vars:13,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],[3,"placeholder","ionChange"],[4,"ngFor","ngForOf"],["lines","none",4,"ngIf"],[1,"ion-text-center"],[4,"ngIf"],["src","assets/img/default-profile.jpg"],["slot","end","color","danger",3,"click"],["onError","this.src='assets/img/default-profile.jpg'",3,"src"],["slot","end",3,"disabled","click"],["lines","none"],["name","dots"]],template:function(e,t){1&e&&(m.TgZ(0,"ion-header"),m.TgZ(1,"ion-toolbar"),m.TgZ(2,"ion-buttons",0),m.TgZ(3,"ion-button",1),m.NdJ("click",function(){return t.modalController.dismiss()}),m._UZ(4,"ion-icon",2),m.qZA(),m.qZA(),m.TgZ(5,"ion-title"),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"ion-content"),m.TgZ(9,"ion-searchbar",3),m.NdJ("ionChange",function(e){return t.search(e)}),m.qZA(),m.TgZ(10,"ion-list"),m.YNc(11,b,9,4,"ion-item",4),m.qZA(),m.TgZ(12,"ion-list"),m.TgZ(13,"ion-list-header"),m.TgZ(14,"ion-label"),m._uU(15),m.ALo(16,"translate"),m.qZA(),m.qZA(),m.YNc(17,T,11,7,"ion-item",4),m.ALo(18,"async"),m.YNc(19,q,4,1,"ion-item",5),m.qZA(),m.TgZ(20,"div",6),m.YNc(21,O,2,0,"div",7),m.qZA(),m.qZA()),2&e&&(m.xp6(6),m.Oqu(m.lcZ(7,7,"LAB_MOD.MEMBER")),m.xp6(3),m.Q6J("placeholder",t.translate.instant("FARM_MOD.MANAGER_EMAIL")),m.xp6(2),m.Q6J("ngForOf",t.manager),m.xp6(4),m.Oqu(m.lcZ(16,9,"FARM_MOD.RESULT")),m.xp6(2),m.Q6J("ngForOf",m.lcZ(18,11,t.members$)),m.xp6(2),m.Q6J("ngIf",t.message),m.xp6(2),m.Q6J("ngIf",t.loadingFlag.pending))},directives:[h.Gu,h.sr,h.Sm,h.YG,h.gu,h.wd,h.W2,h.VI,h.j9,h.q_,Z.sg,h.yh,h.Q$,Z.O5,h.Ie,h.BJ,h.PQ],pipes:[v.X$,Z.Ov],styles:[""]}),_)},1209:function(e,t,n){n.d(t,{V:function(){return q}});var i=n(64762),o=n(27887),a=n(31781),c=n(53772),u=n(69130),l=n(40044),d=n(37716),f=n(47063),p=n(84465),g=n(81780),m=n(13619),h=n(38583);function v(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-item",14),d.NdJ("click",function(){return d.CHM(n),d.oxw(2).presentManager()}),d._UZ(1,"ion-icon",15),d.TgZ(2,"ion-label"),d.TgZ(3,"h3"),d._uU(4),d.ALo(5,"translate"),d.qZA(),d.TgZ(6,"p"),d._uU(7),d.ALo(8,"translate"),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=d.oxw(2);d.xp6(4),d.Oqu(d.lcZ(5,3,"FARM_MOD.MANAGER")),d.xp6(3),d.AsE("",i.infor.members.length," ",d.lcZ(8,5,"FARM_MOD.MEMBER"),"")}}function A(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-button",10),d.NdJ("click",function(){return d.CHM(n),d.oxw(2).presentAddLab()}),d._UZ(1,"ion-icon",16),d._uU(2),d.ALo(3,"translate"),d.qZA()}2&e&&(d.xp6(2),d.hij(" ",d.lcZ(3,1,"LAB_MOD.CREATE_LAB")," "))}function Z(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-button",17),d.NdJ("click",function(){return d.CHM(n),d.oxw(2).removeLab()}),d._UZ(1,"ion-icon",18),d._uU(2),d.ALo(3,"translate"),d.qZA()}2&e&&(d.xp6(2),d.hij(" ",d.lcZ(3,1,"DEVICE_MOD.REMOVE")," "))}function b(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-content"),d.TgZ(1,"div",4),d.TgZ(2,"h1",5),d._uU(3),d.qZA(),d.TgZ(4,"span"),d._uU(5),d.qZA(),d.TgZ(6,"p"),d._uU(7),d.qZA(),d.qZA(),d.TgZ(8,"ion-list"),d.TgZ(9,"ion-item"),d._UZ(10,"ion-icon",6),d.TgZ(11,"ion-label"),d.TgZ(12,"h3"),d._uU(13),d.ALo(14,"translate"),d.qZA(),d.TgZ(15,"p"),d._uU(16),d.qZA(),d.qZA(),d.qZA(),d.TgZ(17,"ion-item"),d._UZ(18,"ion-icon",7),d.TgZ(19,"ion-label"),d.TgZ(20,"h3"),d._uU(21),d.ALo(22,"translate"),d.qZA(),d.TgZ(23,"p"),d._uU(24),d.qZA(),d.qZA(),d.qZA(),d.YNc(25,v,9,7,"ion-item",8),d.qZA(),d.TgZ(26,"div"),d.TgZ(27,"ion-card",9),d.TgZ(28,"ion-card-content"),d.TgZ(29,"ion-button",10),d.NdJ("click",function(){return d.CHM(n),d.oxw().presentEdit()}),d._UZ(30,"ion-icon",11),d._uU(31),d.ALo(32,"translate"),d.qZA(),d.YNc(33,A,4,3,"ion-button",12),d.qZA(),d.qZA(),d.YNc(34,Z,4,3,"ion-button",13),d.qZA(),d.qZA()}if(2&e){var i=d.oxw();d.xp6(3),d.Oqu(i.infor.name),d.xp6(2),d.hij("#",i.infor.code,""),d.xp6(2),d.Oqu(i.infor.description),d.xp6(6),d.Oqu(d.lcZ(14,12,"FARM_MOD.ADDRESS")),d.xp6(3),d.Oqu(i.infor.address),d.xp6(5),d.Oqu(d.lcZ(22,14,"FARM_MOD.LOCATE")),d.xp6(3),d.AsE("",i.infor.longitude," : ",i.infor.latitude,""),d.xp6(1),d.Q6J("ngIf","lab_owner"==i.infor.permission&&!i.labRoot),d.xp6(6),d.hij(" ",d.lcZ(32,16,"FARM_MOD.EDIT")," "),d.xp6(2),d.Q6J("ngIf",i.labRoot),d.xp6(1),d.Q6J("ngIf","lab_owner"==i.infor.permission&&!i.labRoot)}}var T,q=((T=function(){function e(t,n,i,s,a,c,u){r(this,e),this.modalController=t,this.labService=n,this.toastService=i,this.translate=s,this.alertController=a,this.loadingController=c,this.router=u,this.loadingFlag=new o.E,this.labRoot=!1}return s(e,[{key:"ngOnInit",value:function(){this.labRoot?this.infor=this.data.infor:this.getLab()}},{key:"getLab",value:function(){var e=this;this.loadingFlag.setPending(!0),this.labService.getLab().subscribe(function(t){1==t.status?e.infor=t.data:e.toastService.warning(t.message),e.loadingFlag.setResult(!0)},function(){e.toastService.danger(e.translate.instant("ERROR_CONNECT")),e.loadingFlag.setResult(!1)})}},{key:"removeLab",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:this.translate.instant("POND_MOD.CAREFUL"),message:this.translate.instant("POND_MOD.CONFIRM_DELETE")+" <strong>"+this.infor.name+"</strong>?",inputs:[{name:"confirmInput",type:"text",placeholder:this.translate.instant("POND_MOD.ENTER")+' "OK"'}],buttons:[{text:this.translate.instant("NO"),role:"cancel",cssClass:"secondary"},{text:this.translate.instant("POND_MOD.DELETE"),cssClass:"secondary",handler:function(e){"OK"===e.confirmInput&&(t.loadingController.create({message:t.translate.instant("POND_MOD.DELETING")}).then(function(e){e.present()}),t.labService.removeLab(t.infor.id).subscribe(function(e){1==e.status?(t.toastService.success(t.translate.instant("DEVICE_MOD.REMOVE_DATA_SUCCESS")),t.modalController.dismiss(),t.router.navigateByUrl("tabs/management")):t.toastService.warning(e.message),t.loadingController.dismiss()},function(){t.toastService.danger(t.translate.instant("ERROR_CONNECT")),t.loadingController.dismiss()}))}}]});case 2:return e.next=4,e.sent.present();case 4:case"end":return e.stop()}},e,this)}))}},{key:"presentManager",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:u.J,componentProps:{manager:this.infor.members}});case 2:return(t=e.sent).onDidDismiss().then(function(e){e.data&&(n.infor.member=e.data)}),e.next=6,t.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))}},{key:"presentEdit",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:c._,componentProps:{data:this.infor,typeEdit:this.labRoot?"updateLabOwner":"updateLab"}});case 2:return(t=e.sent).onDidDismiss().then(function(e){if(e.data)for(var t in e.data)n.infor[t]=e.data[t]}),e.next=6,t.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))}},{key:"presentAddLab",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:a.S,componentProps:{typeAdd:"addLab"}});case 2:return(t=e.sent).onDidDismiss().then(function(e){}),e.next=6,t.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(e){return new(e||T)(d.Y36(f.IN),d.Y36(l.y),d.Y36(p.k),d.Y36(g.sK),d.Y36(f.Br),d.Y36(f.HT),d.Y36(m.F0))},T.\u0275cmp=d.Xpm({type:T,selectors:[["app-lab-setting"]],inputs:{data:"data",labRoot:"labRoot"},decls:9,vars:4,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],[4,"ngIf"],[1,"ion-padding","ion-text-center"],[1,""],["src","assets/icon/adress.svg","slot","start"],["src","assets/icon/location_on-24px.svg","slot","start"],["detail","",3,"click",4,"ngIf"],["mode","ios"],["size","large","expand","block","shape","round","fill","outline",3,"click"],["name","create-outline","slot","start"],["size","large","expand","block","shape","round","fill","outline",3,"click",4,"ngIf"],["size","small","color","medium","expand","block","fill","clear",3,"click",4,"ngIf"],["detail","",3,"click"],["src","assets/icon/supervised_user_circle-24px.svg","slot","start"],["name","add-outline","slot","start"],["size","small","color","medium","expand","block","fill","clear",3,"click"],["name","remove-circle-outline","slot","start"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d.TgZ(3,"ion-button",1),d.NdJ("click",function(){return t.modalController.dismiss()}),d._UZ(4,"ion-icon",2),d.qZA(),d.qZA(),d.TgZ(5,"ion-title"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.qZA(),d.qZA(),d.YNc(8,b,35,18,"ion-content",3)),2&e&&(d.xp6(6),d.Oqu(d.lcZ(7,2,"LAB_MOD.INFOR_LAB")),d.xp6(2),d.Q6J("ngIf",t.infor))},directives:[f.Gu,f.sr,f.Sm,f.YG,f.gu,f.wd,h.O5,f.W2,f.q_,f.Ie,f.Q$,f.PM,f.FN],pipes:[g.X$],styles:[""]}),T)},40044:function(e,t,n){n.d(t,{y:function(){return u}});var i,o=n(88002),a=n(15189),c=n(37716),u=((i=function(){function e(t){r(this,e),this.reqAPIService=t,this.PATH={MEMBER:"/manager/lab-member-api",MANAGER:"/manager/lab-manager-api",ROOT:"/user/user-lab-api"}}return s(e,[{key:"setCode",value:function(e){this.code=e,console.log("set lab code")}},{key:"getApiStore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.reqAPIService.get(n+="?action="+e+"&lcode="+this.code+t).pipe((0,o.U)(function(e){return e}))}},{key:"postApiStore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this.reqAPIService.post(i+="?action="+e+"&lcode="+this.code+n,t).pipe((0,o.U)(function(e){return e}))}},{key:"loadLab",value:function(){return this.getApiStore("home","",this.PATH.MEMBER)}},{key:"loadLabRoot",value:function(){return this.getApiStore("get","",this.PATH.ROOT)}},{key:"loadFarm",value:function(e){return this.getApiStore("searchFarm","&keyword="+e,this.PATH.MANAGER)}},{key:"addFarm",value:function(e){return this.getApiStore("addFarm","&fcode="+e,this.PATH.MANAGER)}},{key:"removeFarm",value:function(e){return this.getApiStore("removeFarm","&fcode="+e,this.PATH.MANAGER)}},{key:"getLab",value:function(){return this.getApiStore("getLab","",this.PATH.MANAGER)}},{key:"addLab",value:function(e){return this.postApiStore("addLab",e,"",this.PATH.ROOT)}},{key:"register",value:function(e){return this.postApiStore("register",e,"",this.PATH.ROOT)}},{key:"updateLabOwner",value:function(e){return this.postApiStore("updateInfor",e,"",this.PATH.ROOT)}},{key:"updateLab",value:function(e){return this.postApiStore("updateLab",e,"",this.PATH.MANAGER)}},{key:"addMember",value:function(e){return this.getApiStore("addManager","&user_id="+e,this.PATH.ROOT)}},{key:"removeMember",value:function(e){return this.getApiStore("removeManager","&user_id="+e,this.PATH.ROOT)}},{key:"removeLab",value:function(e){return this.getApiStore("removeLab","&id="+e,this.PATH.ROOT)}},{key:"loadSpecies",value:function(){return this.getApiStore("listSpecies","",this.PATH.MANAGER)}},{key:"loadReport",value:function(e){return this.postApiStore("reportLab",e,"",this.PATH.MANAGER)}},{key:"loadAnalyze",value:function(e){return this.postApiStore("analyzeLab",e,"",this.PATH.MANAGER)}}]),e}()).\u0275fac=function(e){return new(e||i)(c.LFG(a.$))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i)},66341:function(e,t,n){n.d(t,{n:function(){return u}});var i,o=n(88002),a=n(15189),c=n(37716),u=((i=function(){function e(t){r(this,e),this.reqAPIService=t,this.urlApi="/manager/farm-api"}return s(e,[{key:"searchMember",value:function(e){return this.reqAPIService.get("/user/list-api-mobie?action=get-user&key="+e).pipe((0,o.U)(function(e){return e.data}))}},{key:"searchExpert",value:function(e){return this.reqAPIService.get("/user/list-api-mobie?action=get-expert&key="+e).pipe((0,o.U)(function(e){return e.data}))}},{key:"getSitePath",value:function(){return this.reqAPIService.FILE_PATH}}]),e}()).\u0275fac=function(e){return new(e||i)(c.LFG(a.$))},i.\u0275prov=c.Yz7({token:i,factory:i.\u0275fac}),i)}}])}();