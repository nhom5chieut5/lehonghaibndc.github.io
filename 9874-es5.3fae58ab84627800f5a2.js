!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[9874],{26164:function(t,i,a){a.d(i,{J:function(){return l}});var o,c=a(15189),r=a(88002),s=a(37716),u=a(71239),l=((o=function(){function t(n,i){e(this,t),this.reqAPIService=n,this.dblocalservice=i,this.urlApi="/manager/company-api",this.urlApiDashboard="/manager/company-dashboard-api-mobie",this.listFarm=[],this.setCompany(this.dblocalservice.company)}return n(t,[{key:"setCode",value:function(e){this.ccode=e}},{key:"setCompany",value:function(e){this.company=e}},{key:"loadFarms",value:function(){return this.reqAPIService.get(this.urlApiDashboard+"?ccode="+this.ccode).pipe((0,r.U)(function(e){return e}))}},{key:"loadCompany",value:function(){return this.reqAPIService.get(this.urlApi+"?ccode="+this.ccode).pipe((0,r.U)(function(e){return e}))}},{key:"loadLog",value:function(e){return this.reqAPIService.get("/manager/log-api?action=company&id="+e).pipe((0,r.U)(function(e){return e}))}},{key:"loadSpecies",value:function(){return this.reqAPIService.get("/manager/farm-create-api?action=get-species").pipe((0,r.U)(function(e){return e}))}},{key:"createFarm",value:function(e){return this.reqAPIService.post("/manager/farm-create-api?action=farm-create&ccode="+this.ccode,e)}},{key:"getInforCompany",value:function(){return this.reqAPIService.get("/manager/company-edit-api-mobie?action=get&cid="+this.company.id).pipe((0,r.U)(function(e){return e}))}},{key:"updateInforCompany",value:function(e){return this.reqAPIService.post("/manager/company-edit-api-mobie?action=edit&cid="+this.company.id,e)}},{key:"registerCode",value:function(e){return this.reqAPIService.post("/manager/company-register-code-api",e)}},{key:"registerCompany",value:function(e){return this.reqAPIService.post("/manager/company-register-api",e)}},{key:"getFirstSetup",value:function(){return this.reqAPIService.get("/manager/company-first-setup-api&action=get-info&ccode="+this.ccode)}},{key:"firstSetup",value:function(e){return this.reqAPIService.post("/manager/company-first-setup-api&action=setup&ccode="+this.ccode,e)}},{key:"loadPackages",value:function(){return this.reqAPIService.get("/manager/company-packages-api-mobie?action=get&cid="+this.company.id).pipe((0,r.U)(function(e){return e}))}},{key:"getPackages",value:function(){return this.reqAPIService.get("/manager/company-packages-api-mobie?action=get-package&cid="+this.company.id).pipe((0,r.U)(function(e){return e}))}},{key:"upgradePackage",value:function(e){return this.reqAPIService.post("/manager/company-packages-api-mobie?action=edit&cid="+this.company.id,e).pipe((0,r.U)(function(e){return e}))}},{key:"renewPackage",value:function(e){return this.reqAPIService.post("/manager/company-packages-api-mobie?action=edit&cid="+this.company.id,e).pipe((0,r.U)(function(e){return e}))}},{key:"saveQuickCreate",value:function(e){return this.reqAPIService.post("/manager/quick-create-api",e)}},{key:"getApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.reqAPIService.get("/".concat(n,"?action=")+e+t).pipe((0,r.U)(function(e){return e}))}},{key:"sendPost",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this.reqAPIService.post("/".concat(i,"?action=")+e+n,t).pipe((0,r.U)(function(e){return e}))}}]),t}()).\u0275fac=function(e){return new(e||o)(s.LFG(c.$),s.LFG(u.T))},o.\u0275prov=s.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o)},19874:function(t,i,a){a.d(i,{W:function(){return M}});var o=a(90665),c=a(26164),r=a(27887),s=a(26215),u=a(16738),l=a(62014),p=a(37716),d=a(84465),g=a(47063),f=a(81780),h=a(38583),v=["slides"];function m(e,t){1&e&&p._UZ(0,"ion-icon",21)}function A(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"ion-chip",8),p.NdJ("click",function(){var e=p.CHM(n).$implicit;return p.oxw().onSelectedSpecies(e)}),p.TgZ(1,"ion-label"),p._uU(2),p.qZA(),p.YNc(3,m,1,0,"ion-icon",9),p.qZA()}if(2&e){var i=t.$implicit,a=p.oxw();p.xp6(2),p.Oqu(i.name),p.xp6(1),p.Q6J("ngIf",i==a.speciesSelected)}}function Z(e,t){1&e&&p._UZ(0,"ion-icon",21)}function O(e,t){1&e&&p._UZ(0,"ion-icon",21)}function _(e,t){1&e&&p._UZ(0,"ion-icon",22)}function C(e,t){1&e&&p._UZ(0,"ion-icon",22)}var y,M=((y=function(){function t(n,i,a,c,p){e(this,t),this.companyService=n,this.toastService=i,this.navCtrl=a,this.translate=c,this.modalCtrl=p,this.listSpecies=[],this.saveWaiting=new r.E,this.$processing=new s.X(0),this.dateForm=new o.NI(u().format("YYYY-MM-DD")),this.maxDate=u(),this.minDate=u().subtract(180,"days"),this.numberFormatCost=new l.y("")}return n(t,[{key:"ngOnInit",value:function(){this.data={species:0,type_season:"intensive",procedureDefault:!0,startDate:u().format("YYYY-MM-DD"),prepareCost:0},this.getListSpecies()}},{key:"formatCost",value:function(e){this.numberFormatCost.setValue(e.detail.value)}},{key:"getListSpecies",value:function(){var e=this;this.companyService.loadSpecies().subscribe(function(t){t.error||1!=t.status?e.toastService.warning(e.translate.instant("COMPANY_MOD.DATA_ERROR")):e.listSpecies=t.data},function(t){e.toastService.danger(e.translate.instant("ERROR_CONNECT"))})}},{key:"finishCreate",value:function(){var e=this;this.data.prepareCost=this.numberFormatCost.realValue,this.data.startDate=(u(this.data.startDate).valueOf()/1e3).toString(),this.saveWaiting.setPending(!0),this.companyService.saveQuickCreate(this.data).subscribe(function(t){0==t.status&&t.message?e.toastService.warning(t.message):(e.$processing.next(1),e.modalCtrl.dismiss(t.data)),e.saveWaiting.setResult(!0)},function(t){e.toastService.danger(e.translate.instant("ERROR_CONNECT")),e.saveWaiting.setResult(!1)})}},{key:"onSelectedSpecies",value:function(e){this.speciesSelected=e,this.data.species=e.species_id,this.slides.lockSwipes(!1)}}]),t}()).\u0275fac=function(e){return new(e||y)(p.Y36(c.J),p.Y36(d.k),p.Y36(g.SH),p.Y36(f.sK),p.Y36(g.IN))},y.\u0275cmp=p.Xpm({type:y,selectors:[["app-quick-create"]],viewQuery:function(e,t){var n;1&e&&p.Gf(v,5),2&e&&p.iGM(n=p.CRH())&&(t.slides=n.first)},decls:97,vars:75,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slides",""],[1,"w-100","ion-padding"],["color","primary",3,"click",4,"ngFor","ngForOf"],[1,"ion-padding"],["shape","round",3,"disabled","click"],["color","primary",3,"click"],["name","checkmark-circle-outline",4,"ngIf"],["shape","round",3,"click"],[1,"tip"],["color","medium","shape","round","fill","outline",3,"click"],["slot","start","name","checkmark-circle-outline",4,"ngIf"],["color","primary","shape","round","fill","outline",3,"click"],["shape","round","fill","clear",3,"click"],["slot","start","name","arrow-back"],["lines","inset"],[3,"displayFormat","placeholder","ngModel","min","max","ngModelChange"],["position","floating"],["inputmode","numeric",3,"value","ionChange"],["name","checkmark-circle-outline"],["slot","start","name","checkmark-circle-outline"]],template:function(e,t){if(1&e){var n=p.EpF();p.TgZ(0,"ion-header"),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-buttons",0),p.TgZ(3,"ion-button",1),p.NdJ("click",function(){return t.modalCtrl.dismiss()}),p._UZ(4,"ion-icon",2),p.qZA(),p.qZA(),p.TgZ(5,"ion-title"),p._uU(6),p.ALo(7,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(8,"ion-content"),p.TgZ(9,"ion-slides",null,3),p.TgZ(11,"ion-slide"),p.TgZ(12,"div",4),p.TgZ(13,"h1"),p._uU(14),p.ALo(15,"translate"),p.qZA(),p.TgZ(16,"div"),p.YNc(17,A,4,2,"ion-chip",5),p.TgZ(18,"div",6),p.TgZ(19,"ion-button",7),p.NdJ("click",function(){return p.CHM(n),p.MAs(10).slideNext()}),p._uU(20),p.ALo(21,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(22,"ion-slide"),p.TgZ(23,"div",4),p.TgZ(24,"h1"),p._uU(25),p.ALo(26,"translate"),p.qZA(),p.TgZ(27,"div"),p.TgZ(28,"ion-chip",8),p.NdJ("click",function(){return t.data.type_season="intensive"}),p.TgZ(29,"ion-label"),p._uU(30),p.ALo(31,"translate"),p.qZA(),p.YNc(32,Z,1,0,"ion-icon",9),p.qZA(),p.TgZ(33,"ion-chip",8),p.NdJ("click",function(){return t.data.type_season="extensive"}),p.TgZ(34,"ion-label"),p._uU(35),p.ALo(36,"translate"),p.qZA(),p.YNc(37,O,1,0,"ion-icon",9),p.qZA(),p.TgZ(38,"div",6),p.TgZ(39,"ion-button",10),p.NdJ("click",function(){return p.CHM(n),p.MAs(10).slideNext()}),p._uU(40),p.ALo(41,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(42,"ion-slide"),p.TgZ(43,"div",4),p.TgZ(44,"h1"),p._uU(45),p.ALo(46,"translate"),p.qZA(),p.TgZ(47,"p",11),p._uU(48),p.ALo(49,"translate"),p.TgZ(50,"b"),p._uU(51),p.qZA(),p._uU(52),p.ALo(53,"translate"),p.qZA(),p.TgZ(54,"div"),p.TgZ(55,"div"),p.TgZ(56,"ion-button",12),p.NdJ("click",function(){return t.data.procedureDefault=!1}),p.YNc(57,_,1,0,"ion-icon",13),p._uU(58),p.ALo(59,"translate"),p.qZA(),p.TgZ(60,"ion-button",14),p.NdJ("click",function(){return t.data.procedureDefault=!0}),p.YNc(61,C,1,0,"ion-icon",13),p._uU(62),p.ALo(63,"translate"),p.qZA(),p.qZA(),p.TgZ(64,"div",6),p.TgZ(65,"ion-button",15),p.NdJ("click",function(){return p.CHM(n),p.MAs(10).slidePrev()}),p._UZ(66,"ion-icon",16),p._uU(67),p.ALo(68,"translate"),p.qZA(),p.TgZ(69,"ion-button",10),p.NdJ("click",function(){return p.CHM(n),p.MAs(10).slideNext()}),p._uU(70),p.ALo(71,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(72,"ion-slide"),p.TgZ(73,"div",4),p.TgZ(74,"ion-item",17),p.TgZ(75,"ion-label"),p._uU(76),p.ALo(77,"translate"),p.qZA(),p.TgZ(78,"ion-datetime",18),p.NdJ("ngModelChange",function(e){return t.data.startDate=e}),p.ALo(79,"translate"),p.ALo(80,"translate"),p.qZA(),p.qZA(),p.TgZ(81,"ion-item",17),p.TgZ(82,"ion-label",19),p._uU(83),p.ALo(84,"translate"),p.qZA(),p.TgZ(85,"ion-input",20),p.NdJ("ionChange",function(e){return t.formatCost(e)}),p.qZA(),p.qZA(),p.TgZ(86,"p",11),p._uU(87),p.ALo(88,"translate"),p.qZA(),p.TgZ(89,"div",6),p.TgZ(90,"ion-button",15),p.NdJ("click",function(){return p.CHM(n),p.MAs(10).slidePrev()}),p._UZ(91,"ion-icon",16),p._uU(92),p.ALo(93,"translate"),p.qZA(),p.TgZ(94,"ion-button",7),p.NdJ("click",function(){return t.finishCreate()}),p._uU(95),p.ALo(96,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}2&e&&(p.xp6(6),p.Oqu(p.lcZ(7,33,"COMPANY_MOD.QUICK_START")),p.xp6(8),p.Oqu(p.lcZ(15,35,"COMPANY_MOD.RAISE")),p.xp6(3),p.Q6J("ngForOf",t.listSpecies),p.xp6(2),p.Q6J("disabled",!t.speciesSelected),p.xp6(1),p.hij("",p.lcZ(21,37,"NEXT")," "),p.xp6(5),p.Oqu(p.lcZ(26,39,"POND_MOD.TYPE_SEASON")),p.xp6(5),p.Oqu(p.lcZ(31,41,"POND_MOD.TYPE_SEASON_INTENSIVE")),p.xp6(2),p.Q6J("ngIf","intensive"==t.data.type_season),p.xp6(3),p.Oqu(p.lcZ(36,43,"POND_MOD.TYPE_SEASON_EXTENSIVE")),p.xp6(2),p.Q6J("ngIf","extensive"==t.data.type_season),p.xp6(3),p.hij("",p.lcZ(41,45,"NEXT")," "),p.xp6(5),p.Oqu(p.lcZ(46,47,"COMPANY_MOD.ADD_PROCEDURE")),p.xp6(3),p.hij("",p.lcZ(49,49,"COMPANY_MOD.SOME_PROCEDURE")," "),p.xp6(3),p.Oqu(null==t.speciesSelected?null:t.speciesSelected.name),p.xp6(1),p.hij(" ",p.lcZ(53,51,"COMPANY_MOD.WILL_ADD_PROCEDURE"),""),p.xp6(5),p.Q6J("ngIf",0==t.data.procedureDefault),p.xp6(1),p.hij(" ",p.lcZ(59,53,"COMPANY_MOD.NO")," "),p.xp6(3),p.Q6J("ngIf",1==t.data.procedureDefault),p.xp6(1),p.hij(" ",p.lcZ(63,55,"COMPANY_MOD.YES")," "),p.xp6(5),p.hij("",p.lcZ(68,57,"BACK")," "),p.xp6(3),p.Oqu(p.lcZ(71,59,"NEXT")),p.xp6(6),p.Oqu(p.lcZ(77,61,"POND_MOD.SEASON_CREATE_DATE")),p.xp6(2),p.Q6J("displayFormat",p.lcZ(79,63,"FORMAT_DATE_MOMENT"))("placeholder",p.lcZ(80,65,"SELECT_DATE"))("ngModel",t.data.startDate)("min",t.minDate.format("YYYY-MM-DD"))("max",t.maxDate.format("YYYY-MM-DD")),p.xp6(5),p.Oqu(p.lcZ(84,67,"POND_MOD.PREPARED_CODE")),p.xp6(2),p.Q6J("value",t.numberFormatCost.fakeView),p.xp6(2),p.hij(" ",p.lcZ(88,69,"POND_MOD.NOTE_PREPARE")," "),p.xp6(5),p.hij("",p.lcZ(93,71,"BACK")," "),p.xp6(2),p.Q6J("disabled",t.saveWaiting.pending),p.xp6(1),p.hij(" ",p.lcZ(96,73,"CONFIRM"),""))},directives:[g.Gu,g.sr,g.Sm,g.YG,g.gu,g.wd,g.W2,g.Hr,g.A$,h.sg,g.hM,g.Q$,h.O5,g.Ie,g.x4,g.QI,o.JJ,o.On,g.pK,g.j9],pipes:[f.X$],styles:["[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .w-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{font-size:.6em;font-style:italic;padding:10px}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .p-info[_ngcontent-%COMP%]{padding:5px 0}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]{position:absolute;top:20px;border-radius:5px;border:1px solid #ffeeba;left:10%;width:80%;color:#856404;background-color:#fff3cd;text-align:left}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:.8em;padding:10px}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:5px}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]   .containter[_ngcontent-%COMP%]{vertical-align:middle;padding:10px}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]   .containter[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8em;padding:0 3px}"]}),y)},62014:function(t,i,a){a.d(i,{y:function(){return o}});var o=function(){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"currency";e(this,t),this.setType(i),this.setInput(n),this.processConvert()}return n(t,[{key:"setInput",value:function(e){"string"!=typeof e&&(e=String(e)),this.input=e}},{key:"setValue",value:function(e){"string"!=typeof e&&(e=String(e)),this.input=e,this.processConvert()}},{key:"setType",value:function(e){this.type=e}},{key:"processConvert",value:function(){var e,t,n=this.input.split(",").join("");if(n.indexOf(".")!=n.lastIndexOf(".")&&(n=n.slice(0,n.lastIndexOf("."))),-1!=n.indexOf(".")){t=n.indexOf(".");var i=n.split(".");n=i[0],"float"===this.type&&(e=i[1].substring(0,2))}else t=n.length;for(var a=new Array,o=1,c=-3;Math.abs(c)<t;c-=3)a.push(n.slice(c,t+c+3)),o++;var r=n.slice(0,t-3*(o-1));r.length>0&&a.push(r),a.reverse();var s=n.replace(/,/gi,""),u="";this.fakeView=a.join(),"float"===this.type&&null!=e&&(this.fakeView=this.fakeView+"."+e,u=e),this.realValue=parseFloat(s+"."+u)}}]),t}()}}])}();