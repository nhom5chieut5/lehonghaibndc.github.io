!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[7850],{19228:function(e,n,o){o.d(n,{r:function(){return u}});var r,a=o(15189),s=o(88002),l=o(37716),u=((r=function(){function e(i){t(this,e),this.reqAPIService=i,this.urlApi="/manager/money-api-mobie",this.urlApiNew="/manager/finance-api"}return i(e,[{key:"setCode",value:function(t){this.fcode=t,console.log(this.fcode)}},{key:"loadMoney",value:function(t){return this.reqAPIService.get(this.urlApiNew+"?fcode="+this.fcode+"&action=list&page="+t).pipe((0,s.U)(function(t){return t}))}},{key:"search",value:function(t){return this.reqAPIService.get(this.urlApiNew+"?fcode="+this.fcode+"&action=search&keyword="+t.keyword+"&type="+t.type+"&timeFrom="+t.timeFrom+"&timeTo="+t.timeTo+"&page=0&numRow=20").pipe((0,s.U)(function(t){return t}))}},{key:"quickSearch",value:function(t){return this.reqAPIService.get(this.urlApiNew+"?fcode="+this.fcode+"&action=quick-search&type="+t.type+"&keyword="+t.keyword).pipe((0,s.U)(function(t){return t}))}},{key:"add",value:function(t){return this.reqAPIService.postApiWithFile("add",t,"&fcode="+this.fcode,this.urlApiNew)}},{key:"edit",value:function(t){return this.reqAPIService.postApiWithFile("edit",t,"&fcode="+this.fcode+"&item="+t.get("id")+"&cr="+t.get("type"),this.urlApiNew)}},{key:"editGroup",value:function(t){return this.reqAPIService.postApiWithFile("editTypeAll",t,"&fcode="+this.fcode+"&item="+t.get("id")+"&cr="+t.get("type"),this.urlApiNew)}},{key:"delete",value:function(t){return this.reqAPIService.get(this.urlApiNew+"?fcode="+this.fcode+"&action=detele&item="+t.item+"&cr="+t.cr)}},{key:"getAnalyst",value:function(t){return this.reqAPIService.post(this.urlApiNew+"?fcode="+this.fcode+"&action=analyst",t)}},{key:"getGroup",value:function(t,e){return this.reqAPIService.get(this.urlApiNew+"?fcode="+this.fcode+"&action=getItemByCode&code="+t+"&cr="+e)}},{key:"getCategories",value:function(){return this.reqAPIService.get(this.urlApiNew+"?fcode="+this.fcode+"&action=listCategory")}},{key:"confirmMoney",value:function(t,e,i,n){return this.reqAPIService.get(this.urlApiNew+"?action=confirm&ccode="+i+"&cr="+e+"&id="+t+"&confirm="+n)}},{key:"updateFund",value:function(t,e){return this.reqAPIService.get(this.urlApiNew+"?action=updateFund&fcode="+t+"&value="+e)}},{key:"addCategory",value:function(t){return this.reqAPIService.post(this.urlApiNew+"?action=addCategory&fcode="+this.fcode,t)}},{key:"searchCustomer",value:function(t,e){return this.reqAPIService.post(this.urlApiNew+"?action=searchCustomer&fcode="+this.fcode,{name:t,type:e})}},{key:"getBill",value:function(t,e){return this.reqAPIService.get(this.urlApiNew+"?action=get&fcode="+this.fcode+"&type="+e+"&id="+t)}},{key:"getCustomers",value:function(){return this.reqAPIService.get(this.urlApiNew+"?action=getCustomers&fcode="+this.fcode)}},{key:"getACustomer",value:function(t){return this.reqAPIService.get(this.urlApiNew+"?action=getACustomer&fcode="+this.fcode+"&customer_slug="+t)}},{key:"getDebtCustomer",value:function(t,e){return this.reqAPIService.get(this.urlApiNew+"?action=getDebtCustomer&type="+e+"&fcode="+this.fcode+"&customer_slug="+t)}},{key:"addMultiDebtRecord",value:function(t){return this.reqAPIService.post(this.urlApiNew+"?action=addMultiDebt&fcode="+this.fcode,t)}},{key:"getBillByAlias",value:function(t,e){return this.reqAPIService.get(this.urlApiNew+"?action=getByAlias&fcode="+this.fcode+"&alias="+t+"&type="+e)}},{key:"getListMoneyByGroup",value:function(){return this.reqAPIService.get(this.urlApiNew+"?action=getListMoneyByGroup&fcode="+this.fcode)}},{key:"getDetailByGroup",value:function(t,e){return this.reqAPIService.get(this.urlApiNew+"?action=getDetailByGroup&fcode="+this.fcode+"&group="+t+"&type="+e)}},{key:"getDebtByGroup",value:function(t,e){return this.reqAPIService.get(this.urlApiNew+"?action=getDebtByGroup&type="+e+"&fcode="+this.fcode+"&group="+t)}}]),e}()).\u0275fac=function(t){return new(t||r)(l.LFG(a.$))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},97850:function(e,n,o){o.r(n),o.d(n,{StorePageModule:function(){return kt}});var r,a=o(38583),s=o(90665),l=o(13619),u=o(47063),c=o(64762),d=o(51937),p=o(22923),g=o(96351),m=o(37716),f=o(92652),Z=o(81780),h=((r=function(){function e(i,n,o,r,a){t(this,e),this.modalController=i,this.route=n,this.router=o,this.farmService=r,this.storeService=a}return i(e,[{key:"ngOnInit",value:function(){var t=this.route.snapshot.paramMap.get("id");void 0===t?this.router.navigateByUrl("tabs"):(this.farmService.setCode(t),this.storeService.setFarmCode(t))}},{key:"presentReportStore",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:g.E});case 2:return t.next=4,t.sent.present();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}))}}]),e}()).\u0275fac=function(t){return new(t||r)(m.Y36(u.IN),m.Y36(l.gz),m.Y36(l.F0),m.Y36(d.D),m.Y36(p.d))},r.\u0275cmp=m.Xpm({type:r,selectors:[["app-store"]],decls:12,vars:3,consts:[["slot","start"],["text","","defaultHref","tabs/management"],["slot","end"],[3,"click"],["slot","icon-only","name","stats-chart-outline"]],template:function(t,e){1&t&&(m.TgZ(0,"ion-header"),m.TgZ(1,"ion-toolbar"),m.TgZ(2,"ion-buttons",0),m._UZ(3,"ion-back-button",1),m.qZA(),m.TgZ(4,"ion-title"),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.TgZ(7,"ion-buttons",2),m.TgZ(8,"ion-button",3),m.NdJ("click",function(){return e.presentReportStore()}),m._UZ(9,"ion-icon",4),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(10,"ion-content"),m._UZ(11,"app-store-list"),m.qZA()),2&t&&(m.xp6(5),m.Oqu(m.lcZ(6,1,"WAREHOUSE_MOD.TITLE")))},directives:[u.Gu,u.sr,u.Sm,u.oU,u.cs,u.wd,u.YG,u.gu,u.W2,f.z],pipes:[Z.X$],styles:[""]}),r),A=o(27887),v=o(28049),q=o(16738),b=o(54395),T=o(87519),x=o(62014),_=o(19228),O=o(92340),y=o(84465),E=o(82196),S=o(25375);function w(t,e){if(1&t&&(m.TgZ(0,"div",18),m.TgZ(1,"ion-text",19),m._uU(2),m.qZA(),m.qZA()),2&t){var i=m.oxw();m.xp6(2),m.Oqu(i.message)}}function U(t,e){1&t&&(m.TgZ(0,"div",20),m._UZ(1,"ion-spinner",21),m.qZA())}function I(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"ion-item",22),m.TgZ(1,"ion-label",23),m._uU(2),m.ALo(3,"translate"),m.TgZ(4,"ion-text",19),m._uU(5),m.ALo(6,"translate"),m.ALo(7,"number"),m.ALo(8,"translate"),m.qZA(),m.qZA(),m.TgZ(9,"ion-input",24),m.NdJ("ionFocus",function(){return m.CHM(i),m.oxw().setAmountPayed()})("ionChange",function(t){return m.CHM(i),m.oxw().numberFormatPayed.setValue(t.detail.value)}),m.qZA(),m.qZA()}if(2&t){var n=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,5,"MONEY_MOD.PAYED")),m.xp6(3),m.lnq("(",m.lcZ(6,7,"WAREHOUSE_MOD.TOTAL_COST")," ",m.xi3(7,9,n.totalCost,"1.0-1"),"",m.lcZ(8,12,"CURRENCY_S"),")"),m.xp6(4),m.Q6J("value",n.numberFormatPayed.fakeView)}}function C(t,e){1&t&&(m.TgZ(0,"ion-item",22),m.TgZ(1,"ion-text",19),m._uU(2," Chi ph\xed \u0111\xe3 tr\u1ea3 lu\xf4n nh\u1ecf h\u01a1n ho\u1eb7c b\u1eb1ng chi ph\xed "),m.qZA(),m.qZA())}function k(t,e){1&t&&(m.TgZ(0,"ion-item",22),m.TgZ(1,"ion-label",23),m._uU(2),m.ALo(3,"translate"),m.qZA(),m._UZ(4,"ion-input",25),m.qZA()),2&t&&(m.xp6(2),m.Oqu(m.lcZ(3,1,"MONEY_MOD.CUSTOMER")))}function D(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"ion-item"),m.TgZ(1,"ion-text"),m._uU(2),m.qZA(),m.TgZ(3,"ion-button",28),m.NdJ("click",function(){var t=m.CHM(i).$implicit;return m.oxw(2).setCustomerName(t.customer_name)}),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA()}if(2&t){var n=e.$implicit;m.xp6(2),m.hij(" ",n.customer_name," "),m.xp6(2),m.hij(" ",m.lcZ(5,2,"SELECT")," ")}}function N(t,e){if(1&t&&(m.TgZ(0,"ion-list",26),m.YNc(1,D,6,4,"ion-item",27),m.qZA()),2&t){var i=m.oxw();m.xp6(1),m.Q6J("ngForOf",i.listCustomer)}}function R(t,e){if(1&t&&(m.TgZ(0,"ion-select-option",43),m._uU(1),m.qZA()),2&t){var i=e.$implicit;m.Q6J("value",i.product_id),m.xp6(1),m.AsE("",i.name," - ",i.manufacturer_name,"")}}function F(t,e){if(1&t&&(m.TgZ(0,"small"),m._uU(1),m.qZA()),2&t){var i=m.oxw().index,n=m.oxw();m.xp6(1),m.hij("(",n.rowsImplement[i],")")}}function Y(t,e){if(1&t&&(m.TgZ(0,"small"),m._uU(1),m.qZA()),2&t){var i=m.oxw().index,n=m.oxw();m.xp6(1),m.hij("/",n.rowsImplement[i],"")}}function M(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"ion-row",29),m.TgZ(1,"ion-col",30),m.TgZ(2,"ion-button",31),m.NdJ("click",function(){var t=m.CHM(i).index;return m.oxw().removeRow(t)}),m._UZ(3,"ion-icon",32),m.qZA(),m.qZA(),m.TgZ(4,"ion-col",33),m.TgZ(5,"ion-item"),m.TgZ(6,"ion-label",23),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.TgZ(9,"ion-select",34),m.NdJ("ionChange",function(t){var e=m.CHM(i).index;return m.oxw().productChange(t,e)}),m.YNc(10,R,2,3,"ion-select-option",35),m.qZA(),m.qZA(),m.qZA(),m.TgZ(11,"ion-col",36),m.TgZ(12,"ion-item"),m.TgZ(13,"ion-label",23),m._uU(14),m.ALo(15,"translate"),m.YNc(16,F,2,1,"small",37),m.qZA(),m._UZ(17,"ion-input",38),m.qZA(),m.qZA(),m.TgZ(18,"ion-col",39),m.TgZ(19,"ion-item"),m.TgZ(20,"ion-label",23),m._uU(21),m.ALo(22,"translate"),m.YNc(23,Y,2,1,"small",37),m.qZA(),m._UZ(24,"ion-input",40),m.qZA(),m.qZA(),m.TgZ(25,"ion-col",41),m.TgZ(26,"ion-item"),m.TgZ(27,"ion-label",42),m._uU(28),m.ALo(29,"translate"),m.qZA(),m.TgZ(30,"span"),m.TgZ(31,"ion-text",19),m._uU(32),m.ALo(33,"number"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&t){var n=e.$implicit,o=e.index,r=m.oxw();m.s9C("formGroupName",o),m.xp6(7),m.Oqu(m.lcZ(8,9,"WAREHOUSE_MOD.PRODUCT")),m.xp6(3),m.Q6J("ngForOf",r.products),m.xp6(4),m.hij("",m.lcZ(15,11,"WAREHOUSE_MOD.QUANTITY")," "),m.xp6(2),m.Q6J("ngIf",r.rowsImplement[o]),m.xp6(5),m.hij("",m.lcZ(22,13,"WAREHOUSE_MOD.PRICE")," "),m.xp6(2),m.Q6J("ngIf",r.rowsImplement[o]),m.xp6(5),m.Oqu(m.lcZ(29,15,"WAREHOUSE_MOD.VALUE")),m.xp6(4),m.Oqu(m.xi3(33,17,n.value.quantity*n.value.price,"1.0-0"))}}var L=function(){var e=function(){function e(i,n,o,r,a,l,u){t(this,e),this.modalCtrl=i,this._fb=n,this.storeService=o,this.toastService=r,this.translate=a,this.moneyService=l,this.settingService=u,this.loadingFlag=new A.E,this.products=[],this.totalCost=0,this.saveLoading=new A.E,this.maxDate=q(),this.minDate=q().subtract(100,"days"),this.alowEdit=!0,this.message="",this.billForm=this._fb.group({detail:this._fb.group({bill_code:[""],date:[q().format("YYYY-MM-DD"),s.kI.required],vendor:[""],transporter:[""],amounts_payed:[""],customer:[""]}),rows:this._fb.array([])}),this.rowsImplement=[""],this.dataUpload={path:"",name:"",base:"",file:null},this.listCustomer=[],this.numberFormatPayed=new x.y("")}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.storeService.getStore()?this.products=this.storeService.getStore():this.storeService.getApiStore("get").subscribe(function(e){1==e.status&&(t.storeService.setStore(e.data.list),t.products=t.storeService.getStore())}),this.billForm.controls.detail.get("customer").valueChanges.pipe((0,b.b)(300),(0,T.x)()).subscribe(function(e){t.getListCustomer()}),this.getImportBill(this.bill),this.fcode=this.storeService.getFarmCode(),this.moneyService.setCode(this.fcode.toString()),this.rows.valueChanges.subscribe(function(){t.rows.invalid||(t.totalCost=0,t.rows.value.forEach(function(e){t.totalCost+=e.price*e.quantity}))}),this.getBill()}},{key:"getListCustomer",value:function(){var t=this;this.listCustomer=[],this.moneyService.searchCustomer(this.billForm.value.detail.customer,"").subscribe(function(e){1==e.status&&(t.listCustomer=e.data.filter(function(e){return e.customer_name!=t.billForm.value.detail.customer}),console.log(t.listCustomer))},function(e){t.toastService.danger(t.translate.instant("ERROR_CONNECT"))})}},{key:"setCustomerName",value:function(t){this.billForm.controls.detail.patchValue({customer:t})}},{key:"setAmountPayed",value:function(){this.numberFormatPayed.setValue(this.totalCost)}},{key:"rows",get:function(){return this.billForm.get("rows")}},{key:"getImportBill",value:function(t){var e=this;this.loadingFlag.setPending(!0),this.storeService.getApiStore("import-bills","&id=".concat(t.id)).subscribe(function(t){if(0!==t.status&&t.data){var i=t.data.import_bills;e.setBillDetail(t.data.bill),e.buildRow(i)}else e.toastService.warning(t.error);e.loadingFlag.setResult(!0)},function(t){e.toastService.danger(e.translate.instant("ERROR_CONNECT")),e.loadingFlag.setResult(!1)})}},{key:"setBillDetail",value:function(t){this.billForm.controls.detail.patchValue({date:t.date,bill_code:t.bill_code,vendor:t.vendor,transporter:t.vendor}),t.image&&(this.dataUpload.path=O.bl.FILE_PATH+"/upload/"+t.image),("0000-00-00"==t.date||q().diff(q(t.date),"days")>3)&&(this.alowEdit=!1,this.message=this.translate.instant("WAREHOUSE_MOD.MAX_3_DAY"))}},{key:"addRow",value:function(){if(this.rows.length>=5)return!1;var t=this._fb.group({id:["",s.kI.required],date:[""],pack:[1],quantity:["",[s.kI.required,s.kI.min(0)]],price:["",[s.kI.required,s.kI.min(0)]]});this.rows.push(t)}},{key:"buildRow",value:function(t){var e=this;t.forEach(function(t){var i=e._fb.group({id:[t.id,s.kI.required],date:[t.date],pack:[1],quantity:[t.quantity,[s.kI.required,s.kI.min(0)]],price:[t.price,[s.kI.required,s.kI.min(0)]]});e.rows.push(i)})}},{key:"removeRow",value:function(t){this.rows.removeAt(t),this.rowsImplement.splice(t,1)}},{key:"submit",value:function(){var t=this;if(this.saveLoading.setPending(!0),this.billForm.valid){var e={bill_code:this.billForm.value.detail.bill_code,date:q(this.billForm.value.detail.date).valueOf()/1e3,vendor:this.billForm.value.detail.vendor,transporter:this.billForm.value.detail.transporter,customer:this.billForm.value.detail.customer,amounts_payed:this.numberFormatPayed.realValue,is_debt:this.settingService.showDebt?1:0},i=new FormData;for(var n in e)i.append(n,e[n]);this.dataUpload.file&&i.append("image",this.dataUpload.file),this.billForm.value.rows.forEach(function(t,e){i.append("row["+e+"][id]",t.id),i.append("row["+e+"][pack]",t.pack),i.append("row["+e+"][price]",t.price),i.append("row["+e+"][quantity]",t.quantity)}),this.storeService.sendPostWithFile("import-bills-edit",i,"&id=".concat(this.bill.id)).subscribe(function(i){i.error||"1"!=i.status?t.toastService.warning(i.error):(t.toastService.success(i.message),t.modalCtrl.dismiss({tongtien:t.totalCost,date:e.date}))},function(e){t.toastService.danger(t.translate.instant("WAREHOUSE_MOD.ERROR_HANDLE"))})}}},{key:"productChange",value:function(t,e){var i=this.products[this.products.findIndex(function(e){return e.product_id==t.target.value})];this.rowsImplement[e]=i.unit}},{key:"getBill",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.moneyService.getBillByAlias("store_import_"+this.bill.id,"out").toPromise();case 2:(e=t.sent)&&1==+e.status&&(this.numberFormatPayed.setValue(e.data.amounts_payed),this.billForm.controls.detail.patchValue({amounts_payed:this.numberFormatPayed.fakeView,customer:e.data.customer_name}),e.data.image&&(this.dataUpload.path=O.bl.FILE_PATH+"/upload/"+e.data.image));case 4:case"end":return t.stop()}},t,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(u.IN),m.Y36(s.qu),m.Y36(p.d),m.Y36(y.k),m.Y36(Z.sK),m.Y36(_.r),m.Y36(E.R))},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-store-bill-edit"]],inputs:{bill:"bill"},decls:36,vars:28,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slot","end"],["color","primary",3,"disabled","click"],[3,"formGroup"],[3,"data","toUpload"],["class","ion-text-center ion-padding",4,"ngIf"],["class","spiner-loading",4,"ngIf"],["formGroupName","detail"],["formControlName","date",3,"displayFormat","min","max"],["lines","inset",4,"ngIf"],["lines","none",4,"ngIf"],["formGroupName","rows"],["class","align-items-center",3,"formGroupName",4,"ngFor","ngForOf"],[1,"ion-text-center"],["shape","round","fill","outline","size","small","color","primary",3,"disabled","click"],["name","add","slot","start"],[1,"ion-text-center","ion-padding"],["color","danger"],[1,"spiner-loading"],["name","dots"],["lines","inset"],["position","floating"],["formControlName","amounts_payed","type","tel","inputmode","numeric",3,"value","ionFocus","ionChange"],["formControlName","customer"],["lines","none"],[4,"ngFor","ngForOf"],["slot","end",3,"click"],[1,"align-items-center",3,"formGroupName"],["size","2"],["fill","clear","color","medium",3,"click"],["name","remove-circle-outline","slot","icon-only"],["size","10"],["formControlName","id",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["size","5","offset","2"],[4,"ngIf"],["type","tel","inputmode","decimal","formControlName","quantity"],["size","5"],["type","tel","inputmode","decimal","formControlName","price"],["size","10","offset","2"],["position","stacked"],[3,"value"]],template:function(t,e){1&t&&(m.TgZ(0,"ion-header"),m.TgZ(1,"ion-toolbar"),m.TgZ(2,"ion-buttons",0),m.TgZ(3,"ion-button",1),m.NdJ("click",function(){return e.modalCtrl.dismiss()}),m._UZ(4,"ion-icon",2),m.qZA(),m.qZA(),m.TgZ(5,"ion-title"),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.TgZ(8,"ion-buttons",3),m.TgZ(9,"ion-button",4),m.NdJ("click",function(){return e.submit()}),m._uU(10),m.ALo(11,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(12,"ion-content",5),m.TgZ(13,"app-image-picker",6),m.NdJ("toUpload",function(t){return e.dataUpload=t}),m.qZA(),m.YNc(14,w,3,1,"div",7),m.YNc(15,U,2,0,"div",8),m.TgZ(16,"ion-grid"),m.TgZ(17,"div",9),m.TgZ(18,"ion-item"),m.TgZ(19,"ion-label"),m._uU(20),m.ALo(21,"translate"),m.qZA(),m._UZ(22,"ion-datetime",10),m.ALo(23,"translate"),m.qZA(),m.YNc(24,I,10,14,"ion-item",11),m.YNc(25,C,3,0,"ion-item",11),m.YNc(26,k,5,3,"ion-item",11),m.qZA(),m.YNc(27,N,2,1,"ion-list",12),m.TgZ(28,"div",13),m.YNc(29,M,34,20,"ion-row",14),m.TgZ(30,"ion-row"),m.TgZ(31,"ion-col",15),m.TgZ(32,"ion-button",16),m.NdJ("click",function(){return e.addRow()}),m._UZ(33,"ion-icon",17),m._uU(34),m.ALo(35,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&t&&(m.xp6(6),m.Oqu(m.lcZ(7,18,"WAREHOUSE_MOD.EDIT_BILL")),m.xp6(3),m.Q6J("disabled",e.billForm.invalid||!e.alowEdit||e.saveLoading.pending||e.totalCost<e.numberFormatPayed.realValue),m.xp6(1),m.hij(" ",m.lcZ(11,20,"WAREHOUSE_MOD.SAVE")," "),m.xp6(2),m.Q6J("formGroup",e.billForm),m.xp6(1),m.Q6J("data",e.dataUpload),m.xp6(1),m.Q6J("ngIf",e.message),m.xp6(1),m.Q6J("ngIf",e.loadingFlag.pending),m.xp6(5),m.Oqu(m.lcZ(21,22,"WAREHOUSE_MOD.DATE_ADDED")),m.xp6(2),m.Q6J("displayFormat",m.lcZ(23,24,"FORMAT_DATE_MOMENT"))("min",e.minDate.format("YYYY-MM-DD"))("max",e.maxDate.format("YYYY-MM-DD")),m.xp6(2),m.Q6J("ngIf",e.settingService.showDebt),m.xp6(1),m.Q6J("ngIf",e.totalCost<e.numberFormatPayed.realValue&&e.settingService.showDebt),m.xp6(1),m.Q6J("ngIf",e.settingService.showDebt),m.xp6(1),m.Q6J("ngIf",e.settingService.showDebt),m.xp6(2),m.Q6J("ngForOf",e.rows.controls),m.xp6(3),m.Q6J("disabled",e.rows.length>=5),m.xp6(2),m.hij(" ",m.lcZ(35,26,"WAREHOUSE_MOD.ADD_ROW")," "))},directives:[u.Gu,u.sr,u.Sm,u.YG,u.gu,u.wd,u.W2,s.JL,s.sg,S.k,a.O5,u.jY,s.x0,u.Ie,u.Q$,u.x4,u.QI,s.JJ,s.u,a.sg,u.Nd,u.wI,u.yW,u.PQ,u.pK,u.j9,u.q_,u.t9,u.n0],pipes:[Z.X$,a.JJ],styles:[""]}),e}();function P(t,e){1&t&&(m.TgZ(0,"div",6),m._UZ(1,"ion-spinner",7),m.qZA())}function J(t,e){if(1&t&&m._UZ(0,"img",8),2&t){var i=m.oxw();m.Q6J("src",i.billDetail.image,m.LSH)}}function H(t,e){if(1&t&&(m.TgZ(0,"ion-item"),m.TgZ(1,"ion-label"),m.TgZ(2,"p"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"h3"),m._uU(6),m.qZA(),m.qZA(),m.qZA()),2&t){var i=m.oxw(2);m.xp6(3),m.Oqu(m.lcZ(4,2,"WAREHOUSE_MOD.VENDOR")),m.xp6(3),m.Oqu(i.billDetail.vendor)}}function W(t,e){if(1&t&&(m.TgZ(0,"ion-item"),m.TgZ(1,"ion-label"),m.TgZ(2,"p"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.TgZ(5,"h3"),m._uU(6),m.qZA(),m.qZA(),m.qZA()),2&t){var i=m.oxw(2);m.xp6(3),m.Oqu(m.lcZ(4,2,"WAREHOUSE_MOD.SHIP_BY")),m.xp6(3),m.Oqu(i.billDetail.trasporter)}}function Q(t,e){if(1&t&&(m.TgZ(0,"ion-list"),m.TgZ(1,"ion-list-header"),m.TgZ(2,"ion-label"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.TgZ(5,"ion-item"),m.TgZ(6,"ion-label"),m.TgZ(7,"p"),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.TgZ(10,"h3"),m._uU(11),m.qZA(),m.qZA(),m.qZA(),m.TgZ(12,"ion-item"),m.TgZ(13,"ion-label"),m.TgZ(14,"p"),m._uU(15),m.ALo(16,"translate"),m.qZA(),m.TgZ(17,"h3"),m._uU(18),m.ALo(19,"date"),m.ALo(20,"translate"),m.qZA(),m.qZA(),m.qZA(),m.YNc(21,H,7,4,"ion-item",5),m.YNc(22,W,7,4,"ion-item",5),m.TgZ(23,"ion-item"),m.TgZ(24,"ion-label"),m.TgZ(25,"p"),m._uU(26),m.ALo(27,"translate"),m.qZA(),m.TgZ(28,"h3"),m._uU(29),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&t){var i=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,9,"WAREHOUSE_MOD.INFOR")),m.xp6(5),m.Oqu(m.lcZ(9,11,"WAREHOUSE_MOD.CODE")),m.xp6(3),m.Oqu(i.billDetail.code),m.xp6(4),m.Oqu(m.lcZ(16,13,"WAREHOUSE_MOD.DATE")),m.xp6(3),m.Oqu(m.xi3(19,15,i.billDetail.date,m.lcZ(20,18,"FORMAT_DATE"))),m.xp6(3),m.Q6J("ngIf",i.billDetail.vendor),m.xp6(1),m.Q6J("ngIf",i.billDetail.trasporter),m.xp6(4),m.Oqu(m.lcZ(27,20,"WAREHOUSE_MOD.TIME_RECORD")),m.xp6(3),m.Oqu(i.billDetail.moment.fromNow())}}function B(t,e){if(1&t&&(m.TgZ(0,"ion-item"),m.TgZ(1,"ion-label"),m.TgZ(2,"h3"),m._uU(3),m.qZA(),m.TgZ(4,"p"),m._uU(5),m.ALo(6,"number"),m.qZA(),m.qZA(),m.TgZ(7,"span",10),m._uU(8),m.ALo(9,"number"),m.qZA(),m.qZA()),2&t){var i=e.$implicit;m.xp6(3),m.Oqu(null==i?null:i.name),m.xp6(2),m.lnq("",m.xi3(6,5,i.price,"1.0-0")," \u0111 x ",i.quantity," ",i.unit,""),m.xp6(3),m.Oqu(m.xi3(9,8,i.price*i.quantity,"1.0-0"))}}function G(t,e){if(1&t&&(m.TgZ(0,"ion-list"),m.TgZ(1,"ion-list-header"),m.TgZ(2,"ion-label"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.YNc(5,B,10,11,"ion-item",9),m.TgZ(6,"ion-item"),m.TgZ(7,"ion-label"),m._uU(8),m.ALo(9,"translate"),m.qZA(),m.TgZ(10,"span",10),m._uU(11),m.ALo(12,"number"),m.qZA(),m.qZA(),m.TgZ(13,"ion-item"),m.TgZ(14,"ion-label"),m._uU(15),m.ALo(16,"translate"),m.qZA(),m.TgZ(17,"span",10),m._uU(18),m.ALo(19,"number"),m.qZA(),m.qZA(),m.qZA()),2&t){var i=m.oxw();m.xp6(3),m.Oqu(m.lcZ(4,6,"WAREHOUSE_MOD.DETAIL")),m.xp6(2),m.Q6J("ngForOf",i.rows),m.xp6(3),m.Oqu(m.lcZ(9,8,"WAREHOUSE_MOD.TOTAL")),m.xp6(3),m.Oqu(m.xi3(12,10,i.total,"1.0-0")),m.xp6(4),m.Oqu(m.lcZ(16,13,"MONEY_MOD.PAYED")),m.xp6(3),m.Oqu(m.xi3(19,15,i.total_payed,"1.0-0"))}}var j=function(){var e=function(){function e(i,n,o,r){t(this,e),this.modalCtrl=i,this.storeService=n,this.translate=o,this.moneyService=r,this.loadingFlag=new A.E,this.products=[],this.message="",this.rows=[],this.total=0,this.total_payed=0}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.storeService.getStore()?this.products=this.storeService.getStore():this.storeService.getApiStore("productAllForWeb").subscribe(function(e){1==e.status&&(t.storeService.setStore(e.data.products),t.products=t.storeService.getStore())}),this.getBill(),this.getImportBill(this.bill)}},{key:"getImportBill",value:function(t){var e=this;this.loadingFlag.setPending(!0),this.storeService.getApiStore("import-bills","&id=".concat(t.id)).subscribe(function(t){0!==t.status&&t.data?(e.prepareRows(t.data.import_bills),e.billDetail=t.data.bill,e.billDetail.dateFormat=q(t.data.bill.date),e.billDetail.moment=q(1e3*t.data.bill.add_time),t.data.bill.image&&(e.billDetail.image=O.bl.FILE_PATH+"/upload/"+t.data.bill.image)):e.message=t.error,e.loadingFlag.setResult(!0)},function(t){e.message=e.translate.instant("ERROR_CONNECT"),e.loadingFlag.setResult(!1)})}},{key:"prepareRows",value:function(t){var e=this;t.forEach(function(t){e.total=e.total+t.quantity*t.price;var i=e.products.findIndex(function(e){return e.id==t.id}),n=t;n.name=i>=0?e.products[i].name:"\u0110\xe3 x\xf3a",n.unit=i>=0?e.products[i].unit:"",e.rows.push(n)})}},{key:"getBill",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.moneyService.getBillByAlias("store_import_"+this.bill.id,"out").toPromise();case 2:(e=t.sent)&&1==+e.status&&(this.total_payed=e.data.amounts_payed);case 4:case"end":return t.stop()}},t,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(u.IN),m.Y36(p.d),m.Y36(Z.sK),m.Y36(_.r))},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-store-bill-detail"]],inputs:{bill:"bill"},decls:13,vars:7,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["class","spiner-loading",4,"ngIf"],[3,"src",4,"ngIf"],[4,"ngIf"],[1,"spiner-loading"],["name","dots"],[3,"src"],[4,"ngFor","ngForOf"],["slot","end"]],template:function(t,e){1&t&&(m.TgZ(0,"ion-header"),m.TgZ(1,"ion-toolbar"),m.TgZ(2,"ion-buttons",0),m.TgZ(3,"ion-button",1),m.NdJ("click",function(){return e.modalCtrl.dismiss()}),m._UZ(4,"ion-icon",2),m.qZA(),m.qZA(),m.TgZ(5,"ion-title"),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(8,"ion-content"),m.YNc(9,P,2,0,"div",3),m.YNc(10,J,1,1,"img",4),m.YNc(11,Q,30,22,"ion-list",5),m.YNc(12,G,20,18,"ion-list",5),m.qZA()),2&t&&(m.xp6(6),m.Oqu(m.lcZ(7,5,"WAREHOUSE_MOD.BILL_IMPORT")),m.xp6(3),m.Q6J("ngIf",e.loadingFlag.pending),m.xp6(1),m.Q6J("ngIf",e.billDetail.image),m.xp6(1),m.Q6J("ngIf",e.loadingFlag.result),m.xp6(1),m.Q6J("ngIf",e.loadingFlag.result))},directives:[u.Gu,u.sr,u.Sm,u.YG,u.gu,u.wd,u.W2,a.O5,u.PQ,u.q_,u.yh,u.Q$,u.Ie,a.sg],pipes:[Z.X$,a.uU,a.JJ],styles:[""]}),e}();function $(t,e){1&t&&(m.TgZ(0,"div",6),m._UZ(1,"ion-spinner",7),m.qZA())}function V(t,e){if(1&t&&(m.TgZ(0,"ion-item"),m.TgZ(1,"ion-text"),m._uU(2),m.qZA(),m.TgZ(3,"ion-text",15),m._uU(4),m.qZA(),m.qZA()),2&t){var i=e.$implicit;m.xp6(2),m.Oqu(i.name),m.xp6(2),m.AsE("",i.quantity," ",i.unit,"")}}function z(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"ion-card",8),m.NdJ("click",function(){var t=m.CHM(i),e=t.$implicit,n=t.index;return m.oxw(2).presentMenu(e,n)}),m.TgZ(1,"ion-card-content"),m.TgZ(2,"ion-list",9),m.TgZ(3,"ion-item"),m.TgZ(4,"ion-label",10),m.TgZ(5,"ion-text",11),m.TgZ(6,"h3"),m._uU(7),m.ALo(8,"date"),m.ALo(9,"translate"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(10,"ion-text",12),m._uU(11),m.ALo(12,"number"),m.qZA(),m._UZ(13,"ion-icon",13),m.qZA(),m.YNc(14,V,5,3,"ion-item",14),m.qZA(),m.qZA(),m.qZA()}if(2&t){var n=e.$implicit;m.xp6(7),m.Oqu(m.xi3(8,3,n.date,m.lcZ(9,6,"FORMAT_DATE"))),m.xp6(4),m.hij("",m.xi3(12,8,n.tongtien,"1.0-0")," \u0111"),m.xp6(3),m.Q6J("ngForOf",n.listProduct)}}function X(t,e){1&t&&(m.TgZ(0,"ion-list",16),m.TgZ(1,"ion-item"),m.TgZ(2,"ion-label"),m.TgZ(3,"p"),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&t&&(m.xp6(4),m.Oqu(m.lcZ(5,1,"WAREHOUSE_MOD.NO_HISTORY")))}function K(t,e){if(1&t&&(m.TgZ(0,"ion-content"),m.YNc(1,$,2,0,"div",3),m.YNc(2,z,15,11,"ion-card",4),m.YNc(3,X,6,3,"ion-list",5),m.qZA()),2&t){var i=m.oxw();m.xp6(1),m.Q6J("ngIf",i.loadingFlag.pending),m.xp6(1),m.Q6J("ngForOf",i.bills),m.xp6(1),m.Q6J("ngIf",0==i.bills.length&&i.loadingFlag.result)}}var tt=function(){var e=function(){function e(i,n,o,r,a,s){t(this,e),this.modalCtrl=i,this.actionSheetController=n,this.toastService=o,this.storeService=r,this.alertController=a,this.translate=s,this.loadingFlag=new A.E,this.bills=[],this.view=!1}return i(e,[{key:"ngOnInit",value:function(){this.getStoreBill()}},{key:"ionViewDidEnter",value:function(){this.view=!0}},{key:"getStoreBill",value:function(){var t=this;this.loadingFlag.setPending(!0),this.storeService.getApiStore("bill-list").pipe((0,v.P)()).subscribe(function(e){0===e.status?t.toastService.warning(e.error):(t.bills=[],e.data.forEach(function(e){var i=e;i.listProduct=[],i.products.split(",").forEach(function(t){i.listProduct.push({name:t.split("-")[0],quantity:t.split("-")[1],unit:t.split("-")[2]})}),t.bills.push(i)}),console.log(t.bills)),t.loadingFlag.setResult(!0)},function(e){t.toastService.danger(t.translate.instant("ERROR_CONNECT")),t.loadingFlag.setResult(!1)})}},{key:"presentMenu",value:function(t,e){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var n=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.actionSheetController.create({header:this.translate.instant("WAREHOUSE_MOD.MENU"),buttons:[{text:this.translate.instant("WAREHOUSE_MOD.DELETE"),role:"destructive",icon:"trash",handler:function(){n.presentDeleteConfirm(t,e)}},{text:this.translate.instant("WAREHOUSE_MOD.EDIT"),icon:"create",handler:function(){n.presentBillEdit(t,e)}},{text:this.translate.instant("WAREHOUSE_MOD.DETAIL"),icon:"reader",handler:function(){n.presentBillDetail(t)}},{text:this.translate.instant("WAREHOUSE_MOD.NO"),icon:"close",role:"cancel"}]});case 2:return i.next=4,i.sent.present();case 4:case"end":return i.stop()}},i,this)}))}},{key:"presentBillDetail",value:function(t){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:j,componentProps:{bill:t}});case 2:return e.next=4,e.sent.present();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))}},{key:"presentBillEdit",value:function(t,e){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var n,o=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.modalCtrl.create({component:L,componentProps:{bill:t}});case 2:return(n=i.sent).onDidDismiss().then(function(t){t.data&&(o.bills[e].date=q(1e3*t.data.date).format("YYYY-MM-DD"),o.bills[e].tongtien=t.data.tongtien)}),i.next=6,n.present();case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}},i,this)}))}},{key:"presentDeleteConfirm",value:function(t,e){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var n=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.alertController.create({header:this.translate.instant("WAREHOUSE_MOD.CONFIRM"),message:this.translate.instant("WAREHOUSE_MOD.DELETE_IMPORT")+" <strong>"+t.date+"</strong> "+this.translate.instant("WAREHOUSE_MOD.VAL")+" "+t.tongtien+"?",buttons:[{text:this.translate.instant("WAREHOUSE_MOD.NO"),role:"cancel",cssClass:"secondary"},{text:this.translate.instant("WAREHOUSE_MOD.DELETE"),handler:function(){n.storeService.getApiStore("delete-import","&id=".concat(t.id)).subscribe(function(t){1==t.status?(n.bills.splice(e,1),n.toastService.success(n.translate.instant("DEVICE_MOD.REMOVE_DATA_SUCCESS"))):n.toastService.success(t.error)},function(t){n.toastService.danger(n.translate.instant("ERROR_CONNECT"))})}}]});case 2:return i.next=4,i.sent.present();case 4:case"end":return i.stop()}},i,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(u.IN),m.Y36(u.BX),m.Y36(y.k),m.Y36(p.d),m.Y36(u.Br),m.Y36(Z.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-store-imported"]],decls:8,vars:4,consts:[["slot","start"],["text","","defaultHref","tabs/management"],[4,"ngIf"],["class","spiner-loading",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["lines","none","lines","none",4,"ngIf"],[1,"spiner-loading"],["name","dots"],[3,"click"],["lines","none"],[1,"ion-text-wrap"],["color","primary"],["slot","end","color","success"],["name","chevron-forward-outline","slot","end",1,"icon-detail"],[4,"ngFor","ngForOf"],["slot","end"],["lines","none","lines","none"]],template:function(t,e){1&t&&(m.TgZ(0,"ion-header"),m.TgZ(1,"ion-toolbar"),m.TgZ(2,"ion-buttons",0),m._UZ(3,"ion-back-button",1),m.qZA(),m.TgZ(4,"ion-title"),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.qZA(),m.qZA(),m.YNc(7,K,4,3,"ion-content",2)),2&t&&(m.xp6(5),m.Oqu(m.lcZ(6,2,"WAREHOUSE_MOD.IMPORTED")),m.xp6(2),m.Q6J("ngIf",e.view))},directives:[u.Gu,u.sr,u.Sm,u.oU,u.cs,u.wd,a.O5,u.W2,a.sg,u.PQ,u.PM,u.FN,u.q_,u.Ie,u.Q$,u.yW,u.gu],pipes:[Z.X$,a.uU,a.JJ],styles:[""]}),e}(),et=o(13819);function it(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"ion-item",16),m.TgZ(1,"ion-label",17),m._uU(2),m.ALo(3,"translate"),m.TgZ(4,"ion-text",18),m._uU(5),m.ALo(6,"translate"),m.ALo(7,"number"),m.ALo(8,"translate"),m.qZA(),m.qZA(),m.TgZ(9,"ion-input",19),m.NdJ("ionFocus",function(){return m.CHM(i),m.oxw().setAmountPayed()})("ionChange",function(t){return m.CHM(i),m.oxw().numberFormatPayed.setValue(t.detail.value)}),m.qZA(),m.qZA()}if(2&t){var n=m.oxw();m.xp6(2),m.Oqu(m.lcZ(3,5,"MONEY_MOD.PAYED")),m.xp6(3),m.lnq("(",m.lcZ(6,7,"WAREHOUSE_MOD.TOTAL_COST")," ",m.xi3(7,9,n.totalCost,"1.0-1"),"",m.lcZ(8,12,"CURRENCY_S"),")"),m.xp6(4),m.Q6J("value",n.numberFormatPayed.fakeView)}}function nt(t,e){1&t&&(m.TgZ(0,"ion-item",16),m.TgZ(1,"ion-text",18),m._uU(2," Chi ph\xed \u0111\xe3 tr\u1ea3 lu\xf4n nh\u1ecf h\u01a1n ho\u1eb7c b\u1eb1ng chi ph\xed "),m.qZA(),m.qZA())}function ot(t,e){1&t&&(m.TgZ(0,"ion-item",16),m.TgZ(1,"ion-label",17),m._uU(2),m.ALo(3,"translate"),m.qZA(),m._UZ(4,"ion-input",20),m.qZA()),2&t&&(m.xp6(2),m.Oqu(m.lcZ(3,1,"MONEY_MOD.CUSTOMER")))}function rt(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"ion-item"),m.TgZ(1,"ion-text"),m._uU(2),m.qZA(),m.TgZ(3,"ion-button",23),m.NdJ("click",function(){var t=m.CHM(i).$implicit;return m.oxw(2).setCustomerName(t.customer_name)}),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA()}if(2&t){var n=e.$implicit;m.xp6(2),m.hij(" ",n.customer_name," "),m.xp6(2),m.hij(" ",m.lcZ(5,2,"SELECT")," ")}}function at(t,e){if(1&t&&(m.TgZ(0,"ion-list",21),m.YNc(1,rt,6,4,"ion-item",22),m.qZA()),2&t){var i=m.oxw();m.xp6(1),m.Q6J("ngForOf",i.listCustomer)}}function st(t,e){if(1&t&&(m.TgZ(0,"ion-select-option",38),m._uU(1),m.qZA()),2&t){var i=e.$implicit;m.Q6J("value",i.product_id),m.xp6(1),m.AsE("",i.name," - ",i.manufacturer_name,"")}}function lt(t,e){if(1&t&&(m.TgZ(0,"small"),m._uU(1),m.qZA()),2&t){var i=m.oxw().index,n=m.oxw();m.xp6(1),m.hij("(",n.rowsImplement[i],")")}}function ut(t,e){if(1&t&&(m.TgZ(0,"small"),m._uU(1),m.qZA()),2&t){var i=m.oxw().index,n=m.oxw();m.xp6(1),m.hij("/",n.rowsImplement[i],"")}}function ct(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"ion-row",24),m.TgZ(1,"ion-col",25),m.TgZ(2,"ion-button",26),m.NdJ("click",function(){var t=m.CHM(i).index;return m.oxw().removeRow(t)}),m._UZ(3,"ion-icon",27),m.qZA(),m.qZA(),m.TgZ(4,"ion-col",28),m.TgZ(5,"ion-item"),m.TgZ(6,"ion-label",17),m._uU(7),m.ALo(8,"translate"),m.qZA(),m.TgZ(9,"ion-select",29),m.NdJ("ionChange",function(t){var e=m.CHM(i).index;return m.oxw().productChange(t,e)}),m.YNc(10,st,2,3,"ion-select-option",30),m.qZA(),m.qZA(),m.qZA(),m.TgZ(11,"ion-col",31),m.TgZ(12,"ion-item"),m.TgZ(13,"ion-label",17),m._uU(14),m.ALo(15,"translate"),m.YNc(16,lt,2,1,"small",32),m.qZA(),m._UZ(17,"ion-input",33),m.qZA(),m.qZA(),m.TgZ(18,"ion-col",34),m.TgZ(19,"ion-item"),m.TgZ(20,"ion-label",17),m._uU(21),m.ALo(22,"translate"),m.YNc(23,ut,2,1,"small",32),m.qZA(),m._UZ(24,"ion-input",35),m.qZA(),m.qZA(),m.TgZ(25,"ion-col",36),m.TgZ(26,"ion-item"),m.TgZ(27,"ion-label",37),m._uU(28),m.ALo(29,"translate"),m.qZA(),m.TgZ(30,"span"),m.TgZ(31,"ion-text",18),m._uU(32),m.ALo(33,"number"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&t){var n=e.$implicit,o=e.index,r=m.oxw();m.s9C("formGroupName",o),m.xp6(7),m.Oqu(m.lcZ(8,9,"WAREHOUSE_MOD.PRODUCT")),m.xp6(3),m.Q6J("ngForOf",r.products),m.xp6(4),m.hij("",m.lcZ(15,11,"WAREHOUSE_MOD.QUANTITY")," "),m.xp6(2),m.Q6J("ngIf",r.rowsImplement[o]),m.xp6(5),m.hij("",m.lcZ(22,13,"WAREHOUSE_MOD.PRICE")," "),m.xp6(2),m.Q6J("ngIf",r.rowsImplement[o]),m.xp6(5),m.Oqu(m.lcZ(29,15,"WAREHOUSE_MOD.VALUE")),m.xp6(4),m.Oqu(m.xi3(33,17,r.calculatorCost(n.value.quantity,n.value.price),"1.0-0"))}}var dt=function(){var e=function(){function e(i,n,o,r,a,l,u){t(this,e),this.modalController=i,this.storeService=n,this._fb=o,this.toastService=r,this.translate=a,this.moneyService=l,this.settingService=u,this.products=[],this.totalCost=0,this.saveLoading=new A.E,this.maxDate=q(),this.minDate=q().subtract(5,"days"),this.billForm=this._fb.group({detail:this._fb.group({bill_code:[""],date:[q().format("YYYY-MM-DD"),s.kI.required],vendor:[""],transporter:[""],amounts_payed:[""],customer:[""]}),rows:this._fb.array([this._fb.group({id:["",s.kI.required],date:[""],pack:[1],quantity:["",[s.kI.required,s.kI.min(0)]],price:["",[s.kI.required,s.kI.min(0)]]})])}),this.rowsImplement=[""],this.dataUpload={path:"",name:"",base:"",file:null},this.listCustomer=[],this.numberFormatPayed=new x.y("")}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.storeService.getStore()?this.products=this.storeService.getStore():this.storeService.getApiStore("productAllForWeb").subscribe(function(e){1==e.status&&(t.storeService.setStore(e.data.products),t.products=t.storeService.getStore())}),this.billForm.controls.detail.get("customer").valueChanges.pipe((0,b.b)(300),(0,T.x)()).subscribe(function(e){t.getListCustomer()}),this.fcode=this.storeService.getFarmCode(),this.moneyService.setCode(this.fcode.toString()),this.rows.valueChanges.subscribe(function(){t.rows.invalid||(t.totalCost=0,t.rows.value.forEach(function(e){t.totalCost+=t.calculatorCost(e.quantity,e.price)}),t.numberFormatPayed.setValue(t.totalCost))})}},{key:"getListCustomer",value:function(){var t=this;this.listCustomer=[],this.moneyService.searchCustomer(this.billForm.value.detail.customer,"").subscribe(function(e){1==e.status&&(t.listCustomer=e.data.filter(function(e){return e.customer_name!=t.billForm.value.detail.customer}),console.log(t.listCustomer))},function(e){t.toastService.danger(t.translate.instant("ERROR_CONNECT"))})}},{key:"setCustomerName",value:function(t){this.billForm.controls.detail.patchValue({customer:t})}},{key:"setAmountPayed",value:function(){this.numberFormatPayed.setValue(this.totalCost)}},{key:"rows",get:function(){return this.billForm.get("rows")}},{key:"buildRow",value:function(){var t=this._fb.group({id:["",s.kI.required],date:[""],pack:[1],quantity:["",[s.kI.required,s.kI.min(0)]],price:["",[s.kI.required,s.kI.min(0)]]});this.rows.push(t)}},{key:"removeRow",value:function(t){this.rows.removeAt(t),this.rowsImplement.splice(t,1)}},{key:"submitImportProduct",value:function(){var t=this;this.saveLoading.setPending(!0),console.log(q(this.billForm.value.detail.date));var e={bill_code:this.billForm.value.detail.bill_code,date:q(this.billForm.value.detail.date).valueOf()/1e3,vendor:this.billForm.value.detail.vendor,transporter:this.billForm.value.detail.transporter,customer:this.billForm.value.detail.customer,amounts_payed:this.numberFormatPayed.realValue,is_debt:this.settingService.showDebt?1:0},i=new FormData;for(var n in e)i.append(n,e[n]);this.dataUpload.file&&i.append("image",this.dataUpload.file),this.billForm.valid&&(Object.assign(e,{row:this.billForm.value.rows}),this.billForm.value.rows.forEach(function(t,e){i.append("row["+e+"][id]",t.id),i.append("row["+e+"][pack]",t.pack),i.append("row["+e+"][price]",t.price),i.append("row["+e+"][quantity]",t.quantity)}),this.storeService.sendPostWithFile("import",i).pipe((0,v.P)()).subscribe(function(e){e.error||"1"!=e.status?t.toastService.warning(e.error):(t.toastService.success(e.message),t.modalController.dismiss(!0)),t.saveLoading.setResult(!0)},function(e){t.toastService.danger(t.translate.instant("ERROR_CONNECT")),t.saveLoading.setResult(!1)}))}},{key:"productChange",value:function(t,e){var i=this.products[this.products.findIndex(function(e){return e.product_id==t.target.value})];this.rowsImplement[e]=null==i?void 0:i.unit}},{key:"calculatorCost",value:function(t,e){return t=t.toString().replace(",","."),parseFloat(t)*parseInt(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(u.IN),m.Y36(p.d),m.Y36(s.qu),m.Y36(y.k),m.Y36(Z.sK),m.Y36(_.r),m.Y36(E.R))},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-store-import"]],decls:34,vars:26,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slot","end"],[3,"disabled","click"],[3,"formGroup"],[3,"data","toUpload"],["formGroupName","detail"],["formControlName","date",3,"displayFormat","min","max"],["lines","inset",4,"ngIf"],["lines","none",4,"ngIf"],["formGroupName","rows"],["class","align-items-center",3,"formGroupName",4,"ngFor","ngForOf"],[1,"ion-text-center"],["shape","round","fill","outline","size","small","color","primary",3,"disabled","click"],["name","add","slot","start"],["lines","inset"],["position","floating"],["color","danger"],["formControlName","amounts_payed","type","tel","inputmode","numeric",3,"value","ionFocus","ionChange"],["formControlName","customer"],["lines","none"],[4,"ngFor","ngForOf"],["slot","end",3,"click"],[1,"align-items-center",3,"formGroupName"],["size","2"],["fill","clear","color","medium",3,"click"],["name","remove-circle-outline","slot","icon-only"],["size","10"],["formControlName","id",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["size","5","offset","2"],[4,"ngIf"],["type","tel","inputmode","decimal","formControlName","quantity"],["size","5"],["type","tel","inputmode","decimal","formControlName","price"],["size","10","offset","2"],["position","stacked"],[3,"value"]],template:function(t,e){1&t&&(m.TgZ(0,"ion-header"),m.TgZ(1,"ion-toolbar"),m.TgZ(2,"ion-buttons",0),m.TgZ(3,"ion-button",1),m.NdJ("click",function(){return e.modalController.dismiss()}),m._UZ(4,"ion-icon",2),m.qZA(),m.qZA(),m.TgZ(5,"ion-title"),m._uU(6),m.ALo(7,"translate"),m.qZA(),m.TgZ(8,"ion-buttons",3),m.TgZ(9,"ion-button",4),m.NdJ("click",function(){return e.submitImportProduct()}),m._uU(10),m.ALo(11,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(12,"ion-content",5),m.TgZ(13,"app-image-picker",6),m.NdJ("toUpload",function(t){return e.dataUpload=t}),m.qZA(),m.TgZ(14,"ion-grid"),m.TgZ(15,"div",7),m.TgZ(16,"ion-item"),m.TgZ(17,"ion-label"),m._uU(18),m.ALo(19,"translate"),m.qZA(),m._UZ(20,"ion-datetime",8),m.ALo(21,"translate"),m.qZA(),m.YNc(22,it,10,14,"ion-item",9),m.YNc(23,nt,3,0,"ion-item",9),m.YNc(24,ot,5,3,"ion-item",9),m.qZA(),m.YNc(25,at,2,1,"ion-list",10),m.TgZ(26,"div",11),m.YNc(27,ct,34,20,"ion-row",12),m.TgZ(28,"ion-row"),m.TgZ(29,"ion-col",13),m.TgZ(30,"ion-button",14),m.NdJ("click",function(){return e.buildRow()}),m._UZ(31,"ion-icon",15),m._uU(32),m.ALo(33,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&t&&(m.xp6(6),m.Oqu(m.lcZ(7,16,"WAREHOUSE_MOD.IMPORT")),m.xp6(3),m.Q6J("disabled",e.billForm.invalid||e.saveLoading.pending||e.totalCost<e.numberFormatPayed.realValue),m.xp6(1),m.hij(" ",m.lcZ(11,18,"WAREHOUSE_MOD.SAVE")," "),m.xp6(2),m.Q6J("formGroup",e.billForm),m.xp6(1),m.Q6J("data",e.dataUpload),m.xp6(5),m.Oqu(m.lcZ(19,20,"WAREHOUSE_MOD.IMPORT_DATE")),m.xp6(2),m.Q6J("displayFormat",m.lcZ(21,22,"FORMAT_DATE_MOMENT"))("min",e.minDate.format("YYYY-MM-DD"))("max",e.maxDate.format("YYYY-MM-DD")),m.xp6(2),m.Q6J("ngIf",e.settingService.showDebt),m.xp6(1),m.Q6J("ngIf",e.totalCost<e.numberFormatPayed.realValue&&e.settingService.showDebt),m.xp6(1),m.Q6J("ngIf",e.settingService.showDebt),m.xp6(1),m.Q6J("ngIf",e.settingService.showDebt),m.xp6(2),m.Q6J("ngForOf",e.rows.controls),m.xp6(3),m.Q6J("disabled",e.rows.length>=5),m.xp6(2),m.hij(" ",m.lcZ(33,24,"WAREHOUSE_MOD.ADD_ROW")," "))},directives:[u.Gu,u.sr,u.Sm,u.YG,u.gu,u.wd,u.W2,s.JL,s.sg,S.k,u.jY,s.x0,u.Ie,u.Q$,u.x4,u.QI,s.JJ,s.u,a.O5,a.sg,u.Nd,u.wI,u.yW,u.pK,u.j9,u.q_,u.t9,u.n0],pipes:[Z.X$,a.JJ],styles:[""]}),e}(),pt=o(93152),gt=o(23211),mt=o(71239),ft=o(63771),Zt=o(18409);function ht(t,e){1&t&&(m.TgZ(0,"div",16),m._UZ(1,"ion-spinner",17),m.qZA())}function At(t,e){if(1&t&&(m.TgZ(0,"ion-item"),m.TgZ(1,"ion-label",22),m.TgZ(2,"p"),m._uU(3),m.ALo(4,"translate"),m.qZA(),m.qZA(),m.TgZ(5,"span",2),m._uU(6),m.ALo(7,"countNumerPipe"),m.ALo(8,"translate"),m.ALo(9,"translate"),m.qZA(),m.qZA()),2&t){var i=m.oxw(2);m.xp6(3),m.Oqu(m.lcZ(4,3,"WAREHOUSE_MOD.TOTAL_COST")),m.xp6(3),m.AsE("",m.xi3(7,5,i.total_value,m.lcZ(8,8,"FORMAT_COUNTER_KMB"))," ",m.lcZ(9,10,"CURRENCY_S"),"")}}function vt(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"ion-item",23),m.NdJ("click",function(){var t=m.CHM(i).$implicit;return m.oxw(2).presentDetail(t)}),m.TgZ(1,"ion-label",22),m.TgZ(2,"ion-text",24),m._uU(3),m.qZA(),m._uU(4),m.TgZ(5,"p"),m._uU(6),m.qZA(),m.qZA(),m.TgZ(7,"span",2),m._uU(8),m.ALo(9,"number"),m.qZA(),m.qZA()}if(2&t){var n=e.$implicit;m.xp6(3),m.hij("",n.name_prefix,"-"),m.xp6(1),m.hij("",n.name," "),m.xp6(2),m.Oqu(n.manufacturer_name),m.xp6(2),m.Oqu(m.xi3(9,4,n.quantity_current,"1.0-3"))}}function qt(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"ion-item",23),m.NdJ("click",function(){var t=m.CHM(i).$implicit;return m.oxw(2).presentDetail(t)}),m.TgZ(1,"ion-label",22),m.TgZ(2,"ion-text",24),m._uU(3),m.qZA(),m._uU(4),m.TgZ(5,"p"),m._uU(6),m.qZA(),m.qZA(),m.TgZ(7,"span",2),m._uU(8),m.ALo(9,"number"),m.qZA(),m.qZA()}if(2&t){var n=e.$implicit;m.xp6(3),m.hij("",n.name_prefix,"-"),m.xp6(1),m.hij("",n.name," "),m.xp6(2),m.Oqu(n.manufacturer_name),m.xp6(2),m.Oqu(m.xi3(9,4,n.quantity_current,"1.0-3"))}}function bt(t,e){if(1&t){var i=m.EpF();m.TgZ(0,"ion-item",23),m.NdJ("click",function(){var t=m.CHM(i).$implicit;return m.oxw(2).presentDetail(t)}),m.TgZ(1,"ion-label",22),m.TgZ(2,"ion-text",24),m._uU(3),m.qZA(),m._uU(4),m.TgZ(5,"p"),m._uU(6),m.qZA(),m.qZA(),m.TgZ(7,"span",2),m._uU(8),m.ALo(9,"number"),m.qZA(),m.qZA()}if(2&t){var n=e.$implicit;m.xp6(3),m.hij("",n.name_prefix,"-"),m.xp6(1),m.hij("",n.name," "),m.xp6(2),m.Oqu(n.manufacturer_name),m.xp6(2),m.Oqu(m.xi3(9,4,n.quantity_current,"1.0-3"))}}function Tt(t,e){if(1&t&&(m.TgZ(0,"ion-list",18),m.YNc(1,At,10,12,"ion-item",19),m.TgZ(2,"ion-item-group"),m.TgZ(3,"ion-list-header",20),m.TgZ(4,"ion-label"),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.qZA(),m.YNc(7,vt,10,7,"ion-item",21),m.ALo(8,"productTypeFilter"),m.qZA(),m.TgZ(9,"ion-item-group"),m.TgZ(10,"ion-list-header",20),m.TgZ(11,"ion-label"),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.qZA(),m.YNc(14,qt,10,7,"ion-item",21),m.ALo(15,"productTypeFilter"),m.qZA(),m.TgZ(16,"ion-item-group"),m.TgZ(17,"ion-list-header",20),m.TgZ(18,"ion-label"),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.qZA(),m.YNc(21,bt,10,7,"ion-item",21),m.ALo(22,"productTypeFilter"),m.qZA(),m.qZA()),2&t){var i=m.oxw();m.xp6(1),m.Q6J("ngIf","company_manager"==(null==i.farmService?null:i.farmService.permission)),m.xp6(4),m.Oqu(m.lcZ(6,7,"WAREHOUSE_MOD.FEED")),m.xp6(2),m.Q6J("ngForOf",m.xi3(8,9,i.products,1)),m.xp6(5),m.Oqu(m.lcZ(13,12,"WAREHOUSE_MOD.FEED_SUPPLEMENT")),m.xp6(2),m.Q6J("ngForOf",m.xi3(15,14,i.products,2)),m.xp6(5),m.Oqu(m.lcZ(20,17,"WAREHOUSE_MOD.TREATMENT")),m.xp6(2),m.Q6J("ngForOf",m.xi3(22,19,i.products,3))}}function xt(t,e){1&t&&(m.TgZ(0,"div",25),m.TgZ(1,"ion-card",18),m.TgZ(2,"ion-card-content",26),m.TgZ(3,"p",25),m._uU(4),m.ALo(5,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&t&&(m.xp6(4),m.Oqu(m.lcZ(5,1,"WAREHOUSE_MOD.NO_PRODUCT")))}var _t=function(){var e=function(){function e(i,n,o,r,a,s,l,u){t(this,e),this.modalController=i,this.toastService=n,this.storeService=o,this.farmService=r,this.translate=a,this.tour=s,this.dbLocalService=l,this.route=u,this.loadingFlag=new A.E,this.total_value=0,this.products=[],this.reload=!0}return i(e,[{key:"ngOnInit",value:function(){var t=this.route.snapshot.paramMap.get("id");this.storeService.setStoreCode(t),this.getStoreByApi(),this.storeIndexSeleted=this.dbLocalService.stores.findIndex(function(e){return e.infor.code==t})}},{key:"presentDetail",value:function(t){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var i,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:et.m,componentProps:{item:t,from:"store"}});case 2:return(i=e.sent).onDidDismiss().then(function(e){e.data&&e.data.delete&&(n.products.splice(n.findProductIndexById(t),1),n.reload=!1,setTimeout(function(){n.reload=!0},30))}),e.next=6,i.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))}},{key:"findProductIndexById",value:function(t){return this.products.findIndex(function(e){return e.id==t.id})}},{key:"getStoreByApi",value:function(){var t=this;this.loadingFlag.setPending(!0),this.storeService.getApiStore("get").subscribe(function(e){if(1==e.status&&e.data){var i=e.data.list;t.products=i,t.total_value=t.getTotalCost(i),-1==t.storeIndexSeleted?t.dbLocalService.stores.push({infor:e.data.infor,store:t.products}):t.dbLocalService.stores[t.storeIndexSeleted]={infor:e.data.infor,store:t.products},t.dbLocalService.setLocalData("stores",t.dbLocalService.stores),t.storeService.setStore(t.products)}else t.toastService.warning(e.error);t.loadingFlag.setResult(!0)},function(e){t.toastService.danger(t.translate.instant("ERROR_CONNECT")),t.loadingFlag.setResult(!1)})}},{key:"doRefresh",value:function(t){this.getStoreByApi(),t.target.complete()}},{key:"getTotalCost",value:function(t){return t.reduce(function(t,e){return t+e.quantity_current*e.price},0)}},{key:"presentImport",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:dt});case 2:return(e=t.sent).onDidDismiss().then(function(t){console.log(t),1==t.data&&i.getStoreByApi()}),t.next=6,e.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}))}},{key:"presentSetting",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:pt.T});case 2:return t.next=4,t.sent.present();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(u.IN),m.Y36(y.k),m.Y36(p.d),m.Y36(d.D),m.Y36(Z.sK),m.Y36(gt.M),m.Y36(mt.T),m.Y36(l.gz))},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-store-inventory"]],decls:31,vars:12,consts:[["slot","start"],["text","","defaultHref","tabs/management"],["slot","end"],[3,"click"],["slot","icon-only","name","cog-outline"],["slot","fixed",3,"ionRefresh"],[1,"menu-icon-square","ion-text-center","ion-align-self-center"],["fill","outline","color","light","size","large",3,"click"],["color","primary","src","assets/icon/import.svg",1,"icon-large"],["routerLink","imported",1,"menu-icon-square","ion-text-center","ion-align-self-center"],["fill","outline","color","light","size","large"],["color","primary","name","time-outline",1,"icon-large"],["id","line"],["class","spiner-loading",4,"ngIf"],["mode","ios",4,"ngIf"],["class","ion-padding",4,"ngIf"],[1,"spiner-loading"],["name","dots"],["mode","ios"],[4,"ngIf"],["lines","inset"],["detail","",3,"click",4,"ngFor","ngForOf"],[1,"ion-text-wrap"],["detail","",3,"click"],["color","medium"],[1,"ion-padding"],[1,"ion-text-center"]],template:function(t,e){1&t&&(m.TgZ(0,"ion-header"),m.TgZ(1,"ion-toolbar"),m.TgZ(2,"ion-buttons",0),m._UZ(3,"ion-back-button",1),m.qZA(),m.TgZ(4,"ion-title"),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.TgZ(7,"ion-buttons",2),m.TgZ(8,"ion-button",3),m.NdJ("click",function(){return e.presentSetting()}),m._UZ(9,"ion-icon",4),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(10,"ion-content"),m.TgZ(11,"ion-refresher",5),m.NdJ("ionRefresh",function(t){return e.doRefresh(t)}),m._UZ(12,"ion-refresher-content"),m.qZA(),m.TgZ(13,"ion-grid"),m.TgZ(14,"ion-row"),m.TgZ(15,"ion-col",6),m.TgZ(16,"ion-button",7),m.NdJ("click",function(){return e.presentImport()}),m._UZ(17,"ion-icon",8),m.qZA(),m._UZ(18,"br"),m._uU(19),m.ALo(20,"translate"),m.qZA(),m.TgZ(21,"ion-col",9),m.TgZ(22,"ion-button",10),m._UZ(23,"ion-icon",11),m.qZA(),m._UZ(24,"br"),m._uU(25),m.ALo(26,"translate"),m.qZA(),m.qZA(),m.qZA(),m._UZ(27,"div",12),m.YNc(28,ht,2,0,"div",13),m.YNc(29,Tt,23,22,"ion-list",14),m.YNc(30,xt,6,3,"div",15),m.qZA()),2&t&&(m.xp6(5),m.Oqu(m.lcZ(6,6,"WAREHOUSE_MOD.TITLE")),m.xp6(14),m.hij(" ",m.lcZ(20,8,"WAREHOUSE_MOD.IMPORT")," "),m.xp6(6),m.hij(" ",m.lcZ(26,10,"WAREHOUSE_MOD.IMPORTED")," "),m.xp6(3),m.Q6J("ngIf",e.loadingFlag.pending),m.xp6(1),m.Q6J("ngIf",e.products.length>0&&e.reload),m.xp6(1),m.Q6J("ngIf",0===e.products.length&&e.loadingFlag.result))},directives:[u.Gu,u.sr,u.Sm,u.oU,u.cs,u.wd,u.YG,u.gu,u.W2,u.nJ,u.Wo,u.jY,u.Nd,u.wI,u.YI,l.rH,a.O5,u.PQ,u.q_,u.Ub,u.yh,u.Q$,a.sg,u.Ie,u.yW,u.PM,u.FN],pipes:[Z.X$,ft.g,Zt.u,a.JJ],styles:[""]}),e}(),Ot=o(24023),yt=o(5264),Et=o(66341),St=o(56209),wt=o(98373),Ut=o(84267),It=o(59865),Ct=[{path:":id/list",component:h},{path:":id/items",component:yt.E},{path:":id/logs",component:wt.B},{path:":id/imported",component:tt},{path:":id",component:_t,children:[{path:"imported"}]}],kt=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({providers:[Et.n,y.k,Ut.V1,It.y],imports:[[a.ez,s.u5,u.Pc,s.UX,l.Bz.forChild(Ct),Z.aw.forChild(),Ot.E,St.Ns]]}),e}()}}])}();