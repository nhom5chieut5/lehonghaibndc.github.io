!function(){"use strict";function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var o,r=i(e);if(t){var a=i(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return n(this,o)}}function n(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[559],{54395:function(n,i,r){r.d(i,{b:function(){return u}});var c=r(77393),s=r(33637);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.P;return function(n){return n.lift(new l(e,t))}}var l=function(){function e(t,n){o(this,e),this.dueTime=t,this.scheduler=n}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new d(e,this.dueTime,this.scheduler))}}]),e}(),d=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(r,n);var i=t(r);function r(e,t,n){var a;return o(this,r),(a=i.call(this,e)).dueTime=t,a.scheduler=n,a.debouncedSubscription=null,a.lastValue=null,a.hasValue=!1,a}return a(r,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(p,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),r}(c.L);function p(e){e.debouncedNext()}},26164:function(e,t,n){n.d(t,{J:function(){return l}});var i,r=n(15189),c=n(88002),s=n(37716),u=n(71239),l=((i=function(){function e(t,n){o(this,e),this.reqAPIService=t,this.dblocalservice=n,this.urlApi="/manager/company-api",this.urlApiDashboard="/manager/company-dashboard-api-mobie",this.listFarm=[],this.setCompany(this.dblocalservice.company)}return a(e,[{key:"setCode",value:function(e){this.ccode=e}},{key:"setCompany",value:function(e){this.company=e}},{key:"loadFarms",value:function(){return this.reqAPIService.get(this.urlApiDashboard+"?ccode="+this.ccode).pipe((0,c.U)(function(e){return e}))}},{key:"loadCompany",value:function(){return this.reqAPIService.get(this.urlApi+"?ccode="+this.ccode).pipe((0,c.U)(function(e){return e}))}},{key:"loadLog",value:function(e){return this.reqAPIService.get("/manager/log-api?action=company&id="+e).pipe((0,c.U)(function(e){return e}))}},{key:"loadSpecies",value:function(){return this.reqAPIService.get("/manager/farm-create-api?action=get-species").pipe((0,c.U)(function(e){return e}))}},{key:"createFarm",value:function(e){return this.reqAPIService.post("/manager/farm-create-api?action=farm-create&ccode="+this.ccode,e)}},{key:"getInforCompany",value:function(){return this.reqAPIService.get("/manager/company-edit-api-mobie?action=get&cid="+this.company.id).pipe((0,c.U)(function(e){return e}))}},{key:"updateInforCompany",value:function(e){return this.reqAPIService.post("/manager/company-edit-api-mobie?action=edit&cid="+this.company.id,e)}},{key:"registerCode",value:function(e){return this.reqAPIService.post("/manager/company-register-code-api",e)}},{key:"registerCompany",value:function(e){return this.reqAPIService.post("/manager/company-register-api",e)}},{key:"getFirstSetup",value:function(){return this.reqAPIService.get("/manager/company-first-setup-api&action=get-info&ccode="+this.ccode)}},{key:"firstSetup",value:function(e){return this.reqAPIService.post("/manager/company-first-setup-api&action=setup&ccode="+this.ccode,e)}},{key:"loadPackages",value:function(){return this.reqAPIService.get("/manager/company-packages-api-mobie?action=get&cid="+this.company.id).pipe((0,c.U)(function(e){return e}))}},{key:"getPackages",value:function(){return this.reqAPIService.get("/manager/company-packages-api-mobie?action=get-package&cid="+this.company.id).pipe((0,c.U)(function(e){return e}))}},{key:"upgradePackage",value:function(e){return this.reqAPIService.post("/manager/company-packages-api-mobie?action=edit&cid="+this.company.id,e).pipe((0,c.U)(function(e){return e}))}},{key:"renewPackage",value:function(e){return this.reqAPIService.post("/manager/company-packages-api-mobie?action=edit&cid="+this.company.id,e).pipe((0,c.U)(function(e){return e}))}},{key:"saveQuickCreate",value:function(e){return this.reqAPIService.post("/manager/quick-create-api",e)}},{key:"getApi",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.reqAPIService.get("/".concat(n,"?action=")+e+t).pipe((0,c.U)(function(e){return e}))}},{key:"sendPost",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this.reqAPIService.post("/".concat(i,"?action=")+e+n,t).pipe((0,c.U)(function(e){return e}))}}]),e}()).\u0275fac=function(e){return new(e||i)(s.LFG(r.$),s.LFG(u.T))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},80559:function(e,t,n){n.d(t,{n:function(){return w}});var i=n(64762),r=n(90665),c=n(27887),s=n(28049),u=n(22923),l=n(26164),d=n(37716),p=n(47063),g=n(84465),h=n(81780),f=n(71239),m=n(38583);function v(e,t){if(1&e&&(d.TgZ(0,"div",23),d.TgZ(1,"ion-text",24),d.TgZ(2,"i"),d._uU(3),d.qZA(),d.qZA(),d.qZA()),2&e){var n=d.oxw();d.xp6(3),d.Oqu(n.message)}}function A(e,t){if(1&e&&(d.TgZ(0,"ion-select-option",25),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.value),d.xp6(1),d.Oqu(n.label)}}function Z(e,t){1&e&&(d.TgZ(0,"ion-item",5),d.TgZ(1,"ion-label",6),d._uU(2),d.ALo(3,"translate"),d.qZA(),d._UZ(4,"ion-input",26),d.qZA()),2&e&&(d.xp6(2),d.Oqu(d.lcZ(3,1,"WAREHOUSE_MOD.CONVERT_KG")))}function y(e,t){1&e&&(d.TgZ(0,"div"),d._UZ(1,"ion-spinner",27),d.qZA())}var q,E=((q=function(){function e(t,n,i,r,a,s,u,l){o(this,e),this.modalController=t,this.formBulder=n,this.toastService=i,this.storeService=r,this.translate=a,this.dbLocalService=s,this.companyService=u,this.alertController=l,this.savingFlag=new c.E,this.units=[{value:"kg",label:"Kg"},{value:"lit",label:this.translate.instant("WAREHOUSE_MOD.LITER")}],this.createForm()}return a(e,[{key:"ngOnInit",value:function(){}},{key:"onSubmit",value:function(){var e=this;this.savingFlag.setPending(!0),this.message=null,this.storeService.sendPost("store-product-private",this.form.value,"&ccode="+this.companyService.ccode,"manager/company-category-api").pipe((0,s.P)()).subscribe(function(t){1===t.status?(e.toastService.success(t.message),e.modalController.dismiss(!0)):e.message=t.error,e.savingFlag.setResult(!0)},function(t){e.toastService.danger(e.translate.instant("ERROR_CONNECT")),e.savingFlag.setResult(!1)})}},{key:"createForm",value:function(){this.form=this.formBulder.group({name:["",[r.kI.required]],group:["",[r.kI.required]],unit:["",[r.kI.required]],manufacturer:["",[r.kI.required]],uses:["",[r.kI.required]],packing:[1,[r.kI.required,r.kI.min(1)]],dosage:[""]})}},{key:"presentAddUnit",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:this.translate.instant("ADD")+" "+this.translate.instant("MONEY_MOD.GROUP"),inputs:[{name:"unit",type:"text",placeholder:this.translate.instant("UNIT")}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"Ok",handler:function(e){t.units.push({value:e.unit,label:e.unit}),t.form.patchValue({unit:e.unit})}}]});case 2:return e.next=4,e.sent.present();case 4:case"end":return e.stop()}},e,this)}))}}]),e}()).\u0275fac=function(e){return new(e||q)(d.Y36(p.IN),d.Y36(r.qu),d.Y36(g.k),d.Y36(u.d),d.Y36(h.sK),d.Y36(f.T),d.Y36(l.J),d.Y36(p.Br))},q.\u0275cmp=d.Xpm({type:q,selectors:[["app-store-addnew"]],inputs:{indexFarm:"indexFarm"},decls:64,vars:48,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["class","ion-padding ion-text-center",4,"ngIf"],[3,"formGroup","ngSubmit"],["lines","inset"],["position","floating"],["type","text","formControlName","name","inputmode","text"],["formControlName","group",3,"placeholder"],["value","1"],["value","2"],["value","3"],["formControlName","unit",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],["slot","end"],["slot","icon-only","name","add-circle"],["lines","inset",4,"ngIf"],["type","text","formControlName","manufacturer","inputmode","text"],["type","text","formControlName","uses"],["type","text","formControlName","dosage",3,"placeholder"],[1,"ion-text-center","ion-padding"],[4,"ngIf"],["type","submit","color","primary","shape","round",3,"disabled"],[1,"ion-padding","ion-text-center"],["color","danger"],[3,"value"],["formControlName","packing","type","tel","inputmode","decimal"],["name","dots"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d.TgZ(3,"ion-button",1),d.NdJ("click",function(){return t.modalController.dismiss()}),d._UZ(4,"ion-icon",2),d.qZA(),d.qZA(),d.TgZ(5,"ion-title"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"ion-content"),d.YNc(9,v,4,1,"div",3),d.TgZ(10,"form",4),d.NdJ("ngSubmit",function(){return t.onSubmit()}),d.TgZ(11,"ion-list"),d.TgZ(12,"ion-item",5),d.TgZ(13,"ion-label",6),d._uU(14),d.ALo(15,"translate"),d.qZA(),d._UZ(16,"ion-input",7),d.qZA(),d.TgZ(17,"ion-item",5),d.TgZ(18,"ion-label"),d._uU(19),d.ALo(20,"translate"),d.qZA(),d.TgZ(21,"ion-select",8),d.ALo(22,"translate"),d.TgZ(23,"ion-select-option",9),d._uU(24),d.ALo(25,"translate"),d.qZA(),d.TgZ(26,"ion-select-option",10),d._uU(27),d.ALo(28,"translate"),d.qZA(),d.TgZ(29,"ion-select-option",11),d._uU(30),d.ALo(31,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(32,"ion-item",5),d.TgZ(33,"ion-label"),d._uU(34),d.ALo(35,"translate"),d.qZA(),d.TgZ(36,"ion-select",12),d.ALo(37,"translate"),d.YNc(38,A,2,2,"ion-select-option",13),d.qZA(),d.TgZ(39,"ion-buttons",14),d.TgZ(40,"ion-button",1),d.NdJ("click",function(){return t.presentAddUnit()}),d._UZ(41,"ion-icon",15),d.qZA(),d.qZA(),d.qZA(),d.YNc(42,Z,5,3,"ion-item",16),d.TgZ(43,"ion-item",5),d.TgZ(44,"ion-label",6),d._uU(45),d.ALo(46,"translate"),d.qZA(),d._UZ(47,"ion-input",17),d.qZA(),d.TgZ(48,"ion-item",5),d.TgZ(49,"ion-label",6),d._uU(50),d.ALo(51,"translate"),d.qZA(),d._UZ(52,"ion-textarea",18),d.qZA(),d.TgZ(53,"ion-item",5),d.TgZ(54,"ion-label",6),d._uU(55),d.ALo(56,"translate"),d.qZA(),d._UZ(57,"ion-textarea",19),d.ALo(58,"translate"),d.qZA(),d.qZA(),d.TgZ(59,"div",20),d.YNc(60,y,2,0,"div",21),d.TgZ(61,"ion-button",22),d._uU(62),d.ALo(63,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(6),d.Oqu(d.lcZ(7,20,"WAREHOUSE_MOD.ADD_NEW")),d.xp6(3),d.Q6J("ngIf",t.message),d.xp6(1),d.Q6J("formGroup",t.form),d.xp6(4),d.Oqu(d.lcZ(15,22,"WAREHOUSE_MOD.NAME")),d.xp6(5),d.Oqu(d.lcZ(20,24,"WAREHOUSE_MOD.GROUP_USED")),d.xp6(2),d.Q6J("placeholder",d.lcZ(22,26,"WAREHOUSE_MOD.SELECT")),d.xp6(3),d.Oqu(d.lcZ(25,28,"WAREHOUSE_MOD.FEED")),d.xp6(3),d.Oqu(d.lcZ(28,30,"WAREHOUSE_MOD.FEED_SUPPLEMENT")),d.xp6(3),d.Oqu(d.lcZ(31,32,"WAREHOUSE_MOD.TREATMENT")),d.xp6(4),d.Oqu(d.lcZ(35,34,"WAREHOUSE_MOD.UNIT")),d.xp6(2),d.Q6J("placeholder",d.lcZ(37,36,"WAREHOUSE_MOD.SELECT")),d.xp6(2),d.Q6J("ngForOf",t.units),d.xp6(4),d.Q6J("ngIf","kg"!=t.form.value.unit&&"lit"!=t.form.value.unit),d.xp6(3),d.Oqu(d.lcZ(46,38,"WAREHOUSE_MOD.PRODUCER")),d.xp6(5),d.Oqu(d.lcZ(51,40,"WAREHOUSE_MOD.USAGE")),d.xp6(5),d.Oqu(d.lcZ(56,42,"WAREHOUSE_MOD.DOSAGE")),d.xp6(2),d.Q6J("placeholder",d.lcZ(58,44,"WAREHOUSE_MOD.NOTE_KG")),d.xp6(3),d.Q6J("ngIf",t.savingFlag.pending),d.xp6(1),d.Q6J("disabled",t.form.invalid||t.savingFlag.pending),d.xp6(1),d.hij("",d.lcZ(63,46,"WAREHOUSE_MOD.SAVE")," "))},directives:[p.Gu,p.sr,p.Sm,p.YG,p.gu,p.wd,p.W2,m.O5,r._Y,r.JL,r.sg,p.q_,p.Ie,p.Q$,p.pK,p.j9,r.JJ,r.u,p.t9,p.QI,p.n0,m.sg,p.g2,p.yW,p.PQ],pipes:[h.X$],styles:[""]}),q),O=n(79765),S=n(25917),T=n(54395),_=n(87519),b=n(43190),k=n(88002),U=n(23211);function x(e,t){1&e&&(d.TgZ(0,"ion-list-header"),d.TgZ(1,"ion-label"),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Oqu(d.lcZ(3,1,"WAREHOUSE_MOD.SELECTED")))}function R(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-item"),d.TgZ(1,"ion-label"),d.TgZ(2,"h3"),d._uU(3),d.qZA(),d.TgZ(4,"p"),d._uU(5),d.qZA(),d.qZA(),d.TgZ(6,"ion-button",13),d.NdJ("click",function(){var e=d.CHM(n).index;return d.oxw().onRemove(e)}),d._uU(7),d.ALo(8,"translate"),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit;d.xp6(3),d.Oqu(i.product_name),d.xp6(2),d.Oqu(i.manufacturer_name),d.xp6(2),d.hij(" ",d.lcZ(8,3,"WAREHOUSE_MOD.DELETE")," ")}}function I(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",12),d.TgZ(1,"ion-button",14),d.NdJ("click",function(){return d.CHM(n),d.oxw().onSave()}),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.qZA()}2&e&&(d.xp6(2),d.Oqu(d.lcZ(3,1,"WAREHOUSE_MOD.SAVE")))}function C(e,t){1&e&&(d.TgZ(0,"ion-list-header"),d.TgZ(1,"ion-label"),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Oqu(d.lcZ(3,1,"WAREHOUSE_MOD.RESULT")))}function N(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-item"),d.TgZ(1,"ion-label"),d.TgZ(2,"h3"),d._uU(3),d.qZA(),d.TgZ(4,"p"),d._uU(5),d.qZA(),d.qZA(),d.TgZ(6,"ion-button",15),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw().onSelect(e)}),d._uU(7),d.ALo(8,"translate"),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit;d.xp6(3),d.Oqu(i.product_name),d.xp6(2),d.Oqu(i.manufacturer_name),d.xp6(2),d.hij(" ",d.lcZ(8,3,"WAREHOUSE_MOD.SELECT")," ")}}function D(e,t){if(1&e&&(d.TgZ(0,"ion-item",10),d.TgZ(1,"ion-label"),d.TgZ(2,"p"),d.TgZ(3,"ion-text",16),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var n=d.oxw();d.xp6(4),d.Oqu(n.message)}}function P(e,t){1&e&&(d.TgZ(0,"div"),d._UZ(1,"ion-spinner",17),d.qZA())}var w=function(){var e=function(){function e(t,n,i,r,a,s,u){o(this,e),this.modalController=t,this.storeService=n,this.toastService=i,this.translate=r,this.tour=a,this.companyService=s,this.dbLocalService=u,this.savingFlag=new c.E,this.loadingFlag=new c.E,this.searchTerms=new O.xQ,this.productsSelected=[],this.dataChanged=!1}return a(e,[{key:"ngOnInit",value:function(){var e=this,t=this.searchTerms.pipe((0,T.b)(300),(0,_.x)(),(0,b.w)(function(t){return e.getListMember(t)}));this.products$=t,this.products$.subscribe(function(t){t?(e.loadingFlag.setResult(!0),e.message=""):(e.loadingFlag.setResult(!1),e.message=e.translate.instant("WAREHOUSE_MOD.NOT_FOUND"))})}},{key:"ionViewDidEnter",value:function(){console.log("addlisst"),this.tour.show("store-addlist")}},{key:"search",value:function(e){this.searchTerms.next(e.detail.value)}},{key:"getListMember",value:function(e){return this.loadingFlag.setPending(!0),e.trim()?this.companyService.getApi("search-product","&ccode="+this.companyService.ccode+"&keyword="+e,"manager/company-category-api").pipe((0,k.U)(function(e){return e.data})):(this.loadingFlag.setResult(!0),(0,S.of)([]))}},{key:"onSelect",value:function(e){this.productsSelected.includes(e)?this.toastService.success(this.translate.instant("WAREHOUSE_MOD.PRODUCT_SELECTED")):this.productsSelected.push(e)}},{key:"onRemove",value:function(e){this.productsSelected.splice(e,1)}},{key:"onSave",value:function(){var e=this,t=[];this.productsSelected.forEach(function(e){t.push(e.id)}),0!==t.length?(this.savingFlag.setPending(!0),this.storeService.sendPost("addItem",{row:t},"&ccode="+this.companyService.ccode,"manager/company-category-api").pipe((0,s.P)()).subscribe(function(t){1===t.status&&e.modalController.dismiss(!0),t.error?e.toastService.warning(t.error):e.toastService.success(t.message),e.savingFlag.setResult(!0)},function(t){e.savingFlag.setResult(!1),e.toastService.danger(e.translate.instant("ERROR_CONNECT"))})):this.toastService.warning(this.translate.instant("WAREHOUSE_MOD.WARN_MIN"))}},{key:"presentAddNew",value:function(){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:E,componentProps:{indexFarm:this.indexFarm}});case 2:return(t=e.sent).onDidDismiss().then(function(e){console.log(e),1==e.data&&(n.dataChanged=!0)}),e.next=6,t.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(p.IN),d.Y36(u.d),d.Y36(g.k),d.Y36(h.sK),d.Y36(U.M),d.Y36(l.J),d.Y36(f.T))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-store-addlist"]],inputs:{indexFarm:"indexFarm"},decls:32,vars:23,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slot","end"],["id","store-addlist1",3,"click"],["id","store-addlist0",3,"placeholder","ionChange"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","ion-text-center",4,"ngIf"],["lines","none",4,"ngIf"],["lines","none"],[1,"ion-text-wrap"],[1,"ion-text-center"],["slot","end","color","danger",3,"click"],["shape","round",3,"click"],["slot","end",3,"click"],["color","danger"],["name","dots"]],template:function(e,t){var n;(1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d.TgZ(3,"ion-button",1),d.NdJ("click",function(){return t.modalController.dismiss(t.dataChanged)}),d._UZ(4,"ion-icon",2),d.qZA(),d.qZA(),d.TgZ(5,"ion-title"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.TgZ(8,"ion-buttons",3),d.TgZ(9,"ion-button",4),d.NdJ("click",function(){return t.presentAddNew()}),d._uU(10),d.ALo(11,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(12,"ion-content"),d.TgZ(13,"ion-searchbar",5),d.NdJ("ionChange",function(e){return t.search(e)}),d.ALo(14,"translate"),d.qZA(),d.TgZ(15,"ion-list"),d.YNc(16,x,4,3,"ion-list-header",6),d.YNc(17,R,9,5,"ion-item",7),d.YNc(18,I,4,3,"div",8),d.qZA(),d.TgZ(19,"ion-list"),d.YNc(20,C,4,3,"ion-list-header",6),d.ALo(21,"async"),d.YNc(22,N,9,5,"ion-item",7),d.ALo(23,"async"),d.YNc(24,D,5,1,"ion-item",9),d.TgZ(25,"ion-item",10),d.TgZ(26,"ion-label",11),d.TgZ(27,"p"),d._uU(28),d.ALo(29,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(30,"div",12),d.YNc(31,P,2,0,"div",6),d.qZA(),d.qZA()),2&e)&&(d.xp6(6),d.Oqu(d.lcZ(7,11,"WAREHOUSE_MOD.ADD_CATE")),d.xp6(4),d.hij(" ",d.lcZ(11,13,"WAREHOUSE_MOD.ADD_NEW")," "),d.xp6(3),d.Q6J("placeholder",d.lcZ(14,15,"WAREHOUSE_MOD.ENTER_NAME_PRODUCT")),d.xp6(3),d.Q6J("ngIf",t.productsSelected.length>0),d.xp6(1),d.Q6J("ngForOf",t.productsSelected),d.xp6(1),d.Q6J("ngIf",t.productsSelected.length>0),d.xp6(2),d.Q6J("ngIf",(null==(n=d.lcZ(21,17,t.products$))?null:n.length)>0),d.xp6(2),d.Q6J("ngForOf",d.lcZ(23,19,t.products$)),d.xp6(2),d.Q6J("ngIf",t.message),d.xp6(4),d.Oqu(d.lcZ(29,21,"WAREHOUSE_MOD.NOTE_FIND")),d.xp6(3),d.Q6J("ngIf",t.loadingFlag.pending))},directives:[p.Gu,p.sr,p.Sm,p.YG,p.gu,p.wd,p.W2,p.VI,p.j9,p.q_,m.O5,m.sg,p.Ie,p.Q$,p.yh,p.yW,p.PQ],pipes:[h.X$,m.Ov],styles:[""]}),e}()},22923:function(e,t,n){n.d(t,{d:function(){return l}});var i,r=n(88002),c=n(26215),s=n(15189),u=n(37716),l=((i=function(){function e(t){o(this,e),this.reqAPIService=t,this.urlApi="/manager/store-api-mobie",this.NEW_URL_API="/manager/warehouse-api",this.changeDataStore=!1,this.onLoaded$=new c.X(0)}return a(e,[{key:"destroy",value:function(){this.fcode=null,this.store=null}},{key:"setFarmCode",value:function(e){this.fcode=e}},{key:"getFarmCode",value:function(){return this.fcode}},{key:"setStoreCode",value:function(e){this.wcode=e}},{key:"getStoreCode",value:function(){return this.wcode}},{key:"setStore",value:function(e){this.store=e}},{key:"getStore",value:function(){return this.store}},{key:"itemChanged",value:function(e,t){void 0!==this.store[e]&&Object.assign(this.store[e],t)}},{key:"getApiStore",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e=""===i?this.NEW_URL_API+"?action="+t+"&wcode="+this.wcode+n:"/".concat(i,"?action=")+t+n,this.reqAPIService.get(e).pipe((0,r.U)(function(e){return e}))}},{key:"sendPost",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e=""===o?this.NEW_URL_API+"?action="+t+"&wcode="+this.wcode+i:"/".concat(o,"?action=")+t+i,this.reqAPIService.post(e,n).pipe((0,r.U)(function(e){return e}))}},{key:"sendPostWithFile",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.reqAPIService.postApiWithFile(e,t,"&wcode="+this.wcode+n,this.NEW_URL_API)}},{key:"postEdit",value:function(e,t){return this.reqAPIService.post(this.urlApi+"?action=edit-product-private&fcode="+this.fcode+"&id="+e,t)}}]),e}()).\u0275fac=function(e){return new(e||i)(u.LFG(s.$))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i)}}])}();