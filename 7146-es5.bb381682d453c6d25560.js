!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[7146],{76329:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(13409),a=n(25639),s=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new a.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(r.Subject);t.BehaviorSubject=s},13409:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=n(93576),a=n(67241),s=n(43984),c=n(25639),l=n(45298),u=n(81476),p=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return o(t,e),t}(a.Subscriber);t.SubjectSubscriber=p;var d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return o(t,e),t.prototype[u.rxSubscriber]=function(){return new p(this)},t.prototype.lift=function(e){var t=new g(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),o=0;o<n;o++)i[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),o=0;o<n;o++)i[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(e.complete(),s.Subscription.EMPTY):(this.observers.push(e),new l.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new r.Observable;return e.source=this,e},t.create=function(e,t){return new g(e,t)},t}(r.Observable);t.Subject=d;var g=function(e){function t(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return o(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.Subscription.EMPTY},t}(d);t.AnonymousSubject=g},45298:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n){var i=e.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return o(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(43984).Subscription);t.SubjectSubscription=r},25639:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}();t.ObjectUnsubscribedError=n},41301:function(t,i,o){o.r(i),o.d(i,{CompanyPageModule:function(){return et}});var r=o(38583),a=o(90665),s=o(13619),c=o(47063),l=o(64762),u=o(27887),p=o(26164),d=o(37716),g=o(84465),Z=o(81780);function A(e,t){1&e&&(d.TgZ(0,"div",6),d._UZ(1,"ion-spinner",7),d.qZA())}function f(e,t){if(1&e&&(d.TgZ(0,"ion-item"),d.TgZ(1,"ion-label"),d.TgZ(2,"h2"),d._uU(3),d.ALo(4,"date"),d.TgZ(5,"b"),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"h3"),d._uU(8),d.qZA(),d.qZA(),d.qZA()),2&e){var n=t.$implicit;d.xp6(3),d.hij("",d.lcZ(4,3,1e3*n.time)," "),d.xp6(3),d.Oqu(n.user_name),d.xp6(2),d.Oqu(n.title)}}function h(e,t){if(1&e&&(d.TgZ(0,"ion-list"),d.YNc(1,f,9,5,"ion-item",8),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Q6J("ngForOf",n.listLog)}}var m,O=((m=function(){function t(n,i,o,r,a,s){e(this,t),this.modalController=n,this.navParams=i,this.companyService=o,this.toastService=r,this.alertController=a,this.translate=s,this.loadingFlag=new u.E,this.listLog=[]}return n(t,[{key:"ngOnInit",value:function(){this.id=this.navParams.get("id"),this.getList()}},{key:"getList",value:function(){var e=this;this.loadingFlag.setPending(!0),this.companyService.loadLog(this.id).pipe().subscribe(function(t){0==t.status?(e.toastService.warning(t.error),e.loadingFlag.setResult(!1)):(e.listLog=t.data,e.loadingFlag.setResult(!0))},function(t){e.toastService.danger(e.translate.instant("ERROR_CONNECT")),e.loadingFlag.setResult(!1)})}}]),t}()).\u0275fac=function(e){return new(e||m)(d.Y36(c.IN),d.Y36(c.X1),d.Y36(p.J),d.Y36(g.k),d.Y36(c.Br),d.Y36(Z.sK))},m.\u0275cmp=d.Xpm({type:m,selectors:[["app-company-report"]],inputs:{id:"id"},decls:11,vars:5,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["fullscreen",""],["class","spiner-loading",4,"ngIf"],[4,"ngIf"],[1,"spiner-loading"],["name","dots"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d.TgZ(3,"ion-button",1),d.NdJ("click",function(){return t.modalController.dismiss(!1)}),d._UZ(4,"ion-icon",2),d.qZA(),d.qZA(),d.TgZ(5,"ion-title"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"ion-content",3),d.YNc(9,A,2,0,"div",4),d.YNc(10,h,2,1,"ion-list",5),d.qZA()),2&e&&(d.xp6(6),d.Oqu(d.lcZ(7,3,"COMPANY_MOD.TODO")),d.xp6(3),d.Q6J("ngIf",t.loadingFlag.pending),d.xp6(1),d.Q6J("ngIf",t.loadingFlag.result))},directives:[c.Gu,c.sr,c.Sm,c.YG,c.gu,c.wd,c.W2,r.O5,c.PQ,c.q_,r.sg,c.Ie,c.Q$],pipes:[Z.X$,r.uU],styles:[""]}),m),_=o(75853);function v(e,t){if(1&e&&(d.TgZ(0,"ion-text",11),d.TgZ(1,"small"),d._uU(2),d.qZA(),d.qZA()),2&e){var n=d.oxw();d.xp6(2),d.Oqu(n.message)}}function q(e,t){1&e&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"translate"),d.qZA()),2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,1,"COMPANY_MOD.CONFIRM")))}function T(e,t){1&e&&d._UZ(0,"ion-spinner",12)}var x=function(){var t=function(){function t(n,i,o,r){e(this,t),this.modalController=n,this.toastService=i,this.companyService=o,this.translate=r,this.codeForm=new a.cw({code:new a.NI("",a.kI.required)}),this.checkingFlag=new u.E,this.message=""}return n(t,[{key:"ngOnInit",value:function(){}},{key:"submitCode",value:function(){var e=this;this.message="",this.checkingFlag.setStart(!0),this.companyService.registerCode(this.codeForm.value).pipe().subscribe(function(t){1==t.status?e.modalController.dismiss(!0):e.message=t.message.replace("[2]",""),e.checkingFlag.setResult(!0)},function(){e.checkingFlag.setResult(!1),e.toastService.danger(e.translate.instant("ERROR_CONNECT"))})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(c.IN),d.Y36(g.k),d.Y36(p.J),d.Y36(Z.sK))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-package-code-input"]],decls:25,vars:12,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],[3,"formGroup"],["formControlName","code",1,"code-input",3,"placeholder"],["color","danger",4,"ngIf"],[1,"ion-justify-content-center"],[1,"ion-text-center"],["shape","round","size","default","fill","clear",3,"disabled","click"],[4,"ngIf"],["name","dots",4,"ngIf"],["color","danger"],["name","dots"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d.TgZ(3,"ion-button",1),d.NdJ("click",function(){return t.modalController.dismiss()}),d._UZ(4,"ion-icon",2),d.qZA(),d.qZA(),d.TgZ(5,"ion-title"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"ion-content"),d.TgZ(9,"ion-card"),d.TgZ(10,"ion-card-header"),d.TgZ(11,"p"),d._uU(12),d.ALo(13,"translate"),d.qZA(),d.qZA(),d.TgZ(14,"ion-card-content"),d.TgZ(15,"form",3),d._UZ(16,"ion-input",4),d.qZA(),d.YNc(17,v,3,1,"ion-text",5),d.qZA(),d.TgZ(18,"ion-grid"),d.TgZ(19,"ion-row",6),d.TgZ(20,"ion-col"),d.TgZ(21,"div",7),d.TgZ(22,"ion-button",8),d.NdJ("click",function(){return t.submitCode()}),d.YNc(23,q,3,3,"span",9),d.YNc(24,T,1,0,"ion-spinner",10),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(6),d.Oqu(d.lcZ(7,8,"COMPANY_MOD.PACKAGE_INPUT_TITLE")),d.xp6(6),d.Oqu(d.lcZ(13,10,"COMPANY_MOD.UPGRADE_CODE")),d.xp6(3),d.Q6J("formGroup",t.codeForm),d.xp6(1),d.Q6J("placeholder",t.translate.instant("COMPANY_MOD.ENTER_CODE")),d.xp6(1),d.Q6J("ngIf",t.message),d.xp6(5),d.Q6J("disabled",t.codeForm.invalid||t.checkingFlag.pending),d.xp6(1),d.Q6J("ngIf",!t.checkingFlag.pending),d.xp6(1),d.Q6J("ngIf",t.checkingFlag.pending))},directives:[c.Gu,c.sr,c.Sm,c.YG,c.gu,c.wd,c.W2,c.PM,c.Zi,c.FN,a._Y,a.JL,a.sg,c.pK,c.j9,a.JJ,a.u,r.O5,c.jY,c.Nd,c.wI,c.yW,c.PQ],pipes:[Z.X$],styles:[""]}),t}(),M=o(73532);function N(e,t){if(1&e&&(d.TgZ(0,"ion-card",11),d.TgZ(1,"ion-card-header"),d.TgZ(2,"ion-card-subtitle"),d._uU(3),d.ALo(4,"translate"),d.qZA(),d.TgZ(5,"ion-card-title"),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"ion-card-content"),d.TgZ(8,"ion-list",12),d.TgZ(9,"ion-item",13),d.TgZ(10,"ion-label"),d._uU(11),d.ALo(12,"translate"),d.qZA(),d.TgZ(13,"span",3),d._uU(14),d.qZA(),d.qZA(),d.TgZ(15,"ion-item",13),d.TgZ(16,"ion-label"),d._uU(17),d.ALo(18,"translate"),d.qZA(),d.TgZ(19,"span",3),d._uU(20),d.ALo(21,"date"),d.ALo(22,"translate"),d.qZA(),d.qZA(),d.TgZ(23,"ion-item",13),d.TgZ(24,"ion-label"),d._uU(25),d.ALo(26,"translate"),d.qZA(),d.TgZ(27,"span",3),d._uU(28),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var n=d.oxw();d.xp6(3),d.Oqu(d.lcZ(4,8,"COMPANY_MOD.PROCESSING")),d.xp6(3),d.Oqu(n.waitingOrder.name),d.xp6(5),d.Oqu(d.lcZ(12,10,"COMPANY_MOD.CODE")),d.xp6(3),d.hij("#",n.waitingOrder.code,""),d.xp6(3),d.Oqu(d.lcZ(18,12,"COMPANY_MOD.DATE")),d.xp6(3),d.Oqu(d.xi3(21,14,1e3*n.waitingOrder.request_time,d.lcZ(22,17,"FORMAT_DATE"))),d.xp6(5),d.Oqu(d.lcZ(26,19,"COMPANY_MOD.STATUS")),d.xp6(3),d.Oqu(n.waitingOrder.status)}}function C(e,t){1&e&&(d.TgZ(0,"ion-button",20),d._uU(1),d.ALo(2,"translate"),d.qZA()),2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,1,"COMPANY_MOD.FREE")))}function y(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-button",21),d.NdJ("click",function(){return d.CHM(n),d.oxw(3).showRenewal()}),d._uU(1),d.ALo(2,"translate"),d.qZA()}2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,1,"COMPANY_MOD.RENEW")))}function b(e,t){if(1&e&&(d.TgZ(0,"div",17),d.YNc(1,C,3,3,"ion-button",18),d.YNc(2,y,3,3,"ion-button",19),d.qZA()),2&e){var n=d.oxw().$implicit;d.xp6(1),d.Q6J("ngIf",0==n.current.id),d.xp6(1),d.Q6J("ngIf",0!=n.current.id)}}function P(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-list",12),d.TgZ(1,"ion-list-header"),d.TgZ(2,"ion-label"),d._uU(3),d.ALo(4,"translate"),d.qZA(),d.qZA(),d.TgZ(5,"ion-item",13),d.TgZ(6,"ion-label"),d._uU(7),d.ALo(8,"translate"),d.qZA(),d.TgZ(9,"ion-select",22),d.TgZ(10,"ion-select-option",23),d._uU(11),d.ALo(12,"translate"),d.qZA(),d.TgZ(13,"ion-select-option",24),d._uU(14),d.ALo(15,"translate"),d.qZA(),d.TgZ(16,"ion-select-option",25),d._uU(17),d.ALo(18,"translate"),d.qZA(),d.TgZ(19,"ion-select-option",26),d._uU(20),d.ALo(21,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"ion-item",13),d.TgZ(23,"ion-label"),d._uU(24),d.ALo(25,"translate"),d.qZA(),d.TgZ(26,"span",3),d._uU(27),d.ALo(28,"number"),d.ALo(29,"translate"),d.qZA(),d.qZA(),d.TgZ(30,"ion-item",13),d.TgZ(31,"ion-label"),d._uU(32),d.ALo(33,"translate"),d.qZA(),d.TgZ(34,"span",3),d.TgZ(35,"ion-text",27),d._uU(36),d.ALo(37,"number"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(38,"ion-item",13),d.TgZ(39,"ion-label"),d._uU(40),d.ALo(41,"translate"),d.qZA(),d.TgZ(42,"span",3),d.TgZ(43,"ion-text",28),d._uU(44),d.ALo(45,"number"),d.qZA(),d._uU(46),d.ALo(47,"translate"),d.qZA(),d.qZA(),d.TgZ(48,"ion-item",13),d.TgZ(49,"ion-button",29),d.NdJ("click",function(){return d.CHM(n),d.oxw(2).renewalShow=!1}),d._uU(50),d.ALo(51,"translate"),d.qZA(),d.TgZ(52,"ion-button",30),d.NdJ("click",function(){return d.CHM(n),d.oxw(2).renewPackage()}),d._uU(53),d.ALo(54,"translate"),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=d.oxw().$implicit,o=d.oxw();d.xp6(3),d.Oqu(d.lcZ(4,19,"COMPANY_MOD.RENEW")),d.xp6(4),d.Oqu(d.lcZ(8,21,"COMPANY_MOD.QUANTITY")),d.xp6(2),d.Q6J("placeholder",o.translate.instant("COMPANY_MOD.SELECT"))("formControl",o.timeRenew),d.xp6(2),d.hij("1 ",d.lcZ(12,23,"COMPANY_MOD.YEAR"),""),d.xp6(3),d.hij("2 ",d.lcZ(15,25,"COMPANY_MOD.YEARS"),""),d.xp6(3),d.hij("3 ",d.lcZ(18,27,"COMPANY_MOD.YEARS"),""),d.xp6(3),d.hij("5 ",d.lcZ(21,29,"COMPANY_MOD.YEARS"),""),d.xp6(4),d.Oqu(d.lcZ(25,31,"COMPANY_MOD.PRICE")),d.xp6(3),d.AsE("",d.xi3(28,33,i.price,"1.0")," ",d.lcZ(29,36,"CURRENCY_S"),""),d.xp6(5),d.Oqu(d.lcZ(33,38,"COMPANY_MOD.SALE")),d.xp6(4),d.hij("",d.xi3(37,40,100*o.discount,"1.0"),"%"),d.xp6(4),d.Oqu(d.lcZ(41,43,"COMPANY_MOD.PAY")),d.xp6(4),d.hij("",d.xi3(45,45,i.price*(1-o.discount)*o.timeRenew.value,"1.0")," "),d.xp6(2),d.hij(" ",d.lcZ(47,48,"CURRENCY_S")," "),d.xp6(4),d.hij(" ",d.lcZ(51,50,"OPTION.CANCEL"),""),d.xp6(2),d.Q6J("disabled",o.timeRenew.invalid),d.xp6(1),d.hij(" ",d.lcZ(54,52,"COMPANY_MOD.RENEW"),"")}}function U(e,t){if(1&e&&(d.TgZ(0,"ion-card",14),d.TgZ(1,"ion-card-header"),d.TgZ(2,"ion-card-subtitle"),d._uU(3),d.ALo(4,"translate"),d.qZA(),d.TgZ(5,"ion-card-title"),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"ion-card-content"),d.TgZ(8,"ion-list",12),d.TgZ(9,"ion-item",13),d.TgZ(10,"ion-label"),d._uU(11),d.ALo(12,"translate"),d.qZA(),d.TgZ(13,"span",3),d._uU(14),d.qZA(),d.qZA(),d.TgZ(15,"ion-item",13),d.TgZ(16,"ion-label"),d._uU(17),d.ALo(18,"translate"),d.qZA(),d.TgZ(19,"span",3),d._uU(20),d.qZA(),d.qZA(),d.TgZ(21,"ion-item",13),d.TgZ(22,"ion-label"),d._uU(23),d.ALo(24,"translate"),d.qZA(),d.TgZ(25,"span",3),d._uU(26),d.qZA(),d.qZA(),d.qZA(),d.YNc(27,b,3,2,"div",15),d.YNc(28,P,55,54,"ion-list",16),d.qZA(),d.qZA()),2&e){var n=t.$implicit,i=d.oxw();d.xp6(3),d.Oqu(d.lcZ(4,12,"COMPANY_MOD.USING")),d.xp6(3),d.Oqu(n.name),d.xp6(5),d.Oqu(d.lcZ(12,14,"COMPANY_MOD.FARM")),d.xp6(3),d.AsE("",n.current.used.farm_quantity,"/",n.farm_quantity,""),d.xp6(3),d.Oqu(d.lcZ(18,16,"COMPANY_MOD.POND")),d.xp6(3),d.AsE("",n.current.used.pond_quantity,"/",n.pond_quantity,""),d.xp6(3),d.Oqu(d.lcZ(24,18,"COMPANY_MOD.DAYS_LEFT")),d.xp6(3),d.Oqu(n.current.days_end),d.xp6(1),d.Q6J("ngIf",!i.waitingOrder&&!i.renewalShow),d.xp6(1),d.Q6J("ngIf",i.renewalShow)}}function Y(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",17),d.TgZ(1,"ion-button",21),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().index;return d.oxw().showUprage(e)}),d._uU(2),d.ALo(3,"translate"),d.qZA(),d.qZA()}2&e&&(d.xp6(2),d.Oqu(d.lcZ(3,1,"COMPANY_MOD.UPGRADE")))}function S(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-list",12),d.TgZ(1,"ion-list-header"),d.TgZ(2,"ion-label"),d._uU(3),d.ALo(4,"translate"),d.qZA(),d.qZA(),d.TgZ(5,"ion-item"),d.TgZ(6,"ion-label"),d._uU(7),d.ALo(8,"translate"),d.qZA(),d.TgZ(9,"ion-select",22),d.TgZ(10,"ion-select-option",23),d._uU(11),d.ALo(12,"translate"),d.qZA(),d.TgZ(13,"ion-select-option",24),d._uU(14),d.ALo(15,"translate"),d.qZA(),d.TgZ(16,"ion-select-option",25),d._uU(17),d.ALo(18,"translate"),d.qZA(),d.TgZ(19,"ion-select-option",26),d._uU(20),d.ALo(21,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"ion-item"),d.TgZ(23,"ion-label"),d._uU(24),d.ALo(25,"translate"),d.qZA(),d.TgZ(26,"span",3),d._uU(27),d.ALo(28,"number"),d.ALo(29,"translate"),d.qZA(),d.qZA(),d.TgZ(30,"ion-item"),d.TgZ(31,"ion-label"),d._uU(32),d.ALo(33,"translate"),d.qZA(),d.TgZ(34,"span",3),d.TgZ(35,"ion-text",27),d._uU(36),d.ALo(37,"number"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(38,"ion-item"),d.TgZ(39,"ion-label"),d._uU(40),d.ALo(41,"translate"),d.qZA(),d.TgZ(42,"span",3),d._uU(43),d.ALo(44,"number"),d.ALo(45,"translate"),d.qZA(),d.qZA(),d.TgZ(46,"ion-item"),d.TgZ(47,"ion-label"),d._uU(48),d.ALo(49,"translate"),d.qZA(),d.TgZ(50,"span",3),d.TgZ(51,"ion-text",28),d._uU(52),d.ALo(53,"number"),d.qZA(),d._uU(54),d.ALo(55,"translate"),d.qZA(),d.qZA(),d.TgZ(56,"ion-item"),d.TgZ(57,"ion-button",29),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().index;return d.oxw().uprageShow[e]=!1}),d._uU(58),d.ALo(59,"translate"),d.qZA(),d.TgZ(60,"ion-button",30),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw().upgradePackage(e)}),d._uU(61),d.ALo(62,"translate"),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=d.oxw().$implicit,o=d.oxw();d.xp6(3),d.Oqu(d.lcZ(4,22,"COMPANY_MOD.UPGRADE")),d.xp6(4),d.Oqu(d.lcZ(8,24,"COMPANY_MOD.QUANTITY")),d.xp6(2),d.Q6J("placeholder",o.translate.instant("COMPANY_MOD.SELECT"))("formControl",o.timeUprage),d.xp6(2),d.hij("1 ",d.lcZ(12,26,"COMPANY_MOD.YEAR"),""),d.xp6(3),d.hij("2 ",d.lcZ(15,28,"COMPANY_MOD.YEARS"),""),d.xp6(3),d.hij("3 ",d.lcZ(18,30,"COMPANY_MOD.YEARS"),""),d.xp6(3),d.hij("5 ",d.lcZ(21,32,"COMPANY_MOD.YEARS"),""),d.xp6(4),d.Oqu(d.lcZ(25,34,"COMPANY_MOD.PRICE")),d.xp6(3),d.AsE("",d.xi3(28,36,i.price,"1.0")," ",d.lcZ(29,39,"CURRENCY_S"),""),d.xp6(5),d.Oqu(d.lcZ(33,41,"COMPANY_MOD.SALE")),d.xp6(4),d.hij("",d.xi3(37,43,100*o.discount,"1.0"),"%"),d.xp6(4),d.Oqu(d.lcZ(41,46,"COMPANY_MOD.PRICE_LEFT")),d.xp6(3),d.AsE("",d.xi3(44,48,i.moneyleft,"1.0")," ",d.lcZ(45,51,"CURRENCY_S"),""),d.xp6(5),d.Oqu(d.lcZ(49,53,"COMPANY_MOD.HAVE_TO_PAY")),d.xp6(4),d.Oqu(d.xi3(53,55,i.price*(1-o.discount)*o.timeUprage.value-i.moneyleft,"1.0")),d.xp6(2),d.hij(" ",d.lcZ(55,58,"CURRENCY_S")," "),d.xp6(4),d.hij(" ",d.lcZ(59,60,"OPTION.CANCEL"),""),d.xp6(2),d.Q6J("disabled",o.timeUprage.invalid),d.xp6(1),d.Oqu(d.lcZ(62,62,"COMPANY_MOD.UPGRADE"))}}function k(e,t){if(1&e&&(d.TgZ(0,"ion-card",31),d.TgZ(1,"ion-card-header"),d.TgZ(2,"ion-card-subtitle"),d._uU(3),d.ALo(4,"translate"),d.qZA(),d.TgZ(5,"ion-card-title"),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"ion-card-content"),d.TgZ(8,"ion-list",12),d.TgZ(9,"ion-item"),d.TgZ(10,"ion-label"),d._uU(11),d.ALo(12,"translate"),d.qZA(),d.TgZ(13,"span",3),d._uU(14),d.qZA(),d.qZA(),d.TgZ(15,"ion-item"),d.TgZ(16,"ion-label"),d._uU(17),d.ALo(18,"translate"),d.qZA(),d.TgZ(19,"span",3),d._uU(20),d.qZA(),d.qZA(),d.TgZ(21,"ion-item"),d.TgZ(22,"ion-label"),d._uU(23),d.ALo(24,"translate"),d.qZA(),d.TgZ(25,"span",3),d._uU(26),d.ALo(27,"number"),d.ALo(28,"translate"),d.qZA(),d.qZA(),d.qZA(),d.YNc(29,Y,4,3,"div",15),d.YNc(30,S,63,64,"ion-list",16),d.qZA(),d.qZA()),2&e){var n=t.$implicit,i=t.index,o=d.oxw();d.xp6(3),d.Oqu(d.lcZ(4,11,"COMPANY_MOD.UPGRADE_SUGGEST")),d.xp6(3),d.Oqu(n.name),d.xp6(5),d.Oqu(d.lcZ(12,13,"COMPANY_MOD.FARM")),d.xp6(3),d.Oqu(n.farm_quantity),d.xp6(3),d.Oqu(d.lcZ(18,15,"COMPANY_MOD.POND")),d.xp6(3),d.Oqu(n.pond_quantity),d.xp6(3),d.Oqu(d.lcZ(24,17,"COMPANY_MOD.UNIT")),d.xp6(3),d.AsE("",d.xi3(27,19,n.price/12,".0-0")," ",d.lcZ(28,22,"CURRENCY_S"),""),d.xp6(3),d.Q6J("ngIf",!o.waitingOrder&&!o.uprageShow[i]),d.xp6(1),d.Q6J("ngIf",o.uprageShow[i])}}var D=function(){var t=function(){function t(n,i,o,r,s,c,l,p){var d=this;e(this,t),this.modalController=n,this.companyService=i,this.toastService=o,this.alertController=r,this.translate=s,this.packageService=c,this.iap2=l,this.platform=p,this.timeRenew=new a.NI("",a.kI.required),this.timeUprage=new a.NI("",a.kI.required),this.loadingFlag=new u.E,this.renewalShow=!1,this.uprageShow=[!1,!1,!1,!1,!1],this.defaultProductId=["packagebasic","packagestandard","packagepro"],this.maxYear=[0,0,0],this.periods=null,this.discount=0,this.total=0,this.productId="packagebasic",this.timeRenew.valueChanges.subscribe(function(e){d.selectPeriod(e)}),this.timeUprage.valueChanges.subscribe(function(e){d.selectPeriod(e)}),this.platform.ready().then(function(){d.setup()})}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.packageService.packageData?(this.packageList=this.packageService.packageData.package,this.currentOrders=this.packageService.packageData.currentOrder,this.waitingOrder=this.packageService.packageData.waitingOrder):this.companyService.loadPackages().subscribe(function(t){t.error||1!=t.status?e.toastService.warning(t.error):(e.packageService.packageData=t.data,e.packageList=t.data.package,e.currentOrders=t.data.currentOrder,e.waitingOrder=t.data.waitingOrder),e.loadingFlag.setResult(!0)},function(){e.loadingFlag.setResult(!1)}),this.getPackages()}},{key:"getPackages",value:function(){var e=this;this.companyService.getPackages().subscribe(function(t){!t.error&&1==t.status&&t.data&&(e.periods=t.data.periods)})}},{key:"showRenewal",value:function(){this.renewalShow=!0,this.uprageShow.fill(!1),this.selectPeriod(1)}},{key:"selectPeriod",value:function(e){var t=this.periods.findIndex(function(t){return t.quantity==e});t>=0&&(this.discount=this.periods[t].discount)}},{key:"renewPackage",value:function(){var e=this,t={action:"renew",order_id:this.currentOrders[0].current.id,company_id:this.companyService.company.id,package_no:this.currentOrders[0].id,new_package:this.currentOrders[0].id,period:this.timeRenew.value,platform:"android",orderId:""};t.period<=this.maxYear[t.order_id-1]&&0!=this.maxYear[t.order_id-1]?(console.log("inapp"),this.productId=this.defaultProductId[t.order_id-1]+(t.period>1?t.period.toString()+"years":""),this.platform.ready().then(function(){e.iap2.verbosity=e.iap2.DEBUG;var n=e.iap2.get(e.productId);console.log("Product Info: "+JSON.stringify(n)),e.registerHandlersForPurchase(e.productId),e.iap2.order(e.productId).then(function(n){n.orderId&&(t.orderId=n.orderId),e.companyService.renewPackage(t).subscribe(function(t){t.error||1!=t.status?e.toastService.warning(t.error):(e.toastService.success(t.message),e.renewalShow=!1),e.loadingFlag.setResult(!0)},function(t){e.loadingFlag.setResult(!1),e.toastService.danger(t)})}).catch(function(e){console.log("Error Ordering From Store"+e)})})):(this.loadingFlag.setPending(!0),this.companyService.renewPackage(t).subscribe(function(t){t.error||1!=t.status?e.toastService.warning(t.error):(e.toastService.success(t.message),e.renewalShow=!1),e.loadingFlag.setResult(!0)},function(t){e.loadingFlag.setResult(!1),e.toastService.danger(t)}))}},{key:"showUprage",value:function(e){this.uprageShow=this.uprageShow.map(function(e){return!1}),console.log(this.uprageShow),this.uprageShow[e]=!0,this.renewalShow=!1,this.selectPeriod(1)}},{key:"upgradePackage",value:function(e){var t=this,n={action:"upgrade",order_id:e.id,company_id:this.companyService.company.id,package_no:e.id,new_package:e.id,period:this.timeUprage.value,platform:"android",orderId:""};this.platform.is("ios")&&(n.platform="ios"),n.period<=this.maxYear[n.order_id-1]&&0!=this.maxYear[n.order_id-1]?(console.log("inapp"),this.productId=this.defaultProductId[n.order_id-1]+(n.period>1?n.period.toString()+"years":""),this.platform.ready().then(function(){t.iap2.verbosity=t.iap2.DEBUG;var e=t.iap2.get(t.productId);console.log("Product Info: "+JSON.stringify(e)),t.registerHandlersForPurchase(t.productId),t.iap2.order(t.productId).then(function(e){e.orderId&&(n.orderId=e.orderId),t.companyService.upgradePackage(n).subscribe(function(e){e.error||1!=e.status?t.toastService.warning(e.error):(t.toastService.success(e.message),t.uprageShow.fill(!1)),t.loadingFlag.setResult(!0)},function(e){t.loadingFlag.setResult(!1),t.toastService.danger(e)})}).catch(function(e){console.log("Error Ordering From Store"+e)})})):(this.loadingFlag.setPending(!0),this.companyService.upgradePackage(n).subscribe(function(e){e.error||1!=e.status?t.toastService.warning(e.error):(t.toastService.success(e.message),t.uprageShow.fill(!1)),t.loadingFlag.setResult(!0)},function(e){t.loadingFlag.setResult(!1),t.toastService.danger(e)}))}},{key:"presentInputCode",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:x});case 2:return(t=e.sent).onDidDismiss().then(function(e){console.log(e),e.data&&n.toastService.danger(n.translate.instant("COMPANY_MOD.UPGRADE_SUCCESS_NOTE"))}),e.next=6,t.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))}},{key:"setup",value:function(){this.iap2.verbosity=this.iap2.DEBUG;var e=this;this.defaultProductId.forEach(function(t,n){for(var i=1;i<=e.maxYear[n];i++)if(4!=i){var o=t+(i>1?i+"years":"");console.log(o),e.iap2.register({id:o,type:e.iap2.NON_RENEWING_SUBSCRIPTION}),e.registerHandlersForPurchase(o)}}),this.iap2.refresh()}},{key:"checkout",value:function(e){try{var t=this.iap2.get(e);console.log("Product Info: "+JSON.stringify(t)),this.iap2.order(e).then(function(e){console.log("Purchase Succesful"+JSON.stringify(e))}).catch(function(e){console.log("Error Ordering From Store"+e)})}catch(t){console.log("Error Ordering "+JSON.stringify(t))}}},{key:"registerHandlersForPurchase",value:function(e){var t=this.iap2;this.iap2.when(e).updated(function(e){e.loaded&&e.valid&&e.state===t.APPROVED&&null!=e.transaction&&e.finish()}),this.iap2.when(e).registered(function(e){console.log(" owned 1 ".concat(e.owned))}),this.iap2.when(e).owned(function(e){console.log(" owned 2 ".concat(e.owned)),e.finish()}),this.iap2.when(e).approved(function(e){console.log("approved"),e.finish()}),this.iap2.when(e).refunded(function(e){console.log("refunded")}),this.iap2.when(e).expired(function(e){console.log("expired")})}},{key:"ionViewDidEnter",value:function(){}},{key:"test",value:function(){this.checkout("packagebasic")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(c.IN),d.Y36(p.J),d.Y36(g.k),d.Y36(c.Br),d.Y36(Z.sK),d.Y36(_.M),d.Y36(M.g),d.Y36(c.t4))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-company-package"]],decls:21,vars:13,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slot","end"],["color","primary",3,"click"],["color","tertiary","mode","ios",4,"ngIf"],["color","light","mode","ios",4,"ngFor","ngForOf"],["mode","ios",4,"ngFor","ngForOf"],[1,"ion-text-center","ion-margin-bottom"],["fill","outline","size","large","routerLink","setting/help",3,"routerDirection","click"],["name","help-circle-outline","slot","start"],["color","tertiary","mode","ios"],["lines","none"],["color","none"],["color","light","mode","ios"],["class","ion-text-center",4,"ngIf"],["lines","none",4,"ngIf"],[1,"ion-text-center"],["disabled","true","shape","round",4,"ngIf"],["shape","round",3,"click",4,"ngIf"],["disabled","true","shape","round"],["shape","round",3,"click"],[3,"placeholder","formControl"],["value","1"],["value","2"],["value","3"],["value","5"],["color","success"],["color","danger"],["size","default","slot","start","shape","round","fill","clear",3,"click"],["size","default","slot","end","shape","round",3,"disabled","click"],["mode","ios"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d.TgZ(3,"ion-button",1),d.NdJ("click",function(){return t.modalController.dismiss()}),d._UZ(4,"ion-icon",2),d.qZA(),d.qZA(),d.TgZ(5,"ion-title"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.TgZ(8,"ion-buttons",3),d.TgZ(9,"ion-button",4),d.NdJ("click",function(){return t.presentInputCode()}),d._uU(10),d.ALo(11,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(12,"ion-content"),d.YNc(13,N,29,21,"ion-card",5),d.YNc(14,U,29,20,"ion-card",6),d.YNc(15,k,31,24,"ion-card",7),d.TgZ(16,"div",8),d.TgZ(17,"ion-button",9),d.NdJ("click",function(){return t.modalController.dismiss()}),d._UZ(18,"ion-icon",10),d._uU(19),d.ALo(20,"translate"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(6),d.Oqu(d.lcZ(7,7,"COMPANY_MOD.PACKAGE")),d.xp6(4),d.Oqu(d.lcZ(11,9,"COMPANY_MOD.PACKAGE_CODE")),d.xp6(3),d.Q6J("ngIf",t.waitingOrder),d.xp6(1),d.Q6J("ngForOf",t.currentOrders),d.xp6(1),d.Q6J("ngForOf",t.packageList),d.xp6(2),d.Q6J("routerDirection","tabs"),d.xp6(2),d.hij(" ",d.lcZ(20,11,"SUPPORT")," "))},directives:[c.Gu,c.sr,c.Sm,c.YG,c.gu,c.wd,c.W2,r.O5,r.sg,c.YI,s.rH,c.PM,c.Zi,c.tO,c.gZ,c.FN,c.q_,c.Ie,c.Q$,c.yh,c.t9,c.QI,a.JJ,a.oH,c.n0,c.yW],pipes:[Z.X$,r.uU,r.JJ],styles:["[_nghost-%COMP%]   ion-list[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]{background:transparent!important;transition:0!important}"]}),t}(),w=o(71239),E=function(){var t=function(){function t(n,i,o,r,a,s,c){e(this,t),this.modalController=n,this.navParams=i,this.companyService=o,this.toastService=r,this.alertController=a,this.translate=s,this.dbLocalService=c,this.loadingFlag=new u.E}return n(t,[{key:"ngOnInit",value:function(){this.editCompany=new a.cw({name:new a.NI(this.companyService.company.name,[a.kI.required,a.kI.minLength(3)]),address:new a.NI(this.companyService.company.address,a.kI.required),fullname:new a.NI(this.companyService.company.fullname,a.kI.required),phone:new a.NI(this.companyService.company.phone,a.kI.required),email:new a.NI(this.companyService.company.email,a.kI.required),website:new a.NI(this.companyService.company.website)})}},{key:"update",value:function(){var e=this;this.editCompany.value.website&&this.editCompany.value.website.length>0&&!this.editCompany.value.website.includes("http")&&this.editCompany.patchValue({website:"http://"+this.editCompany.value.website}),this.companyService.updateInforCompany(this.editCompany.value).pipe().subscribe(function(t){0==t.status?e.toastService.warning(t.error):(e.toastService.success(e.translate.instant("COMPANY_MOD.NOTI_EDIT")),e.companyService.company.name=e.editCompany.value.name,e.companyService.company.address=e.editCompany.value.address,e.companyService.company.fullname=e.editCompany.value.fullname,e.companyService.company.phone=e.editCompany.value.phone,e.companyService.company.email=e.editCompany.value.email,e.companyService.company.website=e.editCompany.value.website,e.dbLocalService.company=e.companyService.company,e.dbLocalService.setLocalData("company",e.dbLocalService.company),e.modalController.dismiss())},function(t){e.toastService.danger(e.translate.instant("ERROR_CONNECT"))})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(c.IN),d.Y36(c.X1),d.Y36(p.J),d.Y36(g.k),d.Y36(c.Br),d.Y36(Z.sK),d.Y36(w.T))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-company-edit"]],decls:43,vars:20,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slot","end"],["color","primary",3,"disabled","click"],[3,"formGroup"],["lines","inset"],["position","floating"],["formControlName","name"],["placeholder","T\xean \u0111\u1ea7y \u0111\u1ee7","formControlName","fullname"],["placeholder","\u0110\u1ecba ch\u1ec9","formControlName","address"],["placeholder","\u0110i\u1ec7n tho\u1ea1i","formControlName","phone"],["placeholder","Email","formControlName","email"],["placeholder","Website","formControlName","website"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d.TgZ(3,"ion-button",1),d.NdJ("click",function(){return t.modalController.dismiss(!1)}),d._UZ(4,"ion-icon",2),d.qZA(),d.qZA(),d.TgZ(5,"ion-title"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.TgZ(8,"ion-buttons",3),d.TgZ(9,"ion-button",4),d.NdJ("click",function(){return t.update()}),d._uU(10),d.ALo(11,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(12,"ion-content"),d.TgZ(13,"form",5),d.TgZ(14,"ion-list"),d.TgZ(15,"ion-item",6),d.TgZ(16,"ion-label",7),d._uU(17),d.ALo(18,"translate"),d.qZA(),d._UZ(19,"ion-input",8),d.qZA(),d.TgZ(20,"ion-item",6),d.TgZ(21,"ion-label",7),d._uU(22),d.ALo(23,"translate"),d.qZA(),d._UZ(24,"ion-input",9),d.qZA(),d.TgZ(25,"ion-item",6),d.TgZ(26,"ion-label",7),d._uU(27),d.ALo(28,"translate"),d.qZA(),d._UZ(29,"ion-input",10),d.qZA(),d.TgZ(30,"ion-item",6),d.TgZ(31,"ion-label",7),d._uU(32),d.ALo(33,"translate"),d.qZA(),d._UZ(34,"ion-input",11),d.qZA(),d.TgZ(35,"ion-item",6),d.TgZ(36,"ion-label",7),d._uU(37,"Email"),d.qZA(),d._UZ(38,"ion-input",12),d.qZA(),d.TgZ(39,"ion-item",6),d.TgZ(40,"ion-label",7),d._uU(41,"Website"),d.qZA(),d._UZ(42,"ion-input",13),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(6),d.Oqu(d.lcZ(7,8,"COMPANY_MOD.EDIT")),d.xp6(3),d.Q6J("disabled",t.editCompany.invalid),d.xp6(1),d.Oqu(d.lcZ(11,10,"COMPANY_MOD.SAVE")),d.xp6(3),d.Q6J("formGroup",t.editCompany),d.xp6(4),d.Oqu(d.lcZ(18,12,"COMPANY_MOD.NAME")),d.xp6(5),d.Oqu(d.lcZ(23,14,"COMPANY_MOD.FULL_NAME")),d.xp6(5),d.Oqu(d.lcZ(28,16,"COMPANY_MOD.ADDRESS")),d.xp6(5),d.Oqu(d.lcZ(33,18,"COMPANY_MOD.PHONE")))},directives:[c.Gu,c.sr,c.Sm,c.YG,c.gu,c.wd,c.W2,a._Y,a.JL,a.sg,c.q_,c.Ie,c.Q$,c.pK,c.j9,a.JJ,a.u],pipes:[Z.X$],styles:[""]}),t}(),L=o(3356),R=o(23211);function I(e,t){if(1&e&&(d.TgZ(0,"p"),d._uU(1),d.ALo(2,"translate"),d.ALo(3,"translate"),d.ALo(4,"translate"),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.xDo("",d.lcZ(2,5,"COMPANY_MOD.PACKAGE")," ",n.curentPackage.name,", ",d.lcZ(3,7,"COMPANY_MOD.REMAINING")," ",n.curentPackage.current.days_end," ",d.lcZ(4,9,"COMPANY_MOD.DAY"),"")}}function F(e,t){1&e&&d._UZ(0,"ion-spinner",19)}var J=function(){var t=function(){function t(n,i,o,r,a,s,c,l,p){e(this,t),this.modalController=n,this.router=i,this.companyService=o,this.toastService=r,this.translate=a,this.tutorialService=s,this.packageService=c,this.alertController=l,this.route=p,this.loadingFlag=new u.E,this.settingChanged=!1}return n(t,[{key:"ngOnInit",value:function(){this.loadPackages(),this.tutorialService.setStepIndex("company-info",0),this.tutorialService.show("company-info"),this.packageService.check(this.companyService.ccode,"company")}},{key:"gotoProcedure",value:function(){this.modalController.dismiss(),this.router.navigateByUrl("company/"+this.companyService.ccode+"/procedure")}},{key:"presentPackage",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:D});case 2:return e.next=4,e.sent.present();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))}},{key:"presentEdit",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:E});case 2:return e.next=4,e.sent.present();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))}},{key:"presentFarmCreate",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.packageService.localCheck(this.companyService.ccode,"farm_quantity")){e.next=2;break}return e.abrupt("return",void this.presentAlertPackage());case 2:return e.next=4,this.modalController.create({component:L.v});case 4:return(t=e.sent).onDidDismiss().then(function(e){e.data&&(console.log(e.data),n.settingChanged=!0)}),e.next=8,t.present();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e,this)}))}},{key:"loadPackages",value:function(){var e=this;this.loadingFlag.setStart(!0),this.companyService.loadPackages().subscribe(function(t){t.error||1!=t.status?e.toastService.warning(t.error):(e.packageService.packageData=t.data,t.data.currentOrder&&(e.curentPackage=t.data.currentOrder[0])),e.loadingFlag.setResult(!0)},function(){e.loadingFlag.setResult(!1)})}},{key:"presentAlertPackage",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.packageService.checkIsOwner()){e.next=6;break}return e.next=3,this.alertController.create({header:this.translate.instant("COMPANY_MOD.UPGRADE"),message:this.translate.instant("COMPANY_MOD.YOU_NEED_UPGRADE_TO CREATE"),buttons:[{text:this.translate.instant("CANCEL"),role:"cancel",cssClass:"secondary"},{text:this.translate.instant("OKAY"),handler:function(){n.packageService.goToUpgrade()}}]});case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,this.alertController.create({header:this.translate.instant("COMPANY_MOD.UPGRADE"),message:this.translate.instant("COMPANY_MOD.YOU_NEED_UPGRADE_TO CREATE"),buttons:[{text:this.translate.instant("CANCEL"),role:"cancel",cssClass:"secondary"}]});case 8:e.t0=e.sent;case 9:return t=e.t0,e.next=12,t.present();case 12:case"end":return e.stop()}},e,this)}))}},{key:"ionViewWillEnter",value:function(){var e=this.route.snapshot.paramMap.get("act");console.log(e),"package"===e&&this.presentPackage()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(c.IN),d.Y36(s.F0),d.Y36(p.J),d.Y36(g.k),d.Y36(Z.sK),d.Y36(R.M),d.Y36(_.M),d.Y36(c.Br),d.Y36(s.gz))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-company-info"]],decls:80,vars:36,consts:[["slot","start"],["text","","defaultHref","tabs/management"],[1,"ion-padding","ion-text-center"],["src","assets/icon/build.svg","slot","start"],["name","pin-outline","slot","start"],["name","call-outline","slot","start"],["name","mail-outline","slot","start"],["name","globe-outline","slot","start"],["detail","",3,"click"],["name","basket-outline","slot","start"],[4,"ngIf"],["name","dots",4,"ngIf"],["mode","ios"],["name","options"],["id","company-info0","size","large","expand","block","shape","round","fill","outline",3,"click"],["src","assets/icon/procedure.svg","slot","start"],["size","large","expand","block","shape","round","fill","outline",3,"click"],["name","create-outline","slot","start"],["name","add-circle-outline","slot","start"],["name","dots"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d._UZ(3,"ion-back-button",1),d.qZA(),d.TgZ(4,"ion-title"),d._uU(5),d.ALo(6,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"ion-content"),d.TgZ(8,"div",2),d.TgZ(9,"h1"),d._uU(10),d.qZA(),d.TgZ(11,"span"),d._uU(12),d.qZA(),d.qZA(),d.TgZ(13,"ion-list"),d.TgZ(14,"ion-item"),d._UZ(15,"ion-icon",3),d.TgZ(16,"ion-label"),d.TgZ(17,"h3"),d._uU(18),d.ALo(19,"translate"),d.qZA(),d.TgZ(20,"p"),d._uU(21),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"ion-item"),d._UZ(23,"ion-icon",4),d.TgZ(24,"ion-label"),d.TgZ(25,"h3"),d._uU(26),d.ALo(27,"translate"),d.qZA(),d.TgZ(28,"p"),d._uU(29),d.qZA(),d.qZA(),d.qZA(),d.TgZ(30,"ion-item"),d._UZ(31,"ion-icon",5),d.TgZ(32,"ion-label"),d.TgZ(33,"h3"),d._uU(34),d.ALo(35,"translate"),d.qZA(),d.TgZ(36,"p"),d._uU(37),d.qZA(),d.qZA(),d.qZA(),d.TgZ(38,"ion-item"),d._UZ(39,"ion-icon",6),d.TgZ(40,"ion-label"),d.TgZ(41,"h3"),d._uU(42,"Email"),d.qZA(),d.TgZ(43,"p"),d._uU(44),d.qZA(),d.qZA(),d.qZA(),d.TgZ(45,"ion-item"),d._UZ(46,"ion-icon",7),d.TgZ(47,"ion-label"),d.TgZ(48,"h3"),d._uU(49,"Website"),d.qZA(),d.TgZ(50,"p"),d._uU(51),d.qZA(),d.qZA(),d.qZA(),d.TgZ(52,"ion-item",8),d.NdJ("click",function(){return t.presentPackage()}),d._UZ(53,"ion-icon",9),d.TgZ(54,"ion-label"),d.TgZ(55,"h3"),d._uU(56),d.ALo(57,"translate"),d.qZA(),d.YNc(58,I,5,11,"p",10),d.YNc(59,F,1,0,"ion-spinner",11),d.qZA(),d.qZA(),d.qZA(),d.TgZ(60,"div"),d.TgZ(61,"ion-card",12),d.TgZ(62,"ion-card-header"),d.TgZ(63,"ion-card-subtitle"),d._UZ(64,"ion-icon",13),d._uU(65),d.ALo(66,"translate"),d.qZA(),d.qZA(),d.TgZ(67,"ion-card-content"),d.TgZ(68,"ion-button",14),d.NdJ("click",function(){return t.gotoProcedure()}),d._UZ(69,"ion-icon",15),d._uU(70),d.ALo(71,"translate"),d.qZA(),d.TgZ(72,"ion-button",16),d.NdJ("click",function(){return t.presentEdit()}),d._UZ(73,"ion-icon",17),d._uU(74),d.ALo(75,"translate"),d.qZA(),d.TgZ(76,"ion-button",16),d.NdJ("click",function(){return t.presentFarmCreate()}),d._UZ(77,"ion-icon",18),d._uU(78),d.ALo(79,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(5),d.Oqu(d.lcZ(6,18,"COMPANY_MOD.INFORMATION")),d.xp6(5),d.Oqu(t.companyService.company.name),d.xp6(2),d.hij("#",t.companyService.company.code,""),d.xp6(6),d.Oqu(d.lcZ(19,20,"COMPANY_MOD.FULL_NAME")),d.xp6(3),d.Oqu(t.companyService.company.fullname),d.xp6(5),d.Oqu(d.lcZ(27,22,"COMPANY_MOD.ADDRESS")),d.xp6(3),d.Oqu(t.companyService.company.address),d.xp6(5),d.Oqu(d.lcZ(35,24,"COMPANY_MOD.PHONE")),d.xp6(3),d.Oqu(t.companyService.company.phone),d.xp6(7),d.Oqu(t.companyService.company.email),d.xp6(7),d.Oqu(t.companyService.company.website),d.xp6(5),d.Oqu(d.lcZ(57,26,"COMPANY_MOD.ACCOUNT_PLAN")),d.xp6(2),d.Q6J("ngIf",t.curentPackage),d.xp6(1),d.Q6J("ngIf",t.loadingFlag.pending),d.xp6(6),d.hij(" ",d.lcZ(66,28,"COMPANY_MOD.SETTING_FO")," "),d.xp6(5),d.hij(" ",d.lcZ(71,30,"COMPANY_MOD.PROCEDURE")," "),d.xp6(4),d.hij(" ",d.lcZ(75,32,"COMPANY_MOD.EDIT_INFOMATION")," "),d.xp6(4),d.hij(" ",d.lcZ(79,34,"COMPANY_MOD.CREATE_FARM")," "))},directives:[c.Gu,c.sr,c.Sm,c.oU,c.cs,c.wd,c.W2,c.q_,c.Ie,c.gu,c.Q$,r.O5,c.PM,c.Zi,c.tO,c.FN,c.YG,c.PQ],pipes:[Z.X$],styles:[""]}),t}(),j=o(16738),Q=o(50384),G=o(55019);function H(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-item",8),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw().seenNoti(e)}),d.TgZ(1,"ion-label",9),d.TgZ(2,"h4"),d._uU(3),d.qZA(),d.TgZ(4,"p"),d._uU(5),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit;d.Q6J("routerLink",i.link),d.xp6(3),d.hij(" ",i.time," "),d.xp6(2),d.Oqu(i.content)}}function $(e,t){1&e&&(d.TgZ(0,"ion-item"),d.TgZ(1,"ion-label"),d.TgZ(2,"p"),d._uU(3),d.ALo(4,"translate"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Oqu(d.lcZ(4,1,"NOTIFICATIONS_MOD.EMPTY")))}var W=function(){var t=function(){function t(n,i,o,r,a){e(this,t),this.modalController=n,this.toastService=i,this.fcmService=o,this.authService=r,this.translateService=a,this.listHistory=[],this.page=0}return n(t,[{key:"ngOnInit",value:function(){this.getList()}},{key:"getList",value:function(){var e=this,t={list_farm:JSON.stringify(this.list_farm),list_farm_id:JSON.stringify(this.list_farm_id)};this.fcmService.listAll(this.page,t).subscribe(function(t){1==t.status?t.data.list.forEach(function(t){t.time=j(new Date(1e3*t.add_time),"YYYYMMDD").fromNow(),t.link=e.filterLink(t.mod_name,t.item_code),t.content=t.content.replaceAll(e.authService.user.username,e.translateService.instant("YOU")),e.listHistory.push(t)}):e.toastService.warning(t.error)})}},{key:"seenNoti",value:function(e){var t=this;this.modalController.dismiss({redirect:!0}),this.fcmService.seen(e.mod_name,e.id).subscribe(function(e){1==e.status?(console.log("seen"),t.fcmService.reload.next(!0)):console.log("no seen")}),this.modalController.dismiss()}},{key:"filterLink",value:function(e,t){switch(e){case"farm":return"/farm/"+t+"/pond";case"pond":return"/pond/"+t;case"store_farm":return"/store/"+t;case"money":return"/money/"+t;default:return"/home"}}},{key:"loadData",value:function(e){this.page+=1,this.getList(),setTimeout(function(){console.log("Done"),e.target.complete()},500)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(c.IN),d.Y36(g.k),d.Y36(G.E),d.Y36(Q.e),d.Y36(Z.sK))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-company-history"]],inputs:{list_farm_id:"list_farm_id",list_farm:"list_farm"},decls:14,vars:5,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["lines","none"],[3,"routerLink","click",4,"ngFor","ngForOf"],[4,"ngIf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","dots"],[3,"routerLink","click"],[1,"ion-text-wrap"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d.TgZ(3,"ion-button",1),d.NdJ("click",function(){return t.modalController.dismiss(!1)}),d._UZ(4,"ion-icon",2),d.qZA(),d.qZA(),d.TgZ(5,"ion-title"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"ion-content"),d.TgZ(9,"ion-list",3),d.YNc(10,H,6,3,"ion-item",4),d.YNc(11,$,5,3,"ion-item",5),d.qZA(),d.TgZ(12,"ion-infinite-scroll",6),d.NdJ("ionInfinite",function(e){return t.loadData(e)}),d._UZ(13,"ion-infinite-scroll-content",7),d.qZA(),d.qZA()),2&e&&(d.xp6(6),d.Oqu(d.lcZ(7,3,"HISTORY")),d.xp6(4),d.Q6J("ngForOf",t.listHistory),d.xp6(1),d.Q6J("ngIf",0==t.listHistory.length))},directives:[c.Gu,c.sr,c.Sm,c.YG,c.gu,c.wd,c.W2,c.q_,r.sg,r.O5,c.ju,c.MB,c.Ie,c.YI,s.rH,c.Q$],pipes:[Z.X$],styles:[""]}),t}(),B=o(56209),K=o(18409);function X(e,t){1&e&&(d.TgZ(0,"div",13),d._UZ(1,"ion-spinner",14),d.qZA())}function z(e,t){if(1&e&&d._UZ(0,"div",24),2&e){var n=d.oxw().$implicit,i=d.oxw(2);d.Q6J("options",i.initOptions(n.pond))}}function V(e,t){if(1&e&&(d.TgZ(0,"ion-col",16),d.TgZ(1,"ion-card",17),d.TgZ(2,"ion-item",18),d._UZ(3,"ion-icon",19),d.TgZ(4,"ion-label"),d.TgZ(5,"p"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.TgZ(8,"h3"),d._uU(9),d.qZA(),d.qZA(),d.qZA(),d.YNc(10,z,1,1,"div",20),d.TgZ(11,"ion-list",21),d.TgZ(12,"ion-list-header"),d.TgZ(13,"ion-label"),d._uU(14),d.ALo(15,"translate"),d.qZA(),d.qZA(),d.TgZ(16,"ion-item"),d.TgZ(17,"ion-label"),d._uU(18),d.ALo(19,"translate"),d.qZA(),d.TgZ(20,"span",2),d.TgZ(21,"span"),d._uU(22),d.ALo(23,"countNumerPipe"),d.ALo(24,"translate"),d.qZA(),d._uU(25),d.ALo(26,"translate"),d.qZA(),d.qZA(),d.TgZ(27,"ion-item"),d.TgZ(28,"ion-label"),d._uU(29),d.ALo(30,"translate"),d.qZA(),d.TgZ(31,"span",2),d.TgZ(32,"ion-text",22),d.TgZ(33,"span"),d._uU(34),d.ALo(35,"countNumerPipe"),d.ALo(36,"translate"),d.qZA(),d.qZA(),d._uU(37),d.ALo(38,"translate"),d.qZA(),d.qZA(),d.TgZ(39,"ion-item"),d.TgZ(40,"ion-label"),d._uU(41),d.ALo(42,"translate"),d.qZA(),d.TgZ(43,"span",2),d.TgZ(44,"ion-text",23),d.TgZ(45,"span"),d._uU(46),d.ALo(47,"countNumerPipe"),d.ALo(48,"translate"),d.qZA(),d.qZA(),d._uU(49),d.ALo(50,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var n=t.$implicit,i=d.oxw(2);d.xp6(2),d.MGl("routerLink","/farm/",n.code,""),d.xp6(4),d.Oqu(d.lcZ(7,16,"COMPANY_MOD.FARM")),d.xp6(3),d.Oqu(n.name),d.xp6(1),d.Q6J("ngIf",i.view),d.xp6(1),d.MGl("routerLink","/farm/",n.code,""),d.xp6(3),d.Oqu(d.lcZ(15,18,"COMPANY_MOD.MONEY")),d.xp6(4),d.Oqu(d.lcZ(19,20,"COMPANY_MOD.MONEY_IN")),d.xp6(4),d.Oqu(d.xi3(23,22,n.money_in,d.lcZ(24,25,"FORMAT_COUNTER_KMB"))),d.xp6(3),d.hij(" ",d.lcZ(26,27,"CURRENCY_S")," "),d.xp6(4),d.Oqu(d.lcZ(30,29,"COMPANY_MOD.MONEY_OUT")),d.xp6(5),d.Oqu(d.xi3(35,31,n.money_out,d.lcZ(36,34,"FORMAT_COUNTER_KMB"))),d.xp6(3),d.hij(" ",d.lcZ(38,36,"CURRENCY_S")," "),d.xp6(4),d.hij(" ",d.lcZ(42,38,"COMPANY_MOD.PROFIT"),""),d.xp6(3),d.Q6J("color",n.money_profit>=0?"success":"danger"),d.xp6(2),d.Oqu(d.xi3(47,40,n.money_profit,d.lcZ(48,43,"FORMAT_COUNTER_KMB"))),d.xp6(3),d.hij(" ",d.lcZ(50,45,"CURRENCY_S")," ")}}function ee(e,t){if(1&e&&(d.TgZ(0,"ion-row"),d.YNc(1,V,51,47,"ion-col",15),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Q6J("ngForOf",n.companyService.listFarm)}}function te(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"ion-card",17),d.TgZ(2,"ion-card-content",25),d.TgZ(3,"p",26),d._uU(4),d.ALo(5,"translate"),d.qZA(),d.TgZ(6,"ion-button",27),d.NdJ("click",function(){return d.CHM(n),d.oxw().presentFarmCreate()}),d._uU(7),d.ALo(8,"translate"),d.qZA(),d.TgZ(9,"p",26),d._uU(10),d.ALo(11,"translate"),d.qZA(),d.TgZ(12,"ion-button",28),d._uU(13),d.ALo(14,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}2&e&&(d.xp6(4),d.hij(" ",d.lcZ(5,4,"COMPANY_MOD.NO_FARM"),""),d.xp6(3),d.hij(" ",d.lcZ(8,6,"COMPANY_MOD.CREATE_FARM_SEQ")," "),d.xp6(3),d.Oqu(d.lcZ(11,8,"OR")),d.xp6(3),d.hij(" ",d.lcZ(14,10,"COMPANY_MOD.CREATE_FARM_AUTO")," "))}var ne=function(){var t=function(){function t(n,i,o,r,a,s,c,l,p){e(this,t),this.modalController=n,this.route=i,this.toastService=o,this.alertController=r,this.companyService=a,this.navcontroller=s,this.translate=c,this.tutorialService=l,this.dblocalService=p,this.loadingFlag=new u.E,this.view=!1}return n(t,[{key:"ngOnInit",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.companyService.setCode(this.route.snapshot.paramMap.get("id")),e.next=3,this.dblocalService.getLocalData();case 3:if(void 0!==this.dblocalService.company){e.next=8;break}return e.next=6,this.getManager();case 6:e.next=9;break;case 8:this.companyService.setCompany(this.dblocalService.company);case 9:this.getList();case 10:case"end":return e.stop()}},e,this)}))}},{key:"ionViewDidEnter",value:function(){var e=this;setTimeout(function(){e.view=!0},500)}},{key:"ionViewWillEnter",value:function(){console.log(this.tutorialService.popShow),this.tutorialService.popShow||this.tutorialService.show("company")}},{key:"presentReport",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:O});case 2:return e.next=4,e.sent.present();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))}},{key:"initOptions",value:function(e){return{tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:this.translate.instant("COMPANY_MOD.INFORMATION"),type:"pie",radius:"55%",data:[{value:e.warning,name:this.translate.instant("COMPANY_MOD.POND_WARNING")},{value:e.empty,name:this.translate.instant("COMPANY_MOD.POND_EMPTY")},{value:e.good,name:this.translate.instant("COMPANY_MOD.POND_GOOD")}]}]}}},{key:"addDataOptions",value:function(e){return{series:[{name:this.translate.instant("COMPANY_MOD.INFORMATION"),type:"pie",radius:"55%",data:[{value:e.warning,name:this.translate.instant("COMPANY_MOD.POND_WARNING")},{value:e.empty,name:this.translate.instant("COMPANY_MOD.POND_EMPTY")},{value:e.good,name:this.translate.instant("COMPANY_MOD.POND_GOOD")}]}]}}},{key:"getList",value:function(){var e=this;this.loadingFlag.setStart(!0),this.companyService.loadFarms().pipe().subscribe(function(t){0==t.status?e.toastService.warning(t.error):(e.companyService.listFarm=t.data,e.companyService.listFarm.length>0&&e.tutorialService.setStepIndex("company",3)),e.loadingFlag.setResult(!0),e.tutorialService.showNow("company")},function(t){e.toastService.danger(e.translate.instant("ERROR_CONNECT")),e.loadingFlag.setResult(!1)})}},{key:"getManager",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.companyService.loadCompany().toPromise().catch(function(){n.toastService.danger(n.translate.instant("ERROR_CONNECT"))});case 2:(t=e.sent)&&1==t.status?(this.companyService.setCompany(t.data),this.dblocalService.company=t.data,this.dblocalService.setLocalData("company",this.dblocalService.company)):this.toastService.warning(t.error);case 4:case"end":return e.stop()}},e,this)}))}},{key:"presentInformation",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:J});case 2:return e.next=4,e.sent.present();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))}},{key:"presentHistory",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],this.companyService.listFarm.forEach(function(e){t.push(e.id),n.push(e.code)}),e.next=4,this.modalController.create({component:W,componentProps:{list_farm:n,list_farm_id:t}});case 4:return e.next=6,e.sent.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))}},{key:"presentFarmCreate",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:L.v});case 2:return e.next=4,e.sent.present();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))}},{key:"doRefresh",value:function(e){var t=this;this.view=!1,this.companyService.listFarm=[],this.getManager(),this.getList(),setTimeout(function(){t.view=!0},500),e.target.complete()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(c.IN),d.Y36(s.gz),d.Y36(g.k),d.Y36(c.Br),d.Y36(p.J),d.Y36(c.SH),d.Y36(Z.sK),d.Y36(R.M),d.Y36(w.T))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-company"]],decls:25,vars:9,consts:[["slot","start"],["text","","defaultHref","tabs/management"],["slot","end"],[3,"click"],["name","time-outline","slot","icon-only"],["id","company0","routerLink","setting"],["name","cog-outline","slot","icon-only"],["slot","fixed",3,"ionRefresh"],["class","spiner-loading",4,"ngIf"],[4,"ngIf"],[1,"ion-padding-bottom"],["color","medium","expand","block","shape","round","fill","clear",3,"click"],["name","cog-outline","slot","start"],[1,"spiner-loading"],["name","dots"],["size","12","size-sm","6",4,"ngFor","ngForOf"],["size","12","size-sm","6"],["mode","ios"],["lines","none","detail","true","id","company3",3,"routerLink"],["src","/assets/icon/001-flooded-house.svg","size","large","slot","start"],["echarts","",3,"options",4,"ngIf"],["lines","none",3,"routerLink"],["color","danger"],[3,"color"],["echarts","",3,"options"],[1,"ion-text-center"],[1,"ion-padding"],["shape","round","color","primary","id","company1",3,"click"],["shape","round","fill","outline","color","primary","fill","outline","routerLink","quickstart","id","company2"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d._UZ(3,"ion-back-button",1),d.qZA(),d.TgZ(4,"ion-title"),d._uU(5),d.ALo(6,"translate"),d.qZA(),d.TgZ(7,"ion-buttons",2),d.TgZ(8,"ion-button",3),d.NdJ("click",function(){return t.presentHistory()}),d._UZ(9,"ion-icon",4),d.qZA(),d.TgZ(10,"ion-button",5),d._UZ(11,"ion-icon",6),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(12,"ion-content"),d.TgZ(13,"ion-refresher",7),d.NdJ("ionRefresh",function(e){return t.doRefresh(e)}),d._UZ(14,"ion-refresher-content"),d.qZA(),d.TgZ(15,"div"),d.YNc(16,X,2,0,"div",8),d.TgZ(17,"ion-grid"),d.YNc(18,ee,2,1,"ion-row",9),d.qZA(),d.YNc(19,te,15,12,"div",9),d.qZA(),d.TgZ(20,"div",10),d.TgZ(21,"ion-button",11),d.NdJ("click",function(){return t.presentInformation()}),d._UZ(22,"ion-icon",12),d._uU(23),d.ALo(24,"translate"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(5),d.Oqu(d.lcZ(6,5,"COMPANY_MOD.TITLE")),d.xp6(11),d.Q6J("ngIf",t.loadingFlag.pending),d.xp6(2),d.Q6J("ngIf",t.companyService.listFarm.length>0),d.xp6(1),d.Q6J("ngIf",0==t.companyService.listFarm.length&&t.loadingFlag.result),d.xp6(4),d.hij(" ",d.lcZ(24,7,"COMPANY_MOD.SETTING")," "))},directives:[c.Gu,c.sr,c.Sm,c.oU,c.cs,c.wd,c.YG,c.gu,c.YI,s.rH,c.W2,c.nJ,c.Wo,r.O5,c.jY,c.PQ,c.Nd,r.sg,c.wI,c.PM,c.Ie,c.Q$,c.q_,c.yh,c.yW,B._w,c.FN],pipes:[Z.X$,K.u],styles:[""]}),t}(),ie=o(10086);function oe(e,t){1&e&&(d.TgZ(0,"div",7),d._UZ(1,"ion-spinner",8),d.qZA())}function re(e,t){if(1&e&&(d.TgZ(0,"div"),d.TgZ(1,"ion-item",9),d.TgZ(2,"ion-label"),d._uU(3),d.qZA(),d.qZA(),d.TgZ(4,"ion-item",9),d.TgZ(5,"ion-label",10),d.TgZ(6,"ion-text"),d._uU(7),d.qZA(),d.TgZ(8,"p"),d._uU(9),d.ALo(10,"translate"),d.ALo(11,"translate"),d.TgZ(12,"sup"),d._uU(13,"2"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){var n=d.oxw();d.xp6(3),d.hij(" ",null==n.item?null:n.item.species_name," "),d.xp6(4),d.Oqu(null==n.item?null:n.item.name),d.xp6(2),d.lnq("",d.lcZ(10,5,"COMPANY_MOD.DENSITY")," ",null==n.item?null:n.item.density," ",d.lcZ(11,7,"COMPANY_MOD.ANIMAL"),"/m")}}function ae(e,t){if(1&e&&(d.TgZ(0,"ion-item",10),d.TgZ(1,"ion-label"),d._uU(2),d.qZA(),d.qZA()),2&e){var n=t.$implicit;d.xp6(2),d.Oqu(n)}}function se(e,t){if(1&e&&(d.TgZ(0,"ion-item-group"),d.TgZ(1,"ion-item-divider"),d.TgZ(2,"ion-label"),d._uU(3),d.ALo(4,"translate"),d.qZA(),d.qZA(),d.YNc(5,ae,3,1,"ion-item",13),d.qZA()),2&e){var n=t.$implicit;d.xp6(3),d.AsE("",d.lcZ(4,3,"COMPANY_MOD.DAY_OF")," ",n.day,""),d.xp6(2),d.Q6J("ngForOf",n.todo)}}function ce(e,t){if(1&e&&(d.TgZ(0,"div"),d._UZ(1,"div",11),d.TgZ(2,"ion-list",9),d.TgZ(3,"ion-list-header"),d._uU(4),d.ALo(5,"translate"),d.qZA(),d.YNc(6,se,6,5,"ion-item-group",12),d.qZA(),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Q6J("options",n.initOption()),d.xp6(3),d.hij(" ",d.lcZ(5,3,"COMPANY_MOD.TODO")," "),d.xp6(2),d.Q6J("ngForOf",n.timeline)}}function le(e,t){1&e&&(d.TgZ(0,"div",14),d._uU(1),d.ALo(2,"translate"),d.qZA()),2&e&&(d.xp6(1),d.hij(" ",d.lcZ(2,1,"COMPANY_MOD.NOT_EMPTY_INFOR_PROCEDURE")," "))}var ue=function(){var t=function(){function t(n,i,o,r){e(this,t),this.modalController=n,this.procedureService=i,this.toastController=o,this.translate=r,this.loadingFlag=new u.E}return n(t,[{key:"ngOnInit",value:function(){this.getDetail()}},{key:"presentToast",value:function(e){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({message:e,duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}},{key:"getDetail",value:function(){var e=this;this.loadingFlag.setPending(!0),this.procedureService.getProcedureDetail(this.id).pipe().subscribe(function(t){0==t.status?(e.presentToast(t.error),e.loadingFlag.setResult(!1)):(e.loadingFlag.setResult(!0),e.item=t.data.info,e.chart=t.data.chart,e.timeline=t.data.timeline)},function(t){e.presentToast(e.translate.instant("ERROR_CONNECT")),e.loadingFlag.setResult(!1)})}},{key:"initOption",value:function(){return{xAxis:{type:"category",data:this.chart.labels},yAxis:{type:"value"},series:[{name:this.translate.instant("COMPANY_MOD.WEIGHT"),data:this.chart.data1,type:"line"},{name:this.translate.instant("COMPANY_MOD.FEED"),data:this.chart.data2,type:"line"}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(c.IN),d.Y36(ie.d),d.Y36(c.yF),d.Y36(Z.sK))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-procedure-detail"]],inputs:{id:"id"},decls:13,vars:7,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["fullscreen",""],["class","spiner-loading",4,"ngIf"],[4,"ngIf"],["class","ion-padding",4,"ngIf"],[1,"spiner-loading"],["name","dots"],["lines","none"],[1,"ion-text-wrap"],["echarts","",3,"options"],[4,"ngFor","ngForOf"],["class","ion-text-wrap",4,"ngFor","ngForOf"],[1,"ion-padding"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d.TgZ(3,"ion-button",1),d.NdJ("click",function(){return t.modalController.dismiss(!1)}),d._UZ(4,"ion-icon",2),d.qZA(),d.qZA(),d.TgZ(5,"ion-title"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"ion-content",3),d.YNc(9,oe,2,0,"div",4),d.YNc(10,re,14,9,"div",5),d.YNc(11,ce,7,5,"div",5),d.YNc(12,le,3,3,"div",6),d.qZA()),2&e&&(d.xp6(6),d.Oqu(d.lcZ(7,5,"COMPANY_MOD.DETAIL")),d.xp6(3),d.Q6J("ngIf",t.loadingFlag.pending),d.xp6(1),d.Q6J("ngIf",t.loadingFlag.result),d.xp6(1),d.Q6J("ngIf",t.chart&&t.timeline),d.xp6(1),d.Q6J("ngIf",!t.chart&&!t.timeline))},directives:[c.Gu,c.sr,c.Sm,c.YG,c.gu,c.wd,c.W2,r.O5,c.PQ,c.Ie,c.Q$,c.yW,B._w,c.q_,c.yh,r.sg,c.Ub,c.rH],pipes:[Z.X$],styles:[""]}),t}();function pe(e,t){if(1&e&&(d.TgZ(0,"ion-item",7),d.TgZ(1,"ion-label"),d.TgZ(2,"p"),d._uU(3),d.qZA(),d.qZA(),d.qZA()),2&e){var n=d.oxw();d.xp6(3),d.Oqu(n.message)}}function de(e,t){1&e&&(d.TgZ(0,"div",8),d._UZ(1,"ion-spinner",9),d.qZA())}function ge(e,t){1&e&&d._UZ(0,"ion-icon",13)}function Ze(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-card"),d.TgZ(1,"ion-item"),d.YNc(2,ge,1,0,"ion-icon",11),d.TgZ(3,"ion-label"),d.TgZ(4,"h3"),d._uU(5),d.qZA(),d.TgZ(6,"p"),d._uU(7),d.ALo(8,"translate"),d.ALo(9,"translate"),d.TgZ(10,"sup"),d._uU(11,"2"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(12,"ion-button",12),d.NdJ("click",function(){var e=d.CHM(n),t=e.$implicit,i=e.index;return d.oxw(2).add(t.id,i)}),d._uU(13),d.ALo(14,"translate"),d.qZA(),d.qZA(),d.TgZ(15,"ion-card-content",1),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw(2).presentDetail(e.id)}),d.TgZ(16,"h3"),d._uU(17),d.qZA(),d.TgZ(18,"p"),d._uU(19),d.qZA(),d.TgZ(20,"p"),d._uU(21),d.ALo(22,"translate"),d.TgZ(23,"strong"),d._uU(24),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit;d.xp6(2),d.Q6J("ngIf",1==i.verify),d.xp6(3),d.Oqu(i.species),d.xp6(2),d.lnq("",d.lcZ(8,10,"COMPANY_MOD.DENSITY"),": ",i.density," ",d.lcZ(9,12,"COMPANY_MOD.ANIMAL"),"/m"),d.xp6(6),d.Oqu(d.lcZ(14,14,"COMPANY_MOD.SELECT")),d.xp6(4),d.Oqu(i.name),d.xp6(2),d.Oqu(i.description),d.xp6(2),d.hij("",d.lcZ(22,16,"COMPANY_MOD.CREATE_BY")," "),d.xp6(3),d.Oqu(i.manufacturer)}}function Ae(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,Ze,25,18,"ion-card",10),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Q6J("ngForOf",n.listProcedureFilter)}}var fe=function(){var t=function(){function t(n,i,o,r,a){e(this,t),this.modalController=n,this.procedureService=i,this.toastController=o,this.alertController=r,this.translate=a,this.loadingFlag=new u.E,this.listProcedure=[],this.listProcedureFilter=[],this.message=""}return n(t,[{key:"ngOnInit",value:function(){this.getList()}},{key:"getList",value:function(){var e=this;this.loadingFlag.setPending(!0),this.procedureService.getProceduresV2().pipe().subscribe(function(t){0==t.status?(e.presentToast(t.error),e.loadingFlag.setResult(!1)):(e.loadingFlag.setResult(!0),e.listProcedure=t.data,e.listProcedureFilter=e.listProcedure)},function(t){e.presentToast(e.translate.instant("ERROR_CONNECT")),e.loadingFlag.setResult(!1)})}},{key:"searchProcedure",value:function(e){var t=this,n=e.target.value;this.message="",n&&""!=n.trim()&&Array.isArray(this.listProcedure)?(this.loadingFlag.setPending(!0),this.procedureService.searchProcedure(n).subscribe(function(e){1==e.status&&e.data.length>0?(t.loadingFlag.setResult(!0),t.listProcedureFilter=e.data):(t.loadingFlag.setResult(!1),t.message=t.translate.instant("COMPANY_MOD.NOT_FIND"))})):this.listProcedureFilter=this.listProcedure}},{key:"presentToast",value:function(e){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({message:e,duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}},t,this)}))}},{key:"filter",value:function(e){var t=e.target.value;this.listProcedureFilter=this.listProcedure.filter(function(e){return e.name.toLowerCase().indexOf(t.toLowerCase())>-1||e.manufacturer.toLowerCase().indexOf(t.toLowerCase())>-1||e.species.toLowerCase().indexOf(t.toLowerCase())>-1||e.density.toLowerCase().indexOf(t.toLowerCase())>-1}),console.log(this.listProcedureFilter)}},{key:"add",value:function(e,t){var n=this;this.procedureService.insertProcedure(e).pipe().subscribe(function(e){0==e.status?n.presentToast(e.error):(n.presentToast(n.translate.instant("COMPANY_MOD.NOTI_ADD_PROCEDURE")),n.modalController.dismiss(n.listProcedureFilter[t]))})}},{key:"presentDetail",value:function(e){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:ue,componentProps:{id:e}});case 2:return t.next=4,t.sent.present();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(c.IN),d.Y36(ie.d),d.Y36(c.yF),d.Y36(c.Br),d.Y36(Z.sK))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-procedure-add"]],decls:13,vars:7,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["debounce","500",3,"placeholder","ionChange"],["lines","none",4,"ngIf"],["class","ion-text-center ion-padding",4,"ngIf"],[4,"ngIf"],["lines","none"],[1,"ion-text-center","ion-padding"],["name","dots"],[4,"ngFor","ngForOf"],["slot","start","color","primary","name","checkmark-circle-outline",4,"ngIf"],["fill","outline","slot","end",3,"click"],["slot","start","color","primary","name","checkmark-circle-outline"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d.TgZ(3,"ion-button",1),d.NdJ("click",function(){return t.modalController.dismiss(!1)}),d._UZ(4,"ion-icon",2),d.qZA(),d.qZA(),d.TgZ(5,"ion-title"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"ion-content"),d.TgZ(9,"ion-searchbar",3),d.NdJ("ionChange",function(e){return t.searchProcedure(e)}),d.qZA(),d.YNc(10,pe,4,1,"ion-item",4),d.YNc(11,de,2,0,"div",5),d.YNc(12,Ae,2,1,"div",6),d.qZA()),2&e&&(d.xp6(6),d.hij(" ",d.lcZ(7,5,"COMPANY_MOD.ADD_PROCEDURE"),""),d.xp6(3),d.Q6J("placeholder",t.translate.instant("COMPANY_MOD.SEARCH")),d.xp6(1),d.Q6J("ngIf",t.message),d.xp6(1),d.Q6J("ngIf",t.loadingFlag.pending),d.xp6(1),d.Q6J("ngIf",t.loadingFlag.result))},directives:[c.Gu,c.sr,c.Sm,c.YG,c.gu,c.wd,c.W2,c.VI,c.j9,r.O5,c.Ie,c.Q$,c.PQ,r.sg,c.PM,c.FN],pipes:[Z.X$],styles:[""]}),t}();function he(e,t){1&e&&(d.TgZ(0,"div",6),d._UZ(1,"ion-spinner",7),d.qZA())}function me(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-button",14),d.NdJ("click",function(){d.CHM(n);var e=d.oxw(),t=e.index,i=e.$implicit;return d.oxw(3).alertLock(0,t,i.id)}),d._uU(1),d.ALo(2,"translate"),d.qZA()}2&e&&(d.xp6(1),d.hij("",d.lcZ(2,1,"COMPANY_MOD.BLOCK")," "))}function Oe(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-button",14),d.NdJ("click",function(){d.CHM(n);var e=d.oxw(),t=e.index,i=e.$implicit;return d.oxw(3).lock(1,t,i.id)}),d._uU(1),d.ALo(2,"translate"),d.qZA()}2&e&&(d.xp6(1),d.hij(" ",d.lcZ(2,1,"COMPANY_MOD.UNBLOCK")," "))}function _e(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-card"),d.TgZ(1,"ion-card-header"),d.TgZ(2,"ion-card-subtitle"),d._uU(3),d.qZA(),d.TgZ(4,"span"),d._uU(5),d.ALo(6,"translate"),d.ALo(7,"translate"),d.TgZ(8,"sup"),d._uU(9,"2"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(10,"ion-card-content"),d._uU(11),d.qZA(),d.TgZ(12,"ion-item",9),d.TgZ(13,"ion-button",10),d.NdJ("click",function(){var e=d.CHM(n),t=e.$implicit,i=e.index;return d.oxw(3).presentAlertDelete(t.procedure_id,i)}),d._uU(14),d.ALo(15,"translate"),d.qZA(),d.YNc(16,me,3,3,"ion-button",11),d.YNc(17,Oe,3,3,"ion-button",11),d.TgZ(18,"ion-button",12),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw(3).presentDetail(e.procedure_id)}),d._uU(19),d.ALo(20,"translate"),d._UZ(21,"ion-icon",13),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit;d.xp6(3),d.Oqu(i.species),d.xp6(2),d.lnq("",d.lcZ(6,9,"COMPANY_MOD.DENSITY"),": ",i.density," ",d.lcZ(7,11,"COMPANY_MOD.ANIMAL"),"/m"),d.xp6(6),d.hij(" ",i.name," "),d.xp6(3),d.hij(" ",d.lcZ(15,13,"COMPANY_MOD.DELETE")," "),d.xp6(2),d.Q6J("ngIf",1==i.status),d.xp6(1),d.Q6J("ngIf",1!=i.status),d.xp6(2),d.hij(" ",d.lcZ(20,15,"COMPANY_MOD.SEE")," ")}}function ve(e,t){1&e&&(d.TgZ(0,"ion-card"),d.TgZ(1,"ion-card-content",15),d.TgZ(2,"p",16),d._uU(3),d.ALo(4,"translate"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Oqu(d.lcZ(4,1,"COMPANY_MOD.NOT_EMPTY_PROCEDURE")))}function qe(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,_e,22,17,"ion-card",8),d.YNc(2,ve,5,3,"ion-card",4),d.qZA()),2&e){var n=d.oxw(2);d.xp6(1),d.Q6J("ngForOf",n.listProcedure),d.xp6(1),d.Q6J("ngIf",0==n.listProcedure.length)}}function Te(e,t){if(1&e&&(d.TgZ(0,"div"),d.YNc(1,he,2,0,"div",5),d.YNc(2,qe,3,2,"div",4),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Q6J("ngIf",n.loadingFlag.pending),d.xp6(1),d.Q6J("ngIf",n.loadingFlag.result)}}var xe=function(){var t=function(){function t(n,i,o,r,a,s,c){e(this,t),this.modalController=n,this.companyService=i,this.toastService=o,this.alertController=r,this.procedureService=a,this.translate=s,this.tutorialService=c,this.loadingFlag=new u.E,this.listProcedure=[],this.view=!1}return n(t,[{key:"ngOnInit",value:function(){this.procedureService.setCompanyCode(this.companyService.company.code),this.getList(),this.tutorialService.setStepIndex("company-procedure",0),this.tutorialService.show("company-procedure")}},{key:"ionViewDidEnter",value:function(){this.view=!0}},{key:"getList",value:function(){var e=this;this.loadingFlag.setPending(!0),this.procedureService.getProcedures().pipe().subscribe(function(t){0==t.status?(e.toastService.warning(t.error),e.loadingFlag.setResult(!1)):(e.loadingFlag.setResult(!0),e.listProcedure=t.data)},function(t){e.toastService.danger(e.translate.instant("ERROR_CONNECT")),e.loadingFlag.setResult(!1)})}},{key:"lock",value:function(e,t,n){var i=this;this.procedureService.lock(n,e).pipe().subscribe(function(n){0==n.status?i.toastService.warning(n.error):(i.listProcedure[t].status=e,i.toastService.warning(i.translate.instant(0==e?"COMPANY_MOD.NOTI_BLOCK":"COMPANY_MOD.NOTI_UNBLOCK")))},function(e){i.toastService.danger(i.translate.instant("ERROR_CONNECT"))})}},{key:"presentAdd",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:fe});case 2:return(t=e.sent).onDidDismiss().then(function(e){e.data&&(n.getList(),n.tutorialService.setStepIndex("company",1),n.tutorialService.setView("company",0))}),e.next=6,t.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))}},{key:"delete",value:function(e,t){var n=this;this.procedureService.delete(e).pipe().subscribe(function(e){0==e.status?n.toastService.warning(e.error):(n.listProcedure.splice(t,1),n.toastService.success(n.translate.instant("COMPANY_MOD.NOTI_DEL_PROCEDURE")))},function(e){n.toastService.danger(n.translate.instant("ERROR_CONNECT"))})}},{key:"presentAlertDelete",value:function(e,t){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({header:this.translate.instant("COMPANY_MOD.CONFIRM_DELETE"),message:this.translate.instant("COMPANY_MOD.DELETE_PROCEDURE"),buttons:[{text:this.translate.instant("COMPANY_MOD.YES"),handler:function(){i.delete(e,t)}},{text:this.translate.instant("COMPANY_MOD.NO"),handler:function(){}}]});case 2:return n.next=4,n.sent.present();case 4:case"end":return n.stop()}},n,this)}))}},{key:"presentDetail",value:function(e){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:ue,componentProps:{id:e}});case 2:return t.next=4,t.sent.present();case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}))}},{key:"alertLock",value:function(e,t,n){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var o=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.alertController.create({header:this.translate.instant("COMPANY_MOD.BLOCK"),message:this.translate.instant("COMPANY_MOD.CONFIRM_BLOCK"),buttons:[{text:this.translate.instant("COMPANY_MOD.NO"),role:"cancel",cssClass:"secondary"},{text:this.translate.instant("COMPANY_MOD.YES"),handler:function(){o.lock(e,t,n)}}]});case 2:return i.next=4,i.sent.present();case 4:case"end":return i.stop()}},i,this)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(c.IN),d.Y36(p.J),d.Y36(g.k),d.Y36(c.Br),d.Y36(ie.d),d.Y36(Z.sK),d.Y36(R.M))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-company-procedure"]],decls:13,vars:7,consts:[["slot","start"],["text","","defaultHref","tabs/management"],["slot","end"],["id","company-procedure0",3,"click"],[4,"ngIf"],["class","spiner-loading",4,"ngIf"],[1,"spiner-loading"],["name","dots"],[4,"ngFor","ngForOf"],["lines","none"],["fill","outline","slot","start","color","danger",3,"click"],["fill","outline","slot","start","color","medium",3,"click",4,"ngIf"],["fill","clear","slot","end",3,"click"],["slot","end","name","chevron-forward-outline"],["fill","outline","slot","start","color","medium",3,"click"],[1,"ion-text-center"],[1,"ion-padding"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d._UZ(3,"ion-back-button",1),d.qZA(),d.TgZ(4,"ion-title"),d._uU(5),d.ALo(6,"translate"),d.qZA(),d.TgZ(7,"ion-buttons",2),d.TgZ(8,"ion-button",3),d.NdJ("click",function(){return t.presentAdd()}),d._uU(9),d.ALo(10,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"ion-content"),d.YNc(12,Te,3,2,"div",4),d.qZA()),2&e&&(d.xp6(5),d.Oqu(d.lcZ(6,3,"COMPANY_MOD.PROCEDURE")),d.xp6(4),d.hij(" ",d.lcZ(10,5,"COMPANY_MOD.ADD")," "),d.xp6(3),d.Q6J("ngIf",t.view))},directives:[c.Gu,c.sr,c.Sm,c.oU,c.cs,c.wd,c.YG,c.W2,r.O5,c.PQ,r.sg,c.PM,c.Zi,c.tO,c.FN,c.Ie,c.gu],pipes:[Z.X$],styles:[""]}),t}(),Me=o(87152),Ne=o(26215),Ce=["slides"];function ye(e,t){1&e&&d._UZ(0,"ion-icon",25)}function be(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-chip",23),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw().onSelectedSpecies(e)}),d.TgZ(1,"ion-label"),d._uU(2),d.qZA(),d.YNc(3,ye,1,0,"ion-icon",24),d.qZA()}if(2&e){var i=t.$implicit,o=d.oxw();d.xp6(2),d.Oqu(i.name),d.xp6(1),d.Q6J("ngIf",i==o.speciesSelected)}}function Pe(e,t){1&e&&d._UZ(0,"ion-icon",26)}function Ue(e,t){1&e&&d._UZ(0,"ion-icon",26)}function Ye(e,t){1&e&&d._UZ(0,"ion-icon",26)}function Se(e,t){1&e&&d._UZ(0,"ion-icon",26)}function ke(e,t){1&e&&d._UZ(0,"ion-icon",26)}function De(e,t){1&e&&d._UZ(0,"ion-icon",26)}function we(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-slide"),d.TgZ(1,"div",3),d.TgZ(2,"div",7),d.TgZ(3,"div",8),d._UZ(4,"ion-icon",9),d.TgZ(5,"span"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.qZA(),d.TgZ(8,"div",10),d._UZ(9,"ion-icon",11),d._uU(10),d.ALo(11,"translate"),d.qZA(),d.qZA(),d.TgZ(12,"h1"),d._uU(13),d.ALo(14,"translate"),d.qZA(),d.TgZ(15,"p",13),d._uU(16),d.ALo(17,"translate"),d.TgZ(18,"b"),d._uU(19),d.qZA(),d._uU(20),d.ALo(21,"translate"),d.qZA(),d.TgZ(22,"div"),d.TgZ(23,"ion-button",14),d.NdJ("click",function(){return d.CHM(n),d.oxw().data.storeBayer=!1}),d.YNc(24,ke,1,0,"ion-icon",15),d._uU(25),d.ALo(26,"translate"),d.qZA(),d.TgZ(27,"ion-button",16),d.NdJ("click",function(){return d.CHM(n),d.oxw().data.storeBayer=!0}),d.YNc(28,De,1,0,"ion-icon",15),d._uU(29),d.ALo(30,"translate"),d.qZA(),d.qZA(),d.TgZ(31,"div"),d.TgZ(32,"div",5),d.TgZ(33,"ion-button",17),d.NdJ("click",function(){return d.CHM(n),d.oxw(),d.MAs(9).slidePrev()}),d._UZ(34,"ion-icon",18),d._uU(35),d.ALo(36,"translate"),d.qZA(),d.TgZ(37,"ion-button",19),d.NdJ("click",function(){return d.CHM(n),d.oxw(),d.MAs(9).slideNext()}),d._uU(38),d.ALo(39,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=d.oxw();d.xp6(6),d.hij("",d.lcZ(7,13,"COMPANY_MOD.EDIT_POND"),":"),d.xp6(4),d.hij(" ",d.lcZ(11,15,"COMPANY_MOD.PRODUCT_BY_MAIN")," "),d.xp6(3),d.AsE("",d.lcZ(14,17,"COMPANY_MOD.PRODUCT_OF")," ",null==i.agency?null:i.agency.agency,""),d.xp6(3),d.hij("",d.lcZ(17,19,"COMPANY_MOD.SOME_PRODUCT")," "),d.xp6(3),d.Oqu(null==i.speciesSelected?null:i.speciesSelected.name),d.xp6(1),d.hij(" ",d.lcZ(21,21,"COMPANY_MOD.WILL_ADD"),""),d.xp6(4),d.Q6J("ngIf",0==i.data.storeBayer),d.xp6(1),d.hij(" ",d.lcZ(26,23,"COMPANY_MOD.NO")," "),d.xp6(3),d.Q6J("ngIf",1==i.data.storeBayer),d.xp6(1),d.hij(" ",d.lcZ(30,25,"COMPANY_MOD.YES")," "),d.xp6(6),d.hij("",d.lcZ(36,27,"BACK")," "),d.xp6(3),d.Oqu(d.lcZ(39,29,"NEXT"))}}function Ee(e,t){1&e&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"translate"),d.qZA()),2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,1,"COMPANY_MOD.PRODUCT_COM_USE")))}function Le(e,t){if(1&e&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"translate"),d.TgZ(3,"b"),d._uU(4),d.qZA(),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.hij(" ",d.lcZ(2,2,"COMPANY_MOD.PRODUCT_OF")," "),d.xp6(3),d.Oqu(null==n.agency?null:n.agency.agency)}}function Re(e,t){1&e&&(d.TgZ(0,"p"),d._uU(1),d.ALo(2,"translate"),d.qZA()),2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,1,"COMPANY_MOD.NO")))}function Ie(e,t){1&e&&(d.TgZ(0,"p"),d._uU(1),d.ALo(2,"translate"),d.qZA()),2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,1,"COMPANY_MOD.ADD_DEFAULT")))}function Fe(e,t){1&e&&(d.TgZ(0,"p"),d._uU(1),d.ALo(2,"translate"),d.qZA()),2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,1,"COMPANY_MOD.NO")))}function Je(e,t){if(1&e&&(d.TgZ(0,"div",5),d._UZ(1,"ion-progress-bar",27),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Q6J("value",n.$processing.value)}}var je=function(){var t=function(){function t(n,i,o,r){e(this,t),this.companyService=n,this.toastService=i,this.navCtrl=o,this.translate=r,this.listSpecies=[],this.saveWaiting=new u.E,this.$processing=new Ne.X(0)}return n(t,[{key:"ngOnInit",value:function(){this.data={species:0,storeDefault:!0,storeBayer:!0,procedureDefault:!0,farmName:this.translate.instant("COMPANY_MOD.FARM_01"),pondName:this.translate.instant("COMPANY_MOD.POND_01")},this.getListSpecies(),this.getInfo()}},{key:"getListSpecies",value:function(){var e=this;this.companyService.loadSpecies().subscribe(function(t){t.error||1!=t.status?e.toastService.warning(e.translate.instant("COMPANY_MOD.DATA_ERROR")):e.listSpecies=t.data},function(t){e.toastService.danger(e.translate.instant("ERROR_CONNECT"))})}},{key:"getInfo",value:function(){var e=this;this.companyService.getFirstSetup().subscribe(function(t){0==t.status&&t.message?e.toastService.warning(t.message):t.data&&t.data.agency_id&&(e.agency=t.data)},function(t){e.toastService.danger(e.translate.instant("ERROR_CONNECT"))})}},{key:"onFirstSettup",value:function(){var e=this;this.saveWaiting.setPending(!0),this.$processing.next(.3),setTimeout(function(){e.$processing.next(.6),e.companyService.firstSetup(e.data).subscribe(function(t){e.$processing.next(.9),setTimeout(function(){0==t.status&&t.message?e.toastService.warning(t.message):(e.$processing.next(1),e.toastService.success(t.message),e.navCtrl.navigateRoot("company/"+e.companyService.ccode)),e.saveWaiting.setResult(!0)},600)},function(t){e.toastService.danger(e.translate.instant("ERROR_CONNECT")),e.saveWaiting.setResult(!1)})},300)}},{key:"onSelectedSpecies",value:function(e){this.speciesSelected=e,this.data.species=e.species_id,this.slides.lockSwipes(!1)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(p.J),d.Y36(g.k),d.Y36(c.SH),d.Y36(Z.sK))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-company-quick-start"]],viewQuery:function(e,t){var n;(1&e&&d.Gf(Ce,5),2&e)&&(d.iGM(n=d.CRH())&&(t.slides=n.first))},decls:246,vars:165,consts:[["slot","start"],["text","","defaultHref","tabs/management"],["slides",""],[1,"w-100","ion-padding"],["color","primary",3,"click",4,"ngFor","ngForOf"],[1,"ion-padding"],["shape","round",3,"disabled","click"],[1,"guide"],[1,"header"],["name","bulb-outline"],[1,"containter"],["name","return-down-forward-outline"],["name","chevron-forward-outline"],[1,"tip"],["color","medium","shape","round","fill","outline",3,"click"],["slot","start","name","checkmark-circle-outline",4,"ngIf"],["color","primary","shape","round","fill","outline",3,"click"],["shape","round","fill","clear",3,"click"],["slot","start","name","arrow-back"],["shape","round",3,"click"],["type","text",3,"ngModel","ngModelChange"],[4,"ngIf"],["class","ion-padding",4,"ngIf"],["color","primary",3,"click"],["name","checkmark-circle-outline",4,"ngIf"],["name","checkmark-circle-outline"],["slot","start","name","checkmark-circle-outline"],["color","primary",3,"value"]],template:function(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d._UZ(3,"ion-back-button",1),d.qZA(),d.TgZ(4,"ion-title"),d._uU(5),d.ALo(6,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"ion-content"),d.TgZ(8,"ion-slides",null,2),d.TgZ(10,"ion-slide"),d.TgZ(11,"div",3),d.TgZ(12,"h1"),d._uU(13),d.ALo(14,"translate"),d.qZA(),d.TgZ(15,"div"),d.YNc(16,be,4,2,"ion-chip",4),d.TgZ(17,"div",5),d.TgZ(18,"ion-button",6),d.NdJ("click",function(){return d.CHM(n),d.MAs(9).slideNext()}),d._uU(19),d.ALo(20,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"ion-slide"),d.TgZ(22,"div",3),d.TgZ(23,"div",7),d.TgZ(24,"div",8),d._UZ(25,"ion-icon",9),d.TgZ(26,"span"),d._uU(27),d.ALo(28,"translate"),d.qZA(),d.qZA(),d.TgZ(29,"div",10),d._UZ(30,"ion-icon",11),d.TgZ(31,"ion-text"),d._uU(32),d.ALo(33,"translate"),d.qZA(),d._UZ(34,"ion-icon",12),d.TgZ(35,"ion-text"),d._uU(36),d.ALo(37,"translate"),d.qZA(),d._UZ(38,"ion-icon",12),d.TgZ(39,"ion-text"),d._uU(40),d.ALo(41,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(42,"h1"),d._uU(43),d.ALo(44,"translate"),d.qZA(),d.TgZ(45,"p",13),d._uU(46),d.ALo(47,"translate"),d.TgZ(48,"b"),d._uU(49),d.qZA(),d._uU(50),d.ALo(51,"translate"),d.qZA(),d.TgZ(52,"div"),d.TgZ(53,"div"),d.TgZ(54,"ion-button",14),d.NdJ("click",function(){return t.data.storeDefault=!1}),d.YNc(55,Pe,1,0,"ion-icon",15),d._uU(56),d.ALo(57,"translate"),d.qZA(),d.TgZ(58,"ion-button",16),d.NdJ("click",function(){return t.data.storeDefault=!0}),d.YNc(59,Ue,1,0,"ion-icon",15),d._uU(60),d.ALo(61,"translate"),d.qZA(),d.qZA(),d.TgZ(62,"div",5),d.TgZ(63,"ion-button",17),d.NdJ("click",function(){return d.CHM(n),d.MAs(9).slidePrev()}),d._UZ(64,"ion-icon",18),d._uU(65),d.ALo(66,"translate"),d.qZA(),d.TgZ(67,"ion-button",19),d.NdJ("click",function(){return d.CHM(n),d.MAs(9).slideNext()}),d._uU(68),d.ALo(69,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(70,"ion-slide"),d.TgZ(71,"div",3),d.TgZ(72,"div",7),d.TgZ(73,"div",8),d._UZ(74,"ion-icon",9),d.TgZ(75,"span"),d._uU(76),d.ALo(77,"translate"),d.qZA(),d.qZA(),d.TgZ(78,"div",10),d._UZ(79,"ion-icon",11),d.TgZ(80,"ion-text"),d._uU(81),d.ALo(82,"translate"),d.qZA(),d._UZ(83,"ion-icon",12),d.TgZ(84,"ion-text"),d._uU(85),d.ALo(86,"translate"),d.qZA(),d._UZ(87,"ion-icon",12),d.TgZ(88,"ion-text"),d._uU(89),d.ALo(90,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(91,"h1"),d._uU(92),d.ALo(93,"translate"),d.qZA(),d.TgZ(94,"p",13),d._uU(95),d.ALo(96,"translate"),d.TgZ(97,"b"),d._uU(98),d.qZA(),d._uU(99),d.ALo(100,"translate"),d.qZA(),d.TgZ(101,"div"),d.TgZ(102,"div"),d.TgZ(103,"ion-button",14),d.NdJ("click",function(){return t.data.procedureDefault=!1}),d.YNc(104,Ye,1,0,"ion-icon",15),d._uU(105),d.ALo(106,"translate"),d.qZA(),d.TgZ(107,"ion-button",16),d.NdJ("click",function(){return t.data.procedureDefault=!0}),d.YNc(108,Se,1,0,"ion-icon",15),d._uU(109),d.ALo(110,"translate"),d.qZA(),d.qZA(),d.TgZ(111,"div",5),d.TgZ(112,"ion-button",17),d.NdJ("click",function(){return d.CHM(n),d.MAs(9).slidePrev()}),d._UZ(113,"ion-icon",18),d._uU(114),d.ALo(115,"translate"),d.qZA(),d.TgZ(116,"ion-button",19),d.NdJ("click",function(){return d.CHM(n),d.MAs(9).slideNext()}),d._uU(117),d.ALo(118,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(119,"ion-slide"),d.TgZ(120,"div",3),d.TgZ(121,"div",7),d.TgZ(122,"div",8),d._UZ(123,"ion-icon",9),d.TgZ(124,"span"),d._uU(125),d.ALo(126,"translate"),d.qZA(),d.qZA(),d.TgZ(127,"div",10),d._UZ(128,"ion-icon",11),d.TgZ(129,"ion-text"),d._uU(130),d.ALo(131,"translate"),d.qZA(),d._UZ(132,"ion-icon",12),d.TgZ(133,"ion-text"),d._uU(134),d.ALo(135,"translate"),d.qZA(),d._UZ(136,"ion-icon",12),d.TgZ(137,"ion-text"),d._uU(138),d.ALo(139,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(140,"h1"),d._uU(141),d.ALo(142,"translate"),d.qZA(),d.TgZ(143,"ion-item"),d.TgZ(144,"ion-input",20),d.NdJ("ngModelChange",function(e){return t.data.farmName=e}),d.qZA(),d.qZA(),d.TgZ(145,"div"),d.TgZ(146,"div",5),d.TgZ(147,"ion-button",17),d.NdJ("click",function(){return d.CHM(n),d.MAs(9).slidePrev()}),d._UZ(148,"ion-icon",18),d._uU(149),d.ALo(150,"translate"),d.qZA(),d.TgZ(151,"ion-button",19),d.NdJ("click",function(){return d.CHM(n),d.MAs(9).slideNext()}),d._uU(152),d.ALo(153,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(154,"ion-slide"),d.TgZ(155,"div",3),d.TgZ(156,"div",7),d.TgZ(157,"div",8),d._UZ(158,"ion-icon",9),d.TgZ(159,"span"),d._uU(160),d.ALo(161,"translate"),d.qZA(),d.qZA(),d.TgZ(162,"div",10),d._UZ(163,"ion-icon",11),d.TgZ(164,"ion-text"),d._uU(165),d.ALo(166,"translate"),d.qZA(),d._UZ(167,"ion-icon",12),d.TgZ(168,"ion-text"),d._uU(169),d.ALo(170,"translate"),d.qZA(),d._UZ(171,"ion-icon",12),d.TgZ(172,"ion-text"),d._uU(173),d.ALo(174,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(175,"h1"),d._uU(176),d.ALo(177,"translate"),d.qZA(),d.TgZ(178,"ion-item"),d.TgZ(179,"ion-input",20),d.NdJ("ngModelChange",function(e){return t.data.pondName=e}),d.qZA(),d.qZA(),d.TgZ(180,"div"),d.TgZ(181,"div",5),d.TgZ(182,"ion-button",17),d.NdJ("click",function(){return d.CHM(n),d.MAs(9).slidePrev()}),d._UZ(183,"ion-icon",18),d._uU(184),d.ALo(185,"translate"),d.qZA(),d.TgZ(186,"ion-button",19),d.NdJ("click",function(){return d.CHM(n),d.MAs(9).slideNext()}),d._uU(187),d.ALo(188,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(189,we,40,31,"ion-slide",21),d.TgZ(190,"ion-slide"),d.TgZ(191,"div",3),d.TgZ(192,"h1"),d._uU(193),d.ALo(194,"translate"),d.qZA(),d.TgZ(195,"p",13),d._uU(196),d.ALo(197,"translate"),d.qZA(),d.TgZ(198,"ion-item"),d.TgZ(199,"ion-label"),d.TgZ(200,"h3"),d._uU(201),d.ALo(202,"translate"),d.qZA(),d.TgZ(203,"p"),d._uU(204),d.qZA(),d.qZA(),d.qZA(),d.TgZ(205,"ion-item"),d.TgZ(206,"ion-label"),d.TgZ(207,"h3"),d._uU(208),d.ALo(209,"translate"),d.qZA(),d.TgZ(210,"p"),d.YNc(211,Ee,3,3,"span",21),d._uU(212,", "),d.YNc(213,Le,5,4,"span",21),d.qZA(),d.YNc(214,Re,3,3,"p",21),d.qZA(),d.qZA(),d.TgZ(215,"ion-item"),d.TgZ(216,"ion-label"),d.TgZ(217,"h3"),d._uU(218),d.ALo(219,"translate"),d.qZA(),d.YNc(220,Ie,3,3,"p",21),d.YNc(221,Fe,3,3,"p",21),d.qZA(),d.qZA(),d.TgZ(222,"ion-item"),d.TgZ(223,"ion-label"),d.TgZ(224,"h3"),d._uU(225),d.ALo(226,"translate"),d.qZA(),d.TgZ(227,"p"),d._uU(228),d.qZA(),d.qZA(),d.qZA(),d.TgZ(229,"ion-item"),d.TgZ(230,"ion-label"),d.TgZ(231,"h3"),d._uU(232),d.ALo(233,"translate"),d.qZA(),d.TgZ(234,"p"),d._uU(235),d.qZA(),d.qZA(),d.qZA(),d.TgZ(236,"div"),d.YNc(237,Je,2,1,"div",22),d.TgZ(238,"div",5),d.TgZ(239,"ion-button",17),d.NdJ("click",function(){return d.CHM(n),d.MAs(9).slidePrev()}),d._UZ(240,"ion-icon",18),d._uU(241),d.ALo(242,"translate"),d.qZA(),d.TgZ(243,"ion-button",6),d.NdJ("click",function(){return t.onFirstSettup()}),d._uU(244),d.ALo(245,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}2&e&&(d.xp6(5),d.Oqu(d.lcZ(6,69,"COMPANY_MOD.QUICK_START")),d.xp6(8),d.Oqu(d.lcZ(14,71,"COMPANY_MOD.RAISE")),d.xp6(3),d.Q6J("ngForOf",t.listSpecies),d.xp6(2),d.Q6J("disabled",!t.speciesSelected),d.xp6(1),d.hij("",d.lcZ(20,73,"NEXT")," "),d.xp6(8),d.hij("",d.lcZ(28,75,"COMPANY_MOD.ADD_PRODUCT"),":"),d.xp6(5),d.Oqu(d.lcZ(33,77,"COMPANY_MOD.FARM")),d.xp6(4),d.Oqu(d.lcZ(37,79,"COMPANY_MOD.WAREHOUSE")),d.xp6(4),d.Oqu(d.lcZ(41,81,"COMPANY_MOD.MENU")),d.xp6(3),d.Oqu(d.lcZ(44,83,"COMPANY_MOD.CONFIRM_ADD_PRODUCT")),d.xp6(3),d.hij("",d.lcZ(47,85,"COMPANY_MOD.SOME_PRODUCT")," "),d.xp6(3),d.Oqu(null==t.speciesSelected?null:t.speciesSelected.name),d.xp6(1),d.hij(" ",d.lcZ(51,87,"COMPANY_MOD.WILL_ADD"),""),d.xp6(5),d.Q6J("ngIf",0==t.data.storeDefault),d.xp6(1),d.hij(" ",d.lcZ(57,89,"COMPANY_MOD.NO")," "),d.xp6(3),d.Q6J("ngIf",1==t.data.storeDefault),d.xp6(1),d.hij(" ",d.lcZ(61,91,"COMPANY_MOD.YES")," "),d.xp6(5),d.hij("",d.lcZ(66,93,"BACK")," "),d.xp6(3),d.Oqu(d.lcZ(69,95,"NEXT")),d.xp6(8),d.hij("",d.lcZ(77,97,"COMPANY_MOD.MANAGER_PROCEDURE"),":"),d.xp6(5),d.Oqu(d.lcZ(82,99,"COMPANY_MOD.TITLE")),d.xp6(4),d.Oqu(d.lcZ(86,101,"COMPANY_MOD.SETTING")),d.xp6(4),d.Oqu(d.lcZ(90,103,"COMPANY_MOD.PROCEDURE")),d.xp6(3),d.Oqu(d.lcZ(93,105,"COMPANY_MOD.ADD_PROCEDURE")),d.xp6(3),d.hij("",d.lcZ(96,107,"COMPANY_MOD.SOME_PROCEDURE")," "),d.xp6(3),d.Oqu(null==t.speciesSelected?null:t.speciesSelected.name),d.xp6(1),d.hij(" ",d.lcZ(100,109,"COMPANY_MOD.WILL_ADD_PROCEDURE"),""),d.xp6(5),d.Q6J("ngIf",0==t.data.procedureDefault),d.xp6(1),d.hij(" ",d.lcZ(106,111,"COMPANY_MOD.NO")," "),d.xp6(3),d.Q6J("ngIf",1==t.data.procedureDefault),d.xp6(1),d.hij(" ",d.lcZ(110,113,"COMPANY_MOD.YES")," "),d.xp6(5),d.hij("",d.lcZ(115,115,"BACK")," "),d.xp6(3),d.Oqu(d.lcZ(118,117,"NEXT")),d.xp6(8),d.hij("",d.lcZ(126,119,"COMPANY_MOD.EDIT_FARM"),":"),d.xp6(5),d.Oqu(d.lcZ(131,121,"COMPANY_MOD.FARM")),d.xp6(4),d.Oqu(d.lcZ(135,123,"COMPANY_MOD.SETTING")),d.xp6(4),d.Oqu(d.lcZ(139,125,"COMPANY_MOD.EDIT")),d.xp6(3),d.Oqu(d.lcZ(142,127,"COMPANY_MOD.FIRST_NAME_FARM")),d.xp6(3),d.Q6J("ngModel",t.data.farmName),d.xp6(5),d.hij("",d.lcZ(150,129,"BACK")," "),d.xp6(3),d.Oqu(d.lcZ(153,131,"NEXT")),d.xp6(8),d.hij("",d.lcZ(161,133,"COMPANY_MOD.EDIT_POND"),":"),d.xp6(5),d.Oqu(d.lcZ(166,135,"COMPANY_MOD.POND")),d.xp6(4),d.Oqu(d.lcZ(170,137,"COMPANY_MOD.SETTING")),d.xp6(4),d.Oqu(d.lcZ(174,139,"COMPANY_MOD.EDIT")),d.xp6(3),d.Oqu(d.lcZ(177,141,"COMPANY_MOD.FIRST_NAME_POND")),d.xp6(3),d.Q6J("ngModel",t.data.pondName),d.xp6(5),d.hij("",d.lcZ(185,143,"BACK")," "),d.xp6(3),d.Oqu(d.lcZ(188,145,"NEXT")),d.xp6(2),d.Q6J("ngIf",t.agency&&0!=t.agency.agency_id),d.xp6(4),d.Oqu(d.lcZ(194,147,"COMPANY_MOD.CONFIRM")),d.xp6(3),d.Oqu(d.lcZ(197,149,"COMPANY_MOD.NOTI_QUICK_ADD")),d.xp6(5),d.Oqu(d.lcZ(202,151,"COMPANY_MOD.MAIN_SPECIES")),d.xp6(3),d.Oqu(null==t.speciesSelected?null:t.speciesSelected.name),d.xp6(4),d.Oqu(d.lcZ(209,153,"COMPANY_MOD.ADD_CATE")),d.xp6(3),d.Q6J("ngIf",t.data.storeDefault),d.xp6(2),d.Q6J("ngIf",t.agency&&0!=t.agency.agency_id),d.xp6(1),d.Q6J("ngIf",!t.data.storeDefault&&!t.data.storeBayer),d.xp6(4),d.Oqu(d.lcZ(219,155,"COMPANY_MOD.PROCEDURE")),d.xp6(2),d.Q6J("ngIf",t.data.procedureDefault),d.xp6(1),d.Q6J("ngIf",!t.data.procedureDefault),d.xp6(4),d.Oqu(d.lcZ(226,157,"COMPANY_MOD.NAME_FARM")),d.xp6(3),d.Oqu(t.data.farmName),d.xp6(4),d.Oqu(d.lcZ(233,159,"COMPANY_MOD.NAME_POND")),d.xp6(3),d.Oqu(t.data.pondName),d.xp6(2),d.Q6J("ngIf",t.saveWaiting.pending),d.xp6(4),d.hij("",d.lcZ(242,161,"BACK")," "),d.xp6(2),d.Q6J("disabled",t.saveWaiting.pending),d.xp6(1),d.hij(" ",d.lcZ(245,163,"CONFIRM"),""))},directives:[c.Gu,c.sr,c.Sm,c.oU,c.cs,c.wd,c.W2,c.Hr,c.A$,r.sg,c.YG,c.gu,c.yW,r.O5,c.Ie,c.pK,c.j9,a.JJ,a.On,c.Q$,c.hM,c.X7],pipes:[Z.X$],styles:["[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .w-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{font-size:.6em;font-style:italic;padding:10px}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .p-info[_ngcontent-%COMP%]{padding:5px 0}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]{position:absolute;top:20px;border-radius:5px;border:1px solid #ffeeba;left:10%;width:80%;color:#856404;background-color:#fff3cd;text-align:left}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:.8em;padding:10px}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:5px}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]   .containter[_ngcontent-%COMP%]{vertical-align:middle;padding:10px}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]   .containter[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8em;padding:0 3px}"]}),t}(),Qe=o(24023),Ge=o(80559),He=o(13819);function $e(e,t){1&e&&(d.TgZ(0,"div",8),d._UZ(1,"ion-spinner",9),d.qZA())}function We(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-item",13),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw(2).presentDetail(e)}),d.TgZ(1,"ion-label",14),d.TgZ(2,"ion-text",15),d._uU(3),d.qZA(),d._uU(4),d.TgZ(5,"p"),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"span",16),d._uU(8),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit;d.xp6(3),d.hij("",i.manufacturer_name,"-"),d.xp6(1),d.hij("",i.name," "),d.xp6(2),d.Oqu(i.unit),d.xp6(2),d.Oqu(i.packing)}}function Be(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-item",13),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw(2).presentDetail(e)}),d.TgZ(1,"ion-label",14),d.TgZ(2,"ion-text",15),d._uU(3),d.qZA(),d._uU(4),d.TgZ(5,"p"),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"span",16),d._uU(8),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit;d.xp6(3),d.hij("",i.manufacturer_name,"-"),d.xp6(1),d.hij("",i.name," "),d.xp6(2),d.Oqu(i.unit),d.xp6(2),d.Oqu(i.packing)}}function Ke(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"ion-item",13),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw(2).presentDetail(e)}),d.TgZ(1,"ion-label",14),d.TgZ(2,"ion-text",15),d._uU(3),d.qZA(),d._uU(4),d.TgZ(5,"p"),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"span",16),d._uU(8),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit;d.xp6(3),d.hij("",i.manufacturer_name,"-"),d.xp6(1),d.hij("",i.name," "),d.xp6(2),d.Oqu(i.packing),d.xp6(2),d.Oqu(i.packing)}}function Xe(e,t){if(1&e&&(d.TgZ(0,"ion-list",10),d.TgZ(1,"ion-item-group"),d.TgZ(2,"ion-list-header",11),d.TgZ(3,"ion-label"),d._uU(4),d.ALo(5,"translate"),d.qZA(),d.qZA(),d.YNc(6,We,9,4,"ion-item",12),d.qZA(),d.TgZ(7,"ion-item-group"),d.TgZ(8,"ion-list-header",11),d.TgZ(9,"ion-label"),d._uU(10),d.ALo(11,"translate"),d.qZA(),d.qZA(),d.YNc(12,Be,9,4,"ion-item",12),d.qZA(),d.TgZ(13,"ion-item-group"),d.TgZ(14,"ion-list-header",11),d.TgZ(15,"ion-label"),d._uU(16),d.ALo(17,"translate"),d.qZA(),d.qZA(),d.YNc(18,Ke,9,4,"ion-item",12),d.qZA(),d.qZA()),2&e){var n=d.oxw();d.xp6(4),d.Oqu(d.lcZ(5,6,"WAREHOUSE_MOD.FEED")),d.xp6(2),d.Q6J("ngForOf",n.findProduct(1)),d.xp6(4),d.Oqu(d.lcZ(11,8,"WAREHOUSE_MOD.FEED_SUPPLEMENT")),d.xp6(2),d.Q6J("ngForOf",n.findProduct(2)),d.xp6(4),d.Oqu(d.lcZ(17,10,"WAREHOUSE_MOD.TREATMENT")),d.xp6(2),d.Q6J("ngForOf",n.findProduct(3))}}function ze(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",17),d.TgZ(1,"ion-card",10),d.TgZ(2,"ion-card-content",18),d.TgZ(3,"p",17),d._uU(4),d.ALo(5,"translate"),d.qZA(),d.TgZ(6,"ion-button",19),d.NdJ("click",function(){return d.CHM(n),d.oxw().presentAddlist()}),d._uU(7),d.ALo(8,"translate"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}2&e&&(d.xp6(4),d.Oqu(d.lcZ(5,2,"WAREHOUSE_MOD.NO_PRODUCT")),d.xp6(3),d.hij(" ",d.lcZ(8,4,"WAREHOUSE_MOD.ADD_PRODUCT")," "))}var Ve=[{path:"",children:[{path:"report",component:O},{path:"procedure",component:xe},{path:"category",component:function(){var t=function(){function t(n,i,o,r){e(this,t),this.translate=n,this.companyService=i,this.toastService=o,this.modalController=r,this.products=[],this.loadingFlag=new u.E}return n(t,[{key:"ngOnInit",value:function(){this.getList()}},{key:"getList",value:function(){var e=this;this.loadingFlag.setPending(!0),this.companyService.getApi("getItems","&ccode="+this.companyService.ccode,"manager/company-category-api").subscribe(function(t){1==t.status?e.products=t.data:e.toastService.warning(t.error),e.loadingFlag.setResult(!0)},function(){e.loadingFlag.setResult(!1),e.toastService.danger(e.translate.instant("ERROR_CONNECT"))})}},{key:"presentAddlist",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.create({component:Ge.n,componentProps:{}});case 2:return(t=e.sent).onDidDismiss().then(function(e){console.log(e),1==e.data&&n.getList()}),e.next=6,t.present();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}))}},{key:"presentDetail",value:function(e){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:He.m,componentProps:{item:e,from:"company"}});case 2:return(n=t.sent).onDidDismiss().then(function(e){i.getList()}),t.next=6,n.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}))}},{key:"findProductIndexById",value:function(e){return this.products.findIndex(function(t){return t.id==e.id})}},{key:"doRefresh",value:function(e){this.getList(),e.target.complete()}},{key:"findProduct",value:function(e){return this.products.filter(function(t){return t.group_id==e})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Y36(Z.sK),d.Y36(p.J),d.Y36(g.k),d.Y36(c.IN))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-company-category"]],decls:16,vars:6,consts:[["slot","start"],["text","","defaultHref","tabs/management"],["slot","fixed",3,"ionRefresh"],["class","spiner-loading",4,"ngIf"],["mode","ios",4,"ngIf"],["class","ion-padding",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",3,"click"],["name","add-outline"],[1,"spiner-loading"],["name","dots"],["mode","ios"],["lines","inset"],["detail","",3,"click",4,"ngFor","ngForOf"],["detail","",3,"click"],[1,"ion-text-wrap"],["color","medium"],["slot","end"],[1,"ion-padding"],[1,"ion-text-center"],["shape","round","color","primary",3,"click"]],template:function(e,t){1&e&&(d.TgZ(0,"ion-header"),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",0),d._UZ(3,"ion-back-button",1),d.qZA(),d.TgZ(4,"ion-title"),d._uU(5),d.ALo(6,"translate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"ion-content"),d.TgZ(8,"ion-refresher",2),d.NdJ("ionRefresh",function(e){return t.doRefresh(e)}),d._UZ(9,"ion-refresher-content"),d.qZA(),d.YNc(10,$e,2,0,"div",3),d.YNc(11,Xe,19,12,"ion-list",4),d.YNc(12,ze,9,6,"div",5),d.TgZ(13,"ion-fab",6),d.NdJ("click",function(){return t.presentAddlist()}),d.TgZ(14,"ion-fab-button"),d._UZ(15,"ion-icon",7),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(5),d.Oqu(d.lcZ(6,4,"COMPANY_MOD.MENU")),d.xp6(5),d.Q6J("ngIf",t.loadingFlag.pending),d.xp6(1),d.Q6J("ngIf",t.products.length>0),d.xp6(1),d.Q6J("ngIf",0===t.products.length&&t.loadingFlag.result))},directives:[c.Gu,c.sr,c.Sm,c.oU,c.cs,c.wd,c.W2,c.nJ,c.Wo,r.O5,c.IJ,c.W4,c.gu,c.PQ,c.q_,c.Ub,c.yh,c.Q$,r.sg,c.Ie,c.yW,c.PM,c.FN,c.YG],pipes:[Z.X$],styles:[""]}),t}()},{path:"package",component:D},{path:"quickstart",component:je},{path:"setting",children:[{path:"",component:J},{path:":act",component:J}]},{path:"",component:ne}]}],et=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[Me.b,ie.d],imports:[[r.ez,a.u5,c.Pc,s.Bz.forChild(Ve),Z.aw.forChild(),B.Ns,a.UX,Qe.E]]}),t}()},51937:function(t,i,o){o.d(i,{D:function(){return u}});var r,a=o(76329),s=o(15189),c=o(88002),l=o(37716),u=((r=function(){function t(n){e(this,t),this.reqAPIService=n,this.urlApi="/manager/farm-api",this.urlApiAdress="/manager/address-api",this.reload$=new a.BehaviorSubject(0),this.numberOfPonds=0}return n(t,[{key:"setCode",value:function(e){this.fcode=e}},{key:"setFarm",value:function(e){this.farm=e,this.permission=e.permission}},{key:"loadPonds",value:function(){return this.reqAPIService.get("/manager/farm-api-mobie?fcode="+this.fcode+"&action=get-item-pond").pipe((0,c.U)(function(e){return e}))}},{key:"listAddress",value:function(e){return this.reqAPIService.get(this.urlApiAdress+"?action=listUnit&id="+e)}},{key:"loadFarm",value:function(){var e=this;return this.reqAPIService.get("/manager/farm-api-info?fcode="+this.fcode).pipe((0,c.U)(function(t){return e.setFarm(t.data),t}))}},{key:"getSeting",value:function(){return this.reqAPIService.get("/manager/farm-api-mobie?action=get-farm-setting&fcode="+this.fcode).pipe((0,c.U)(function(e){return e}))}},{key:"updatePrivate",value:function(e){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-farm-setting&fcode="+this.fcode,e).pipe((0,c.U)(function(e){return e}))}},{key:"removePermission",value:function(e,t){return this.reqAPIService.get("/manager/farm-api-mobie?action=remove-manager&fcode="+this.fcode+"&user_id="+e+"&position="+t).pipe((0,c.U)(function(e){return e}))}},{key:"updateFarm",value:function(e){return this.reqAPIService.post("/manager/farm-edit-api-mobie?action=edit&fcode="+this.fcode,e).pipe((0,c.U)(function(e){return e}))}},{key:"destroyValue",value:function(){this.farm=null,this.fcode=null,this.permission=null,this.numberOfPonds=null}},{key:"getSpecies",value:function(){return this.reqAPIService.get("/manager/farm-create-api?action=get-species").pipe((0,c.U)(function(e){return e}))}},{key:"insertPond",value:function(e){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-pond&fcode="+this.fcode,e).pipe((0,c.U)(function(e){return e}))}},{key:"insertOnePond",value:function(e){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-a-pond&fcode="+this.fcode,e).pipe((0,c.U)(function(e){return e}))}},{key:"loadReport",value:function(){return this.reqAPIService.get("/manager/farm-api-report?fcode="+this.fcode)}},{key:"listStore",value:function(){return this.reqAPIService.get("/manager/farm-api-mobie?fcode="+this.fcode+"&action=list-store")}}]),t}()).\u0275fac=function(e){return new(e||r)(l.LFG(s.$))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)}}])}();