"use strict";(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[5710],{45710:function(t,n,i){i.r(n),i.d(n,{ExpertPageModule:function(){return O}});var e=i(38583),s=i(90665),o=i(13619),c=i(47063),r=i(64762),a=i(83729),l=i(26262),g=i(27887),p=i(37716),u=i(84465),d=i(81780),Z=i(23211);function h(t,n){if(1&t){const t=p.EpF();p.TgZ(0,"ion-card",5),p.NdJ("click",function(){return p.CHM(t),p.oxw().presentInvitation()}),p.TgZ(1,"ion-card-content"),p._uU(2),p.ALo(3,"translate"),p.ALo(4,"translate"),p.qZA(),p.qZA()}if(2&t){const t=p.oxw();p.xp6(2),p.lnq(" ",p.lcZ(3,3,"EXPERT_MOD.YOU_HAVE")," ",t.invationsNumber," ",p.lcZ(4,5,"EXPERT_MOD.POND_NOT_ACCEPT")," ")}}function f(t,n){if(1&t&&(p.TgZ(0,"span"),p._uU(1),p.ALo(2,"number"),p.TgZ(3,"small"),p._uU(4),p.ALo(5,"translate"),p.qZA(),p.qZA()),2&t){const t=p.oxw(3).$implicit,n=p.oxw();p.xp6(1),p.hij("",p.xi3(2,2,(n.now-t.start_time)/86400,"0.0-0")," "),p.xp6(3),p.Oqu(p.lcZ(5,5,"FOLLOW_MOD.DAY"))}}function A(t,n){if(1&t&&(p.TgZ(0,"span"),p._uU(1),p.ALo(2,"number"),p.TgZ(3,"small"),p._uU(4),p.ALo(5,"translate"),p.qZA(),p.qZA()),2&t){const t=p.oxw(3).$implicit,n=p.oxw();p.xp6(1),p.hij("",p.xi3(2,2,(n.now-t.seed_date)/86400,"0.0-0")," "),p.xp6(3),p.Oqu(p.lcZ(5,5,"FOLLOW_MOD.DAY_OLD"))}}function m(t,n){if(1&t&&(p.TgZ(0,"div"),p.TgZ(1,"span",14),p._uU(2),p.qZA(),p.YNc(3,f,6,7,"span",13),p.YNc(4,A,6,7,"span",13),p.qZA()),2&t){const t=p.oxw(2).$implicit;p.xp6(2),p.hij("",t.species," "),p.xp6(1),p.Q6J("ngIf",0==t.seed_date),p.xp6(1),p.Q6J("ngIf",t.seed_date>0)}}function x(t,n){if(1&t&&(p.TgZ(0,"div"),p.YNc(1,m,5,3,"div",13),p.qZA()),2&t){const t=p.oxw().$implicit;p.xp6(1),p.Q6J("ngIf","0"!=t.current_season)}}function T(t,n){if(1&t&&(p.TgZ(0,"ion-col",6),p.TgZ(1,"ion-card",7),p.TgZ(2,"ion-grid"),p.TgZ(3,"ion-row",8),p.TgZ(4,"ion-col",9),p.TgZ(5,"div",10),p._UZ(6,"ion-icon",11),p.qZA(),p.qZA(),p.TgZ(7,"ion-col",12),p.TgZ(8,"ion-card-header"),p.TgZ(9,"ion-card-subtitle"),p._uU(10),p.qZA(),p.TgZ(11,"ion-card-title"),p._uU(12),p.qZA(),p.YNc(13,x,2,1,"div",13),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){const t=n.$implicit;p.xp6(1),p.MGl("routerLink","/pond/",t.code,""),p.xp6(5),p.Q6J("color",1==t.existSeason&&0==t.warning?"primary":1==t.existSeason&&1==t.warning?"danger":"medium"),p.xp6(4),p.Oqu(t.farm_name),p.xp6(2),p.Oqu(t.name),p.xp6(1),p.Q6J("ngIf","0"!=t.current_season)}}function q(t,n){1&t&&(p.TgZ(0,"div",15),p.TgZ(1,"p",16),p.TgZ(2,"ion-text",17),p._uU(3),p.ALo(4,"translate"),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(3),p.hij(" ",p.lcZ(4,1,"EXPERT_MOD.NOT_RECEIVE")," "))}function _(t,n){1&t&&(p.TgZ(0,"div",18),p._UZ(1,"ion-spinner",19),p.qZA())}const v=[{path:"",component:(()=>{class t{constructor(t,n,i,e,s){this.modalController=t,this.toastService=n,this.expertService=i,this.translate=e,this.tour=s,this.loadingFlag=new g.E,this.acceptanceList=[],this.invationsNumber=0,this.now=(new Date).valueOf()/1e3}ngOnInit(){this.getAcceptanceList()}ionViewWillEnter(){this.tour.show("expert")}presentInvitation(){return(0,r.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:a.W,componentProps:{acceptedList:this.acceptanceList}});return t.onDidDismiss().then(t=>{t.data&&this.getAcceptanceList()}),yield t.present()})}getAcceptanceList(){this.loadingFlag.setPending(!0),this.expertService.getAcceptanceList().pipe().subscribe(t=>{t.error||1!=t.status?this.toastService.warning(t.error):(this.acceptanceList=t.data,this.invationsNumber=t.no-this.acceptanceList.length),this.loadingFlag.setResult(!0)},t=>{this.toastService.danger(this.translate.instant("ERROR_CONNECT")),this.loadingFlag.setResult(!1)})}}return t.\u0275fac=function(n){return new(n||t)(p.Y36(c.IN),p.Y36(u.k),p.Y36(l.$),p.Y36(d.sK),p.Y36(Z.M))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-expert"]],decls:14,vars:7,consts:[["slot","start"],[3,"click",4,"ngIf"],["size","12","size-sm","6",4,"ngFor","ngForOf"],["class","ion-padding ion-text-center",4,"ngIf"],["class","spiner-loading",4,"ngIf"],[3,"click"],["size","12","size-sm","6"],[3,"routerLink"],["align-items-center",""],["size","4"],[1,"ion-padding"],["src","/assets/icon/pond.svg",1,"l-icon",3,"color"],["size","8"],[4,"ngIf"],[1,"sm-text"],[1,"ion-padding","ion-text-center"],["id","expert0"],["color","medium"],[1,"spiner-loading"],["name","dots"]],template:function(t,n){1&t&&(p.TgZ(0,"ion-header"),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-buttons",0),p._UZ(3,"ion-menu-button"),p.qZA(),p.TgZ(4,"ion-title"),p._uU(5),p.ALo(6,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(7,"ion-content"),p.YNc(8,h,5,7,"ion-card",1),p.TgZ(9,"ion-grid"),p.TgZ(10,"ion-row"),p.YNc(11,T,14,5,"ion-col",2),p.qZA(),p.qZA(),p.YNc(12,q,5,3,"div",3),p.YNc(13,_,2,0,"div",4),p.qZA()),2&t&&(p.xp6(5),p.Oqu(p.lcZ(6,5,"EXPERT")),p.xp6(3),p.Q6J("ngIf",n.invationsNumber>0),p.xp6(3),p.Q6J("ngForOf",n.acceptanceList),p.xp6(1),p.Q6J("ngIf",0==n.acceptanceList.length&&n.loadingFlag.result),p.xp6(1),p.Q6J("ngIf",n.loadingFlag.pending))},directives:[c.Gu,c.sr,c.Sm,c.fG,c.wd,c.W2,e.O5,c.jY,c.Nd,e.sg,c.PM,c.FN,c.wI,c.YI,o.rH,c.gu,c.Zi,c.tO,c.gZ,c.yW,c.PQ],pipes:[d.X$,e.JJ],styles:[".l-icon[_ngcontent-%COMP%]{font-size:5em}"]}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[l.$],imports:[[e.ez,s.u5,c.Pc,o.Bz.forChild(v),d.aw.forChild()]]}),t})()},27887:function(t,n,i){i.d(n,{E:function(){return e}});class e{constructor(){this.start=null,this.end=null,this.pending=null,this.result=null,this.count=0}setStart(t){this.start=t,!0===t&&(this.pending=!0,this.end=!1),this.result=null,this.count++}setPending(t){this.pending=t,!1===t?this.start=!1:this.end=!0}setResult(t){this.result=t,this.pending=!1,this.start=!1,this.end=!0}}}}]);