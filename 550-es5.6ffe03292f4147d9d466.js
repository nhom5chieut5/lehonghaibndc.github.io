!function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[550],{30550:function(t,e,i){i.r(e),i.d(e,{StoreLogDetailPageModule:function(){return h}});var o,r=i(38583),a=i(90665),s=i(47063),c=i(13619),u=i(31786),l=i(37716),d=[{path:"",component:u.B}],f=((o=function t(){n(this,t)}).\u0275fac=function(t){return new(t||o)},o.\u0275mod=l.oAB({type:o}),o.\u0275inj=l.cJS({imports:[[c.Bz.forChild(d)],c.Bz]}),o),h=function(){var t=function t(){n(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[r.ez,a.u5,s.Pc,f]]}),t}()},31786:function(t,i,o){o.d(i,{B:function(){return m}});var r=o(64762),a=o(22923),s=o(37716),c=o(47063),u=o(84465),l=o(81780),d=o(38583),f=o(13619);function h(t,e){if(1&t){var n=s.EpF();s.TgZ(0,"ion-button",8),s.NdJ("click",function(){var t=s.CHM(n).$implicit;return s.oxw(2).openConfirm(t.key)}),s._uU(1),s.qZA()}if(2&t){var i=e.$implicit,o=s.oxw(2);s.Q6J("fill",i.key==o.item.infor.status?"solid":"outline"),s.xp6(1),s.Oqu(i.value)}}function g(t,e){if(1&t){var n=s.EpF();s.TgZ(0,"ion-list"),s.TgZ(1,"ion-item",5),s.NdJ("click",function(){s.CHM(n);var t=s.oxw();return t.modalController.dismiss(t.flagLoad)}),s.TgZ(2,"ion-text"),s._uU(3),s.ALo(4,"translate"),s.qZA(),s.TgZ(5,"ion-text",6),s._uU(6),s.qZA(),s.qZA(),s.TgZ(7,"ion-item",5),s.NdJ("click",function(){s.CHM(n);var t=s.oxw();return t.modalController.dismiss(t.flagLoad)}),s.TgZ(8,"ion-text"),s._uU(9),s.ALo(10,"translate"),s.qZA(),s.TgZ(11,"ion-text",6),s._uU(12),s.qZA(),s.qZA(),s.TgZ(13,"ion-item"),s.TgZ(14,"ion-text"),s._uU(15),s.qZA(),s.TgZ(16,"ion-text",6),s._uU(17),s.ALo(18,"date"),s.qZA(),s.qZA(),s.TgZ(19,"ion-item"),s.TgZ(20,"ion-text"),s._uU(21),s.ALo(22,"translate"),s.qZA(),s.TgZ(23,"ion-text",6),s._uU(24),s.qZA(),s.qZA(),s.TgZ(25,"ion-item"),s.TgZ(26,"ion-text"),s._uU(27),s.ALo(28,"translate"),s.qZA(),s.TgZ(29,"ion-text",6),s._uU(30),s.qZA(),s.qZA(),s.TgZ(31,"ion-item"),s.TgZ(32,"ion-text"),s._uU(33),s.ALo(34,"translate"),s.qZA(),s.TgZ(35,"ion-text",6),s._uU(36),s.qZA(),s.qZA(),s.TgZ(37,"ion-item"),s.YNc(38,h,2,2,"ion-button",7),s.ALo(39,"keyvalue"),s.qZA(),s.qZA()}if(2&t){var i=s.oxw();s.xp6(1),s.MGl("routerLink","/store/",i.item.warehouse.code,""),s.xp6(2),s.hij(" ",s.lcZ(4,15,"STORE")," "),s.xp6(3),s.hij(" ",i.item.warehouse.name," "),s.xp6(1),s.MGl("routerLink","/pond/",i.item.pond.code,""),s.xp6(2),s.hij(" ",s.lcZ(10,17,"POND")," "),s.xp6(3),s.hij(" ",i.item.pond.name," "),s.xp6(3),s.hij(" ",i.item.infor.user_name," "),s.xp6(2),s.hij(" ",s.xi3(18,19,1e3*i.item.infor.time,"HH:mm dd-MM-YYYY")," "),s.xp6(4),s.hij(" ",s.lcZ(22,22,"DEVICE_MOD.STATUS")," "),s.xp6(3),s.hij(" ","export"==i.item.infor.mod?"Xu\u1ea5t":"Nh\u1eadp l\u1ea1i"," "),s.xp6(3),s.hij(" ",s.lcZ(28,24,"POND_MOD.PRODUCT")," "),s.xp6(3),s.hij(" ",i.item.infor.product_name," "),s.xp6(3),s.hij(" ",s.lcZ(34,26,"NOTE")," "),s.xp6(3),s.hij(" ",i.item.infor.note," "),s.xp6(2),s.Q6J("ngForOf",s.lcZ(39,28,i.obStatus))}}var p,m=((p=function(){function t(e,i,o,r,a){n(this,t),this.modalController=e,this.storeService=i,this.toastService=o,this.translate=r,this.alertController=a,this.obStatus={pending:"Ch\u1edd x\u1eed l\xfd",confirm:"\u0110\xe3 x\xe1c nh\u1eadn",reject:"Sai ph\u1ea1m"},this.flagLoad=!1}return e(t,[{key:"ngOnInit",value:function(){console.log(this.data),this.getDetail()}},{key:"getDetail",value:function(){var t=this;this.storeService.getApiStore("get","&id="+this.data.id+"&fcode="+this.storeService.getFarmCode(),"manager/warehouse-daily-api").subscribe(function(e){1==e.status?t.item=e.data:t.toastService.warning(e.error)},function(){t.toastService.danger(t.translate.instant("ERROR_CONNECT"))})}},{key:"openConfirm",value:function(t){return(0,r.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({cssClass:"my-custom-class",header:this.translate.instant("NOTE"),inputs:[{name:"note",id:"note",type:"textarea",placeholder:this.translate.instant("NOTE")}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"Ok",handler:function(e){console.log(e),n.storeService.sendPost("confirm",{status:t,note:e.note},"&id="+n.data.id+"&fcode="+n.storeService.getFarmCode(),"manager/warehouse-daily-api").subscribe(function(i){1==i.status?(n.toastService.success(n.translate.instant("WALL.UPDATE_SUCCESS")),n.item.infor.status=t,n.item.infor.note=e.note,n.flagLoad=!0):n.toastService.warning(i.error)},function(){n.toastService.danger(n.translate.instant("ERROR_CONNECT"))})}}]});case 2:return e.next=4,e.sent.present();case 4:case"end":return e.stop()}},e,this)}))}}]),t}()).\u0275fac=function(t){return new(t||p)(s.Y36(c.IN),s.Y36(a.d),s.Y36(u.k),s.Y36(l.sK),s.Y36(c.Br))},p.\u0275cmp=s.Xpm({type:p,selectors:[["app-store-log-detail"]],inputs:{data:"data"},decls:10,vars:4,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],[1,"ion-padding"],[4,"ngIf"],["detail","",3,"routerLink","click"],["slot","end"],[3,"fill","click",4,"ngFor","ngForOf"],[3,"fill","click"]],template:function(t,e){1&t&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar"),s.TgZ(2,"ion-buttons",0),s.TgZ(3,"ion-button",1),s.NdJ("click",function(){return e.modalController.dismiss(e.flagLoad)}),s._UZ(4,"ion-icon",2),s.qZA(),s.qZA(),s.TgZ(5,"ion-title"),s._uU(6),s.ALo(7,"translate"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"ion-content",3),s.YNc(9,g,40,30,"ion-list",4),s.qZA()),2&t&&(s.xp6(6),s.Oqu(s.lcZ(7,2,"SHOP.DETAIL")),s.xp6(3),s.Q6J("ngIf",e.item))},directives:[c.Gu,c.sr,c.Sm,c.YG,c.gu,c.wd,c.W2,d.O5,c.q_,c.Ie,c.YI,f.rH,c.yW,d.sg],pipes:[l.X$,d.uU,d.Nd],styles:[""]}),p)},22923:function(t,i,o){o.d(i,{d:function(){return l}});var r,a=o(88002),s=o(26215),c=o(15189),u=o(37716),l=((r=function(){function t(e){n(this,t),this.reqAPIService=e,this.urlApi="/manager/store-api-mobie",this.NEW_URL_API="/manager/warehouse-api",this.changeDataStore=!1,this.onLoaded$=new s.X(0)}return e(t,[{key:"destroy",value:function(){this.fcode=null,this.store=null}},{key:"setFarmCode",value:function(t){this.fcode=t}},{key:"getFarmCode",value:function(){return this.fcode}},{key:"setStoreCode",value:function(t){this.wcode=t}},{key:"getStoreCode",value:function(){return this.wcode}},{key:"setStore",value:function(t){this.store=t}},{key:"getStore",value:function(){return this.store}},{key:"itemChanged",value:function(t,e){void 0!==this.store[t]&&Object.assign(this.store[t],e)}},{key:"getApiStore",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t=""===i?this.NEW_URL_API+"?action="+e+"&wcode="+this.wcode+n:"/".concat(i,"?action=")+e+n,this.reqAPIService.get(t).pipe((0,a.U)(function(t){return t}))}},{key:"sendPost",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return t=""===o?this.NEW_URL_API+"?action="+e+"&wcode="+this.wcode+i:"/".concat(o,"?action=")+e+i,this.reqAPIService.post(t,n).pipe((0,a.U)(function(t){return t}))}},{key:"sendPostWithFile",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.reqAPIService.postApiWithFile(t,e,"&wcode="+this.wcode+n,this.NEW_URL_API)}},{key:"postEdit",value:function(t,e){return this.reqAPIService.post(this.urlApi+"?action=edit-product-private&fcode="+this.fcode+"&id="+t,e)}}]),t}()).\u0275fac=function(t){return new(t||r)(u.LFG(c.$))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)}}])}();