"use strict";(self.webpackChunkFarmext2=self.webpackChunkFarmext2||[]).push([[7146],{76329:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(13409),r=i(25639),a=function(t){function e(e){var i=t.call(this)||this;return i._value=e,i}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var i=t.prototype._subscribe.call(this,e);return i&&!i.closed&&e.next(this._value),i},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(s.Subject);e.BehaviorSubject=a},13409:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(93576),r=i(67241),a=i(43984),c=i(25639),l=i(45298),u=i(81476),p=function(t){function e(e){var i=t.call(this,e)||this;return i.destination=e,i}return o(e,t),e}(r.Subscriber);e.SubjectSubscriber=p;var d=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return o(e,t),e.prototype[u.rxSubscriber]=function(){return new p(this)},e.prototype.lift=function(t){var e=new g(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,i=e.length,n=e.slice(),o=0;o<i;o++)n[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,i=e.length,n=e.slice(),o=0;o<i;o++)n[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,i=t.slice(),n=0;n<e;n++)i[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(t.complete(),a.Subscription.EMPTY):(this.observers.push(t),new l.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new s.Observable;return t.source=this,t},e.create=function(t,e){return new g(t,e)},e}(s.Observable);e.Subject=d;var g=function(t){function e(e,i){var n=t.call(this)||this;return n.destination=e,n.source=i,n}return o(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.Subscription.EMPTY},e}(d);e.AnonymousSubject=g},45298:function(t,e,i){var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e,i){var n=t.call(this)||this;return n.subject=e,n.subscriber=i,n.closed=!1,n}return o(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}},e}(i(43984).Subscription);e.SubjectSubscription=s},25639:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}();e.ObjectUnsubscribedError=i},41301:function(t,e,i){i.r(e),i.d(e,{CompanyPageModule:function(){return Xt}});var n=i(38583),o=i(90665),s=i(13619),r=i(47063),a=i(64762),c=i(27887),l=i(26164),u=i(37716),p=i(84465),d=i(81780);function g(t,e){1&t&&(u.TgZ(0,"div",6),u._UZ(1,"ion-spinner",7),u.qZA())}function Z(t,e){if(1&t&&(u.TgZ(0,"ion-item"),u.TgZ(1,"ion-label"),u.TgZ(2,"h2"),u._uU(3),u.ALo(4,"date"),u.TgZ(5,"b"),u._uU(6),u.qZA(),u.qZA(),u.TgZ(7,"h3"),u._uU(8),u.qZA(),u.qZA(),u.qZA()),2&t){const t=e.$implicit;u.xp6(3),u.hij("",u.lcZ(4,3,1e3*t.time)," "),u.xp6(3),u.Oqu(t.user_name),u.xp6(2),u.Oqu(t.title)}}function A(t,e){if(1&t&&(u.TgZ(0,"ion-list"),u.YNc(1,Z,9,5,"ion-item",8),u.qZA()),2&t){const t=u.oxw();u.xp6(1),u.Q6J("ngForOf",t.listLog)}}let h=(()=>{class t{constructor(t,e,i,n,o,s){this.modalController=t,this.navParams=e,this.companyService=i,this.toastService=n,this.alertController=o,this.translate=s,this.loadingFlag=new c.E,this.listLog=[]}ngOnInit(){this.id=this.navParams.get("id"),this.getList()}getList(){this.loadingFlag.setPending(!0),this.companyService.loadLog(this.id).pipe().subscribe(t=>{0==t.status?(this.toastService.warning(t.error),this.loadingFlag.setResult(!1)):(this.listLog=t.data,this.loadingFlag.setResult(!0))},t=>{this.toastService.danger(this.translate.instant("ERROR_CONNECT")),this.loadingFlag.setResult(!1)})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(r.IN),u.Y36(r.X1),u.Y36(l.J),u.Y36(p.k),u.Y36(r.Br),u.Y36(d.sK))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-company-report"]],inputs:{id:"id"},decls:11,vars:5,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["fullscreen",""],["class","spiner-loading",4,"ngIf"],[4,"ngIf"],[1,"spiner-loading"],["name","dots"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u.TgZ(3,"ion-button",1),u.NdJ("click",function(){return e.modalController.dismiss(!1)}),u._UZ(4,"ion-icon",2),u.qZA(),u.qZA(),u.TgZ(5,"ion-title"),u._uU(6),u.ALo(7,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"ion-content",3),u.YNc(9,g,2,0,"div",4),u.YNc(10,A,2,1,"ion-list",5),u.qZA()),2&t&&(u.xp6(6),u.Oqu(u.lcZ(7,3,"COMPANY_MOD.TODO")),u.xp6(3),u.Q6J("ngIf",e.loadingFlag.pending),u.xp6(1),u.Q6J("ngIf",e.loadingFlag.result))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.wd,r.W2,n.O5,r.PQ,r.q_,n.sg,r.Ie,r.Q$],pipes:[d.X$,n.uU],styles:[""]}),t})();var m=i(75853);function O(t,e){if(1&t&&(u.TgZ(0,"ion-text",11),u.TgZ(1,"small"),u._uU(2),u.qZA(),u.qZA()),2&t){const t=u.oxw();u.xp6(2),u.Oqu(t.message)}}function _(t,e){1&t&&(u.TgZ(0,"span"),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"COMPANY_MOD.CONFIRM")))}function q(t,e){1&t&&u._UZ(0,"ion-spinner",12)}let f=(()=>{class t{constructor(t,e,i,n){this.modalController=t,this.toastService=e,this.companyService=i,this.translate=n,this.codeForm=new o.cw({code:new o.NI("",o.kI.required)}),this.checkingFlag=new c.E,this.message=""}ngOnInit(){}submitCode(){this.message="",this.checkingFlag.setStart(!0),this.companyService.registerCode(this.codeForm.value).pipe().subscribe(t=>{1==t.status?this.modalController.dismiss(!0):this.message=t.message.replace("[2]",""),this.checkingFlag.setResult(!0)},()=>{this.checkingFlag.setResult(!1),this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(r.IN),u.Y36(p.k),u.Y36(l.J),u.Y36(d.sK))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-package-code-input"]],decls:25,vars:12,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],[3,"formGroup"],["formControlName","code",1,"code-input",3,"placeholder"],["color","danger",4,"ngIf"],[1,"ion-justify-content-center"],[1,"ion-text-center"],["shape","round","size","default","fill","clear",3,"disabled","click"],[4,"ngIf"],["name","dots",4,"ngIf"],["color","danger"],["name","dots"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u.TgZ(3,"ion-button",1),u.NdJ("click",function(){return e.modalController.dismiss()}),u._UZ(4,"ion-icon",2),u.qZA(),u.qZA(),u.TgZ(5,"ion-title"),u._uU(6),u.ALo(7,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"ion-content"),u.TgZ(9,"ion-card"),u.TgZ(10,"ion-card-header"),u.TgZ(11,"p"),u._uU(12),u.ALo(13,"translate"),u.qZA(),u.qZA(),u.TgZ(14,"ion-card-content"),u.TgZ(15,"form",3),u._UZ(16,"ion-input",4),u.qZA(),u.YNc(17,O,3,1,"ion-text",5),u.qZA(),u.TgZ(18,"ion-grid"),u.TgZ(19,"ion-row",6),u.TgZ(20,"ion-col"),u.TgZ(21,"div",7),u.TgZ(22,"ion-button",8),u.NdJ("click",function(){return e.submitCode()}),u.YNc(23,_,3,3,"span",9),u.YNc(24,q,1,0,"ion-spinner",10),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(6),u.Oqu(u.lcZ(7,8,"COMPANY_MOD.PACKAGE_INPUT_TITLE")),u.xp6(6),u.Oqu(u.lcZ(13,10,"COMPANY_MOD.UPGRADE_CODE")),u.xp6(3),u.Q6J("formGroup",e.codeForm),u.xp6(1),u.Q6J("placeholder",e.translate.instant("COMPANY_MOD.ENTER_CODE")),u.xp6(1),u.Q6J("ngIf",e.message),u.xp6(5),u.Q6J("disabled",e.codeForm.invalid||e.checkingFlag.pending),u.xp6(1),u.Q6J("ngIf",!e.checkingFlag.pending),u.xp6(1),u.Q6J("ngIf",e.checkingFlag.pending))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.wd,r.W2,r.PM,r.Zi,r.FN,o._Y,o.JL,o.sg,r.pK,r.j9,o.JJ,o.u,n.O5,r.jY,r.Nd,r.wI,r.yW,r.PQ],pipes:[d.X$],styles:[""]}),t})();var T=i(73532);function M(t,e){if(1&t&&(u.TgZ(0,"ion-card",11),u.TgZ(1,"ion-card-header"),u.TgZ(2,"ion-card-subtitle"),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.TgZ(5,"ion-card-title"),u._uU(6),u.qZA(),u.qZA(),u.TgZ(7,"ion-card-content"),u.TgZ(8,"ion-list",12),u.TgZ(9,"ion-item",13),u.TgZ(10,"ion-label"),u._uU(11),u.ALo(12,"translate"),u.qZA(),u.TgZ(13,"span",3),u._uU(14),u.qZA(),u.qZA(),u.TgZ(15,"ion-item",13),u.TgZ(16,"ion-label"),u._uU(17),u.ALo(18,"translate"),u.qZA(),u.TgZ(19,"span",3),u._uU(20),u.ALo(21,"date"),u.ALo(22,"translate"),u.qZA(),u.qZA(),u.TgZ(23,"ion-item",13),u.TgZ(24,"ion-label"),u._uU(25),u.ALo(26,"translate"),u.qZA(),u.TgZ(27,"span",3),u._uU(28),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t){const t=u.oxw();u.xp6(3),u.Oqu(u.lcZ(4,8,"COMPANY_MOD.PROCESSING")),u.xp6(3),u.Oqu(t.waitingOrder.name),u.xp6(5),u.Oqu(u.lcZ(12,10,"COMPANY_MOD.CODE")),u.xp6(3),u.hij("#",t.waitingOrder.code,""),u.xp6(3),u.Oqu(u.lcZ(18,12,"COMPANY_MOD.DATE")),u.xp6(3),u.Oqu(u.xi3(21,14,1e3*t.waitingOrder.request_time,u.lcZ(22,17,"FORMAT_DATE"))),u.xp6(5),u.Oqu(u.lcZ(26,19,"COMPANY_MOD.STATUS")),u.xp6(3),u.Oqu(t.waitingOrder.status)}}function N(t,e){1&t&&(u.TgZ(0,"ion-button",20),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"COMPANY_MOD.FREE")))}function x(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-button",21),u.NdJ("click",function(){return u.CHM(t),u.oxw(3).showRenewal()}),u._uU(1),u.ALo(2,"translate"),u.qZA()}2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"COMPANY_MOD.RENEW")))}function C(t,e){if(1&t&&(u.TgZ(0,"div",17),u.YNc(1,N,3,3,"ion-button",18),u.YNc(2,x,3,3,"ion-button",19),u.qZA()),2&t){const t=u.oxw().$implicit;u.xp6(1),u.Q6J("ngIf",0==t.current.id),u.xp6(1),u.Q6J("ngIf",0!=t.current.id)}}function v(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-list",12),u.TgZ(1,"ion-list-header"),u.TgZ(2,"ion-label"),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.qZA(),u.TgZ(5,"ion-item",13),u.TgZ(6,"ion-label"),u._uU(7),u.ALo(8,"translate"),u.qZA(),u.TgZ(9,"ion-select",22),u.TgZ(10,"ion-select-option",23),u._uU(11),u.ALo(12,"translate"),u.qZA(),u.TgZ(13,"ion-select-option",24),u._uU(14),u.ALo(15,"translate"),u.qZA(),u.TgZ(16,"ion-select-option",25),u._uU(17),u.ALo(18,"translate"),u.qZA(),u.TgZ(19,"ion-select-option",26),u._uU(20),u.ALo(21,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(22,"ion-item",13),u.TgZ(23,"ion-label"),u._uU(24),u.ALo(25,"translate"),u.qZA(),u.TgZ(26,"span",3),u._uU(27),u.ALo(28,"number"),u.ALo(29,"translate"),u.qZA(),u.qZA(),u.TgZ(30,"ion-item",13),u.TgZ(31,"ion-label"),u._uU(32),u.ALo(33,"translate"),u.qZA(),u.TgZ(34,"span",3),u.TgZ(35,"ion-text",27),u._uU(36),u.ALo(37,"number"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(38,"ion-item",13),u.TgZ(39,"ion-label"),u._uU(40),u.ALo(41,"translate"),u.qZA(),u.TgZ(42,"span",3),u.TgZ(43,"ion-text",28),u._uU(44),u.ALo(45,"number"),u.qZA(),u._uU(46),u.ALo(47,"translate"),u.qZA(),u.qZA(),u.TgZ(48,"ion-item",13),u.TgZ(49,"ion-button",29),u.NdJ("click",function(){return u.CHM(t),u.oxw(2).renewalShow=!1}),u._uU(50),u.ALo(51,"translate"),u.qZA(),u.TgZ(52,"ion-button",30),u.NdJ("click",function(){return u.CHM(t),u.oxw(2).renewPackage()}),u._uU(53),u.ALo(54,"translate"),u.qZA(),u.qZA(),u.qZA()}if(2&t){const t=u.oxw().$implicit,e=u.oxw();u.xp6(3),u.Oqu(u.lcZ(4,19,"COMPANY_MOD.RENEW")),u.xp6(4),u.Oqu(u.lcZ(8,21,"COMPANY_MOD.QUANTITY")),u.xp6(2),u.Q6J("placeholder",e.translate.instant("COMPANY_MOD.SELECT"))("formControl",e.timeRenew),u.xp6(2),u.hij("1 ",u.lcZ(12,23,"COMPANY_MOD.YEAR"),""),u.xp6(3),u.hij("2 ",u.lcZ(15,25,"COMPANY_MOD.YEARS"),""),u.xp6(3),u.hij("3 ",u.lcZ(18,27,"COMPANY_MOD.YEARS"),""),u.xp6(3),u.hij("5 ",u.lcZ(21,29,"COMPANY_MOD.YEARS"),""),u.xp6(4),u.Oqu(u.lcZ(25,31,"COMPANY_MOD.PRICE")),u.xp6(3),u.AsE("",u.xi3(28,33,t.price,"1.0")," ",u.lcZ(29,36,"CURRENCY_S"),""),u.xp6(5),u.Oqu(u.lcZ(33,38,"COMPANY_MOD.SALE")),u.xp6(4),u.hij("",u.xi3(37,40,100*e.discount,"1.0"),"%"),u.xp6(4),u.Oqu(u.lcZ(41,43,"COMPANY_MOD.PAY")),u.xp6(4),u.hij("",u.xi3(45,45,t.price*(1-e.discount)*e.timeRenew.value,"1.0")," "),u.xp6(2),u.hij(" ",u.lcZ(47,48,"CURRENCY_S")," "),u.xp6(4),u.hij(" ",u.lcZ(51,50,"OPTION.CANCEL"),""),u.xp6(2),u.Q6J("disabled",e.timeRenew.invalid),u.xp6(1),u.hij(" ",u.lcZ(54,52,"COMPANY_MOD.RENEW"),"")}}function P(t,e){if(1&t&&(u.TgZ(0,"ion-card",14),u.TgZ(1,"ion-card-header"),u.TgZ(2,"ion-card-subtitle"),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.TgZ(5,"ion-card-title"),u._uU(6),u.qZA(),u.qZA(),u.TgZ(7,"ion-card-content"),u.TgZ(8,"ion-list",12),u.TgZ(9,"ion-item",13),u.TgZ(10,"ion-label"),u._uU(11),u.ALo(12,"translate"),u.qZA(),u.TgZ(13,"span",3),u._uU(14),u.qZA(),u.qZA(),u.TgZ(15,"ion-item",13),u.TgZ(16,"ion-label"),u._uU(17),u.ALo(18,"translate"),u.qZA(),u.TgZ(19,"span",3),u._uU(20),u.qZA(),u.qZA(),u.TgZ(21,"ion-item",13),u.TgZ(22,"ion-label"),u._uU(23),u.ALo(24,"translate"),u.qZA(),u.TgZ(25,"span",3),u._uU(26),u.qZA(),u.qZA(),u.qZA(),u.YNc(27,C,3,2,"div",15),u.YNc(28,v,55,54,"ion-list",16),u.qZA(),u.qZA()),2&t){const t=e.$implicit,i=u.oxw();u.xp6(3),u.Oqu(u.lcZ(4,12,"COMPANY_MOD.USING")),u.xp6(3),u.Oqu(t.name),u.xp6(5),u.Oqu(u.lcZ(12,14,"COMPANY_MOD.FARM")),u.xp6(3),u.AsE("",t.current.used.farm_quantity,"/",t.farm_quantity,""),u.xp6(3),u.Oqu(u.lcZ(18,16,"COMPANY_MOD.POND")),u.xp6(3),u.AsE("",t.current.used.pond_quantity,"/",t.pond_quantity,""),u.xp6(3),u.Oqu(u.lcZ(24,18,"COMPANY_MOD.DAYS_LEFT")),u.xp6(3),u.Oqu(t.current.days_end),u.xp6(1),u.Q6J("ngIf",!i.waitingOrder&&!i.renewalShow),u.xp6(1),u.Q6J("ngIf",i.renewalShow)}}function U(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"div",17),u.TgZ(1,"ion-button",21),u.NdJ("click",function(){u.CHM(t);const e=u.oxw().index;return u.oxw().showUprage(e)}),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.qZA()}2&t&&(u.xp6(2),u.Oqu(u.lcZ(3,1,"COMPANY_MOD.UPGRADE")))}function b(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-list",12),u.TgZ(1,"ion-list-header"),u.TgZ(2,"ion-label"),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.qZA(),u.TgZ(5,"ion-item"),u.TgZ(6,"ion-label"),u._uU(7),u.ALo(8,"translate"),u.qZA(),u.TgZ(9,"ion-select",22),u.TgZ(10,"ion-select-option",23),u._uU(11),u.ALo(12,"translate"),u.qZA(),u.TgZ(13,"ion-select-option",24),u._uU(14),u.ALo(15,"translate"),u.qZA(),u.TgZ(16,"ion-select-option",25),u._uU(17),u.ALo(18,"translate"),u.qZA(),u.TgZ(19,"ion-select-option",26),u._uU(20),u.ALo(21,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(22,"ion-item"),u.TgZ(23,"ion-label"),u._uU(24),u.ALo(25,"translate"),u.qZA(),u.TgZ(26,"span",3),u._uU(27),u.ALo(28,"number"),u.ALo(29,"translate"),u.qZA(),u.qZA(),u.TgZ(30,"ion-item"),u.TgZ(31,"ion-label"),u._uU(32),u.ALo(33,"translate"),u.qZA(),u.TgZ(34,"span",3),u.TgZ(35,"ion-text",27),u._uU(36),u.ALo(37,"number"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(38,"ion-item"),u.TgZ(39,"ion-label"),u._uU(40),u.ALo(41,"translate"),u.qZA(),u.TgZ(42,"span",3),u._uU(43),u.ALo(44,"number"),u.ALo(45,"translate"),u.qZA(),u.qZA(),u.TgZ(46,"ion-item"),u.TgZ(47,"ion-label"),u._uU(48),u.ALo(49,"translate"),u.qZA(),u.TgZ(50,"span",3),u.TgZ(51,"ion-text",28),u._uU(52),u.ALo(53,"number"),u.qZA(),u._uU(54),u.ALo(55,"translate"),u.qZA(),u.qZA(),u.TgZ(56,"ion-item"),u.TgZ(57,"ion-button",29),u.NdJ("click",function(){u.CHM(t);const e=u.oxw().index;return u.oxw().uprageShow[e]=!1}),u._uU(58),u.ALo(59,"translate"),u.qZA(),u.TgZ(60,"ion-button",30),u.NdJ("click",function(){u.CHM(t);const e=u.oxw().$implicit;return u.oxw().upgradePackage(e)}),u._uU(61),u.ALo(62,"translate"),u.qZA(),u.qZA(),u.qZA()}if(2&t){const t=u.oxw().$implicit,e=u.oxw();u.xp6(3),u.Oqu(u.lcZ(4,22,"COMPANY_MOD.UPGRADE")),u.xp6(4),u.Oqu(u.lcZ(8,24,"COMPANY_MOD.QUANTITY")),u.xp6(2),u.Q6J("placeholder",e.translate.instant("COMPANY_MOD.SELECT"))("formControl",e.timeUprage),u.xp6(2),u.hij("1 ",u.lcZ(12,26,"COMPANY_MOD.YEAR"),""),u.xp6(3),u.hij("2 ",u.lcZ(15,28,"COMPANY_MOD.YEARS"),""),u.xp6(3),u.hij("3 ",u.lcZ(18,30,"COMPANY_MOD.YEARS"),""),u.xp6(3),u.hij("5 ",u.lcZ(21,32,"COMPANY_MOD.YEARS"),""),u.xp6(4),u.Oqu(u.lcZ(25,34,"COMPANY_MOD.PRICE")),u.xp6(3),u.AsE("",u.xi3(28,36,t.price,"1.0")," ",u.lcZ(29,39,"CURRENCY_S"),""),u.xp6(5),u.Oqu(u.lcZ(33,41,"COMPANY_MOD.SALE")),u.xp6(4),u.hij("",u.xi3(37,43,100*e.discount,"1.0"),"%"),u.xp6(4),u.Oqu(u.lcZ(41,46,"COMPANY_MOD.PRICE_LEFT")),u.xp6(3),u.AsE("",u.xi3(44,48,t.moneyleft,"1.0")," ",u.lcZ(45,51,"CURRENCY_S"),""),u.xp6(5),u.Oqu(u.lcZ(49,53,"COMPANY_MOD.HAVE_TO_PAY")),u.xp6(4),u.Oqu(u.xi3(53,55,t.price*(1-e.discount)*e.timeUprage.value-t.moneyleft,"1.0")),u.xp6(2),u.hij(" ",u.lcZ(55,58,"CURRENCY_S")," "),u.xp6(4),u.hij(" ",u.lcZ(59,60,"OPTION.CANCEL"),""),u.xp6(2),u.Q6J("disabled",e.timeUprage.invalid),u.xp6(1),u.Oqu(u.lcZ(62,62,"COMPANY_MOD.UPGRADE"))}}function Y(t,e){if(1&t&&(u.TgZ(0,"ion-card",31),u.TgZ(1,"ion-card-header"),u.TgZ(2,"ion-card-subtitle"),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.TgZ(5,"ion-card-title"),u._uU(6),u.qZA(),u.qZA(),u.TgZ(7,"ion-card-content"),u.TgZ(8,"ion-list",12),u.TgZ(9,"ion-item"),u.TgZ(10,"ion-label"),u._uU(11),u.ALo(12,"translate"),u.qZA(),u.TgZ(13,"span",3),u._uU(14),u.qZA(),u.qZA(),u.TgZ(15,"ion-item"),u.TgZ(16,"ion-label"),u._uU(17),u.ALo(18,"translate"),u.qZA(),u.TgZ(19,"span",3),u._uU(20),u.qZA(),u.qZA(),u.TgZ(21,"ion-item"),u.TgZ(22,"ion-label"),u._uU(23),u.ALo(24,"translate"),u.qZA(),u.TgZ(25,"span",3),u._uU(26),u.ALo(27,"number"),u.ALo(28,"translate"),u.qZA(),u.qZA(),u.qZA(),u.YNc(29,U,4,3,"div",15),u.YNc(30,b,63,64,"ion-list",16),u.qZA(),u.qZA()),2&t){const t=e.$implicit,i=e.index,n=u.oxw();u.xp6(3),u.Oqu(u.lcZ(4,11,"COMPANY_MOD.UPGRADE_SUGGEST")),u.xp6(3),u.Oqu(t.name),u.xp6(5),u.Oqu(u.lcZ(12,13,"COMPANY_MOD.FARM")),u.xp6(3),u.Oqu(t.farm_quantity),u.xp6(3),u.Oqu(u.lcZ(18,15,"COMPANY_MOD.POND")),u.xp6(3),u.Oqu(t.pond_quantity),u.xp6(3),u.Oqu(u.lcZ(24,17,"COMPANY_MOD.UNIT")),u.xp6(3),u.AsE("",u.xi3(27,19,t.price/12,".0-0")," ",u.lcZ(28,22,"CURRENCY_S"),""),u.xp6(3),u.Q6J("ngIf",!n.waitingOrder&&!n.uprageShow[i]),u.xp6(1),u.Q6J("ngIf",n.uprageShow[i])}}let y=(()=>{class t{constructor(t,e,i,n,s,r,a,l){this.modalController=t,this.companyService=e,this.toastService=i,this.alertController=n,this.translate=s,this.packageService=r,this.iap2=a,this.platform=l,this.timeRenew=new o.NI("",o.kI.required),this.timeUprage=new o.NI("",o.kI.required),this.loadingFlag=new c.E,this.renewalShow=!1,this.uprageShow=[!1,!1,!1,!1,!1],this.defaultProductId=["packagebasic","packagestandard","packagepro"],this.maxYear=[0,0,0],this.periods=null,this.discount=0,this.total=0,this.productId="packagebasic",this.timeRenew.valueChanges.subscribe(t=>{this.selectPeriod(t)}),this.timeUprage.valueChanges.subscribe(t=>{this.selectPeriod(t)}),this.platform.ready().then(()=>{this.setup()})}ngOnInit(){this.packageService.packageData?(this.packageList=this.packageService.packageData.package,this.currentOrders=this.packageService.packageData.currentOrder,this.waitingOrder=this.packageService.packageData.waitingOrder):this.companyService.loadPackages().subscribe(t=>{t.error||1!=t.status?this.toastService.warning(t.error):(this.packageService.packageData=t.data,this.packageList=t.data.package,this.currentOrders=t.data.currentOrder,this.waitingOrder=t.data.waitingOrder),this.loadingFlag.setResult(!0)},()=>{this.loadingFlag.setResult(!1)}),this.getPackages()}getPackages(){this.companyService.getPackages().subscribe(t=>{!t.error&&1==t.status&&t.data&&(this.periods=t.data.periods)})}showRenewal(){this.renewalShow=!0,this.uprageShow.fill(!1),this.selectPeriod(1)}selectPeriod(t){let e=this.periods.findIndex(e=>e.quantity==t);e>=0&&(this.discount=this.periods[e].discount)}renewPackage(){let t={action:"renew",order_id:this.currentOrders[0].current.id,company_id:this.companyService.company.id,package_no:this.currentOrders[0].id,new_package:this.currentOrders[0].id,period:this.timeRenew.value,platform:"android",orderId:""};t.period<=this.maxYear[t.order_id-1]&&0!=this.maxYear[t.order_id-1]?(console.log("inapp"),this.productId=this.defaultProductId[t.order_id-1]+(t.period>1?t.period.toString()+"years":""),this.platform.ready().then(()=>{this.iap2.verbosity=this.iap2.DEBUG;let e=this.iap2.get(this.productId);console.log("Product Info: "+JSON.stringify(e)),this.registerHandlersForPurchase(this.productId),this.iap2.order(this.productId).then(e=>{e.orderId&&(t.orderId=e.orderId),this.companyService.renewPackage(t).subscribe(t=>{t.error||1!=t.status?this.toastService.warning(t.error):(this.toastService.success(t.message),this.renewalShow=!1),this.loadingFlag.setResult(!0)},t=>{this.loadingFlag.setResult(!1),this.toastService.danger(t)})}).catch(t=>{console.log("Error Ordering From Store"+t)})})):(this.loadingFlag.setPending(!0),this.companyService.renewPackage(t).subscribe(t=>{t.error||1!=t.status?this.toastService.warning(t.error):(this.toastService.success(t.message),this.renewalShow=!1),this.loadingFlag.setResult(!0)},t=>{this.loadingFlag.setResult(!1),this.toastService.danger(t)}))}showUprage(t){this.uprageShow=this.uprageShow.map(t=>!1),console.log(this.uprageShow),this.uprageShow[t]=!0,this.renewalShow=!1,this.selectPeriod(1)}upgradePackage(t){let e={action:"upgrade",order_id:t.id,company_id:this.companyService.company.id,package_no:t.id,new_package:t.id,period:this.timeUprage.value,platform:"android",orderId:""};this.platform.is("ios")&&(e.platform="ios"),e.period<=this.maxYear[e.order_id-1]&&0!=this.maxYear[e.order_id-1]?(console.log("inapp"),this.productId=this.defaultProductId[e.order_id-1]+(e.period>1?e.period.toString()+"years":""),this.platform.ready().then(()=>{this.iap2.verbosity=this.iap2.DEBUG;let t=this.iap2.get(this.productId);console.log("Product Info: "+JSON.stringify(t)),this.registerHandlersForPurchase(this.productId),this.iap2.order(this.productId).then(t=>{t.orderId&&(e.orderId=t.orderId),this.companyService.upgradePackage(e).subscribe(t=>{t.error||1!=t.status?this.toastService.warning(t.error):(this.toastService.success(t.message),this.uprageShow.fill(!1)),this.loadingFlag.setResult(!0)},t=>{this.loadingFlag.setResult(!1),this.toastService.danger(t)})}).catch(t=>{console.log("Error Ordering From Store"+t)})})):(this.loadingFlag.setPending(!0),this.companyService.upgradePackage(e).subscribe(t=>{t.error||1!=t.status?this.toastService.warning(t.error):(this.toastService.success(t.message),this.uprageShow.fill(!1)),this.loadingFlag.setResult(!0)},t=>{this.loadingFlag.setResult(!1),this.toastService.danger(t)}))}presentInputCode(){return(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:f});return t.onDidDismiss().then(t=>{console.log(t),t.data&&this.toastService.danger(this.translate.instant("COMPANY_MOD.UPGRADE_SUCCESS_NOTE"))}),yield t.present()})}setup(){this.iap2.verbosity=this.iap2.DEBUG;let t=this;this.defaultProductId.forEach(function(e,i){for(let n=1;n<=t.maxYear[i];n++)if(4!=n){let i=e+(n>1?n+"years":"");console.log(i),t.iap2.register({id:i,type:t.iap2.NON_RENEWING_SUBSCRIPTION}),t.registerHandlersForPurchase(i)}}),this.iap2.refresh()}checkout(t){try{let e=this.iap2.get(t);console.log("Product Info: "+JSON.stringify(e)),this.iap2.order(t).then(t=>{console.log("Purchase Succesful"+JSON.stringify(t))}).catch(t=>{console.log("Error Ordering From Store"+t)})}catch(e){console.log("Error Ordering "+JSON.stringify(e))}}registerHandlersForPurchase(t){let e=this.iap2;this.iap2.when(t).updated(function(t){t.loaded&&t.valid&&t.state===e.APPROVED&&null!=t.transaction&&t.finish()}),this.iap2.when(t).registered(t=>{console.log(` owned 1 ${t.owned}`)}),this.iap2.when(t).owned(t=>{console.log(` owned 2 ${t.owned}`),t.finish()}),this.iap2.when(t).approved(t=>{console.log("approved"),t.finish()}),this.iap2.when(t).refunded(t=>{console.log("refunded")}),this.iap2.when(t).expired(t=>{console.log("expired")})}ionViewDidEnter(){}test(){this.checkout("packagebasic")}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(r.IN),u.Y36(l.J),u.Y36(p.k),u.Y36(r.Br),u.Y36(d.sK),u.Y36(m.M),u.Y36(T.g),u.Y36(r.t4))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-company-package"]],decls:21,vars:13,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slot","end"],["color","primary",3,"click"],["color","tertiary","mode","ios",4,"ngIf"],["color","light","mode","ios",4,"ngFor","ngForOf"],["mode","ios",4,"ngFor","ngForOf"],[1,"ion-text-center","ion-margin-bottom"],["fill","outline","size","large","routerLink","setting/help",3,"routerDirection","click"],["name","help-circle-outline","slot","start"],["color","tertiary","mode","ios"],["lines","none"],["color","none"],["color","light","mode","ios"],["class","ion-text-center",4,"ngIf"],["lines","none",4,"ngIf"],[1,"ion-text-center"],["disabled","true","shape","round",4,"ngIf"],["shape","round",3,"click",4,"ngIf"],["disabled","true","shape","round"],["shape","round",3,"click"],[3,"placeholder","formControl"],["value","1"],["value","2"],["value","3"],["value","5"],["color","success"],["color","danger"],["size","default","slot","start","shape","round","fill","clear",3,"click"],["size","default","slot","end","shape","round",3,"disabled","click"],["mode","ios"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u.TgZ(3,"ion-button",1),u.NdJ("click",function(){return e.modalController.dismiss()}),u._UZ(4,"ion-icon",2),u.qZA(),u.qZA(),u.TgZ(5,"ion-title"),u._uU(6),u.ALo(7,"translate"),u.qZA(),u.TgZ(8,"ion-buttons",3),u.TgZ(9,"ion-button",4),u.NdJ("click",function(){return e.presentInputCode()}),u._uU(10),u.ALo(11,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"ion-content"),u.YNc(13,M,29,21,"ion-card",5),u.YNc(14,P,29,20,"ion-card",6),u.YNc(15,Y,31,24,"ion-card",7),u.TgZ(16,"div",8),u.TgZ(17,"ion-button",9),u.NdJ("click",function(){return e.modalController.dismiss()}),u._UZ(18,"ion-icon",10),u._uU(19),u.ALo(20,"translate"),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(6),u.Oqu(u.lcZ(7,7,"COMPANY_MOD.PACKAGE")),u.xp6(4),u.Oqu(u.lcZ(11,9,"COMPANY_MOD.PACKAGE_CODE")),u.xp6(3),u.Q6J("ngIf",e.waitingOrder),u.xp6(1),u.Q6J("ngForOf",e.currentOrders),u.xp6(1),u.Q6J("ngForOf",e.packageList),u.xp6(2),u.Q6J("routerDirection","tabs"),u.xp6(2),u.hij(" ",u.lcZ(20,11,"SUPPORT")," "))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.wd,r.W2,n.O5,n.sg,r.YI,s.rH,r.PM,r.Zi,r.tO,r.gZ,r.FN,r.q_,r.Ie,r.Q$,r.yh,r.t9,r.QI,o.JJ,o.oH,r.n0,r.yW],pipes:[d.X$,n.uU,n.JJ],styles:["[_nghost-%COMP%]   ion-list[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]{background:transparent!important;transition:0!important}"]}),t})();var S=i(71239);let D=(()=>{class t{constructor(t,e,i,n,o,s,r){this.modalController=t,this.navParams=e,this.companyService=i,this.toastService=n,this.alertController=o,this.translate=s,this.dbLocalService=r,this.loadingFlag=new c.E}ngOnInit(){this.editCompany=new o.cw({name:new o.NI(this.companyService.company.name,[o.kI.required,o.kI.minLength(3)]),address:new o.NI(this.companyService.company.address,o.kI.required),fullname:new o.NI(this.companyService.company.fullname,o.kI.required),phone:new o.NI(this.companyService.company.phone,o.kI.required),email:new o.NI(this.companyService.company.email,o.kI.required),website:new o.NI(this.companyService.company.website)})}update(){this.editCompany.value.website&&this.editCompany.value.website.length>0&&!this.editCompany.value.website.includes("http")&&this.editCompany.patchValue({website:"http://"+this.editCompany.value.website}),this.companyService.updateInforCompany(this.editCompany.value).pipe().subscribe(t=>{0==t.status?this.toastService.warning(t.error):(this.toastService.success(this.translate.instant("COMPANY_MOD.NOTI_EDIT")),this.companyService.company.name=this.editCompany.value.name,this.companyService.company.address=this.editCompany.value.address,this.companyService.company.fullname=this.editCompany.value.fullname,this.companyService.company.phone=this.editCompany.value.phone,this.companyService.company.email=this.editCompany.value.email,this.companyService.company.website=this.editCompany.value.website,this.dbLocalService.company=this.companyService.company,this.dbLocalService.setLocalData("company",this.dbLocalService.company),this.modalController.dismiss())},t=>{this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(r.IN),u.Y36(r.X1),u.Y36(l.J),u.Y36(p.k),u.Y36(r.Br),u.Y36(d.sK),u.Y36(S.T))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-company-edit"]],decls:43,vars:20,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["slot","end"],["color","primary",3,"disabled","click"],[3,"formGroup"],["lines","inset"],["position","floating"],["formControlName","name"],["placeholder","T\xean \u0111\u1ea7y \u0111\u1ee7","formControlName","fullname"],["placeholder","\u0110\u1ecba ch\u1ec9","formControlName","address"],["placeholder","\u0110i\u1ec7n tho\u1ea1i","formControlName","phone"],["placeholder","Email","formControlName","email"],["placeholder","Website","formControlName","website"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u.TgZ(3,"ion-button",1),u.NdJ("click",function(){return e.modalController.dismiss(!1)}),u._UZ(4,"ion-icon",2),u.qZA(),u.qZA(),u.TgZ(5,"ion-title"),u._uU(6),u.ALo(7,"translate"),u.qZA(),u.TgZ(8,"ion-buttons",3),u.TgZ(9,"ion-button",4),u.NdJ("click",function(){return e.update()}),u._uU(10),u.ALo(11,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"ion-content"),u.TgZ(13,"form",5),u.TgZ(14,"ion-list"),u.TgZ(15,"ion-item",6),u.TgZ(16,"ion-label",7),u._uU(17),u.ALo(18,"translate"),u.qZA(),u._UZ(19,"ion-input",8),u.qZA(),u.TgZ(20,"ion-item",6),u.TgZ(21,"ion-label",7),u._uU(22),u.ALo(23,"translate"),u.qZA(),u._UZ(24,"ion-input",9),u.qZA(),u.TgZ(25,"ion-item",6),u.TgZ(26,"ion-label",7),u._uU(27),u.ALo(28,"translate"),u.qZA(),u._UZ(29,"ion-input",10),u.qZA(),u.TgZ(30,"ion-item",6),u.TgZ(31,"ion-label",7),u._uU(32),u.ALo(33,"translate"),u.qZA(),u._UZ(34,"ion-input",11),u.qZA(),u.TgZ(35,"ion-item",6),u.TgZ(36,"ion-label",7),u._uU(37,"Email"),u.qZA(),u._UZ(38,"ion-input",12),u.qZA(),u.TgZ(39,"ion-item",6),u.TgZ(40,"ion-label",7),u._uU(41,"Website"),u.qZA(),u._UZ(42,"ion-input",13),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(6),u.Oqu(u.lcZ(7,8,"COMPANY_MOD.EDIT")),u.xp6(3),u.Q6J("disabled",e.editCompany.invalid),u.xp6(1),u.Oqu(u.lcZ(11,10,"COMPANY_MOD.SAVE")),u.xp6(3),u.Q6J("formGroup",e.editCompany),u.xp6(4),u.Oqu(u.lcZ(18,12,"COMPANY_MOD.NAME")),u.xp6(5),u.Oqu(u.lcZ(23,14,"COMPANY_MOD.FULL_NAME")),u.xp6(5),u.Oqu(u.lcZ(28,16,"COMPANY_MOD.ADDRESS")),u.xp6(5),u.Oqu(u.lcZ(33,18,"COMPANY_MOD.PHONE")))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.wd,r.W2,o._Y,o.JL,o.sg,r.q_,r.Ie,r.Q$,r.pK,r.j9,o.JJ,o.u],pipes:[d.X$],styles:[""]}),t})();var E=i(3356),w=i(23211);function L(t,e){if(1&t&&(u.TgZ(0,"p"),u._uU(1),u.ALo(2,"translate"),u.ALo(3,"translate"),u.ALo(4,"translate"),u.qZA()),2&t){const t=u.oxw();u.xp6(1),u.xDo("",u.lcZ(2,5,"COMPANY_MOD.PACKAGE")," ",t.curentPackage.name,", ",u.lcZ(3,7,"COMPANY_MOD.REMAINING")," ",t.curentPackage.current.days_end," ",u.lcZ(4,9,"COMPANY_MOD.DAY"),"")}}function I(t,e){1&t&&u._UZ(0,"ion-spinner",19)}let k=(()=>{class t{constructor(t,e,i,n,o,s,r,a,l){this.modalController=t,this.router=e,this.companyService=i,this.toastService=n,this.translate=o,this.tutorialService=s,this.packageService=r,this.alertController=a,this.route=l,this.loadingFlag=new c.E,this.settingChanged=!1}ngOnInit(){this.loadPackages(),this.tutorialService.setStepIndex("company-info",0),this.tutorialService.show("company-info"),this.packageService.check(this.companyService.ccode,"company")}gotoProcedure(){this.modalController.dismiss(),this.router.navigateByUrl("company/"+this.companyService.ccode+"/procedure")}presentPackage(){return(0,a.mG)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:y})).present()})}presentEdit(){return(0,a.mG)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:D})).present()})}presentFarmCreate(){return(0,a.mG)(this,void 0,void 0,function*(){if(!this.packageService.localCheck(this.companyService.ccode,"farm_quantity"))return void this.presentAlertPackage();const t=yield this.modalController.create({component:E.v});return t.onDidDismiss().then(t=>{t.data&&(console.log(t.data),this.settingChanged=!0)}),yield t.present()})}loadPackages(){this.loadingFlag.setStart(!0),this.companyService.loadPackages().subscribe(t=>{t.error||1!=t.status?this.toastService.warning(t.error):(this.packageService.packageData=t.data,t.data.currentOrder&&(this.curentPackage=t.data.currentOrder[0])),this.loadingFlag.setResult(!0)},()=>{this.loadingFlag.setResult(!1)})}presentAlertPackage(){return(0,a.mG)(this,void 0,void 0,function*(){let t;t=this.packageService.checkIsOwner()?yield this.alertController.create({header:this.translate.instant("COMPANY_MOD.UPGRADE"),message:this.translate.instant("COMPANY_MOD.YOU_NEED_UPGRADE_TO CREATE"),buttons:[{text:this.translate.instant("CANCEL"),role:"cancel",cssClass:"secondary"},{text:this.translate.instant("OKAY"),handler:()=>{this.packageService.goToUpgrade()}}]}):yield this.alertController.create({header:this.translate.instant("COMPANY_MOD.UPGRADE"),message:this.translate.instant("COMPANY_MOD.YOU_NEED_UPGRADE_TO CREATE"),buttons:[{text:this.translate.instant("CANCEL"),role:"cancel",cssClass:"secondary"}]}),yield t.present()})}ionViewWillEnter(){let t=this.route.snapshot.paramMap.get("act");console.log(t),"package"===t&&this.presentPackage()}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(r.IN),u.Y36(s.F0),u.Y36(l.J),u.Y36(p.k),u.Y36(d.sK),u.Y36(w.M),u.Y36(m.M),u.Y36(r.Br),u.Y36(s.gz))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-company-info"]],decls:80,vars:36,consts:[["slot","start"],["text","","defaultHref","tabs/management"],[1,"ion-padding","ion-text-center"],["src","assets/icon/build.svg","slot","start"],["name","pin-outline","slot","start"],["name","call-outline","slot","start"],["name","mail-outline","slot","start"],["name","globe-outline","slot","start"],["detail","",3,"click"],["name","basket-outline","slot","start"],[4,"ngIf"],["name","dots",4,"ngIf"],["mode","ios"],["name","options"],["id","company-info0","size","large","expand","block","shape","round","fill","outline",3,"click"],["src","assets/icon/procedure.svg","slot","start"],["size","large","expand","block","shape","round","fill","outline",3,"click"],["name","create-outline","slot","start"],["name","add-circle-outline","slot","start"],["name","dots"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u._UZ(3,"ion-back-button",1),u.qZA(),u.TgZ(4,"ion-title"),u._uU(5),u.ALo(6,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"ion-content"),u.TgZ(8,"div",2),u.TgZ(9,"h1"),u._uU(10),u.qZA(),u.TgZ(11,"span"),u._uU(12),u.qZA(),u.qZA(),u.TgZ(13,"ion-list"),u.TgZ(14,"ion-item"),u._UZ(15,"ion-icon",3),u.TgZ(16,"ion-label"),u.TgZ(17,"h3"),u._uU(18),u.ALo(19,"translate"),u.qZA(),u.TgZ(20,"p"),u._uU(21),u.qZA(),u.qZA(),u.qZA(),u.TgZ(22,"ion-item"),u._UZ(23,"ion-icon",4),u.TgZ(24,"ion-label"),u.TgZ(25,"h3"),u._uU(26),u.ALo(27,"translate"),u.qZA(),u.TgZ(28,"p"),u._uU(29),u.qZA(),u.qZA(),u.qZA(),u.TgZ(30,"ion-item"),u._UZ(31,"ion-icon",5),u.TgZ(32,"ion-label"),u.TgZ(33,"h3"),u._uU(34),u.ALo(35,"translate"),u.qZA(),u.TgZ(36,"p"),u._uU(37),u.qZA(),u.qZA(),u.qZA(),u.TgZ(38,"ion-item"),u._UZ(39,"ion-icon",6),u.TgZ(40,"ion-label"),u.TgZ(41,"h3"),u._uU(42,"Email"),u.qZA(),u.TgZ(43,"p"),u._uU(44),u.qZA(),u.qZA(),u.qZA(),u.TgZ(45,"ion-item"),u._UZ(46,"ion-icon",7),u.TgZ(47,"ion-label"),u.TgZ(48,"h3"),u._uU(49,"Website"),u.qZA(),u.TgZ(50,"p"),u._uU(51),u.qZA(),u.qZA(),u.qZA(),u.TgZ(52,"ion-item",8),u.NdJ("click",function(){return e.presentPackage()}),u._UZ(53,"ion-icon",9),u.TgZ(54,"ion-label"),u.TgZ(55,"h3"),u._uU(56),u.ALo(57,"translate"),u.qZA(),u.YNc(58,L,5,11,"p",10),u.YNc(59,I,1,0,"ion-spinner",11),u.qZA(),u.qZA(),u.qZA(),u.TgZ(60,"div"),u.TgZ(61,"ion-card",12),u.TgZ(62,"ion-card-header"),u.TgZ(63,"ion-card-subtitle"),u._UZ(64,"ion-icon",13),u._uU(65),u.ALo(66,"translate"),u.qZA(),u.qZA(),u.TgZ(67,"ion-card-content"),u.TgZ(68,"ion-button",14),u.NdJ("click",function(){return e.gotoProcedure()}),u._UZ(69,"ion-icon",15),u._uU(70),u.ALo(71,"translate"),u.qZA(),u.TgZ(72,"ion-button",16),u.NdJ("click",function(){return e.presentEdit()}),u._UZ(73,"ion-icon",17),u._uU(74),u.ALo(75,"translate"),u.qZA(),u.TgZ(76,"ion-button",16),u.NdJ("click",function(){return e.presentFarmCreate()}),u._UZ(77,"ion-icon",18),u._uU(78),u.ALo(79,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(5),u.Oqu(u.lcZ(6,18,"COMPANY_MOD.INFORMATION")),u.xp6(5),u.Oqu(e.companyService.company.name),u.xp6(2),u.hij("#",e.companyService.company.code,""),u.xp6(6),u.Oqu(u.lcZ(19,20,"COMPANY_MOD.FULL_NAME")),u.xp6(3),u.Oqu(e.companyService.company.fullname),u.xp6(5),u.Oqu(u.lcZ(27,22,"COMPANY_MOD.ADDRESS")),u.xp6(3),u.Oqu(e.companyService.company.address),u.xp6(5),u.Oqu(u.lcZ(35,24,"COMPANY_MOD.PHONE")),u.xp6(3),u.Oqu(e.companyService.company.phone),u.xp6(7),u.Oqu(e.companyService.company.email),u.xp6(7),u.Oqu(e.companyService.company.website),u.xp6(5),u.Oqu(u.lcZ(57,26,"COMPANY_MOD.ACCOUNT_PLAN")),u.xp6(2),u.Q6J("ngIf",e.curentPackage),u.xp6(1),u.Q6J("ngIf",e.loadingFlag.pending),u.xp6(6),u.hij(" ",u.lcZ(66,28,"COMPANY_MOD.SETTING_FO")," "),u.xp6(5),u.hij(" ",u.lcZ(71,30,"COMPANY_MOD.PROCEDURE")," "),u.xp6(4),u.hij(" ",u.lcZ(75,32,"COMPANY_MOD.EDIT_INFOMATION")," "),u.xp6(4),u.hij(" ",u.lcZ(79,34,"COMPANY_MOD.CREATE_FARM")," "))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.W2,r.q_,r.Ie,r.gu,r.Q$,n.O5,r.PM,r.Zi,r.tO,r.FN,r.YG,r.PQ],pipes:[d.X$],styles:[""]}),t})();var R=i(16738),F=i(50384),J=i(55019);function j(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-item",8),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw().seenNoti(e)}),u.TgZ(1,"ion-label",9),u.TgZ(2,"h4"),u._uU(3),u.qZA(),u.TgZ(4,"p"),u._uU(5),u.qZA(),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit;u.Q6J("routerLink",t.link),u.xp6(3),u.hij(" ",t.time," "),u.xp6(2),u.Oqu(t.content)}}function Q(t,e){1&t&&(u.TgZ(0,"ion-item"),u.TgZ(1,"ion-label"),u.TgZ(2,"p"),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.Oqu(u.lcZ(4,1,"NOTIFICATIONS_MOD.EMPTY")))}let G=(()=>{class t{constructor(t,e,i,n,o){this.modalController=t,this.toastService=e,this.fcmService=i,this.authService=n,this.translateService=o,this.listHistory=[],this.page=0}ngOnInit(){this.getList()}getList(){let t={list_farm:JSON.stringify(this.list_farm),list_farm_id:JSON.stringify(this.list_farm_id)};this.fcmService.listAll(this.page,t).subscribe(t=>{1==t.status?t.data.list.forEach(t=>{t.time=R(new Date(1e3*t.add_time),"YYYYMMDD").fromNow(),t.link=this.filterLink(t.mod_name,t.item_code),t.content=t.content.replaceAll(this.authService.user.username,this.translateService.instant("YOU")),this.listHistory.push(t)}):this.toastService.warning(t.error)})}seenNoti(t){this.modalController.dismiss({redirect:!0}),this.fcmService.seen(t.mod_name,t.id).subscribe(t=>{1==t.status?(console.log("seen"),this.fcmService.reload.next(!0)):console.log("no seen")}),this.modalController.dismiss()}filterLink(t,e){switch(t){case"farm":return"/farm/"+e+"/pond";case"pond":return"/pond/"+e;case"store_farm":return"/store/"+e;case"money":return"/money/"+e;default:return"/home"}}loadData(t){this.page+=1,this.getList(),setTimeout(()=>{console.log("Done"),t.target.complete()},500)}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(r.IN),u.Y36(p.k),u.Y36(J.E),u.Y36(F.e),u.Y36(d.sK))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-company-history"]],inputs:{list_farm_id:"list_farm_id",list_farm:"list_farm"},decls:14,vars:5,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["lines","none"],[3,"routerLink","click",4,"ngFor","ngForOf"],[4,"ngIf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","dots"],[3,"routerLink","click"],[1,"ion-text-wrap"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u.TgZ(3,"ion-button",1),u.NdJ("click",function(){return e.modalController.dismiss(!1)}),u._UZ(4,"ion-icon",2),u.qZA(),u.qZA(),u.TgZ(5,"ion-title"),u._uU(6),u.ALo(7,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"ion-content"),u.TgZ(9,"ion-list",3),u.YNc(10,j,6,3,"ion-item",4),u.YNc(11,Q,5,3,"ion-item",5),u.qZA(),u.TgZ(12,"ion-infinite-scroll",6),u.NdJ("ionInfinite",function(t){return e.loadData(t)}),u._UZ(13,"ion-infinite-scroll-content",7),u.qZA(),u.qZA()),2&t&&(u.xp6(6),u.Oqu(u.lcZ(7,3,"HISTORY")),u.xp6(4),u.Q6J("ngForOf",e.listHistory),u.xp6(1),u.Q6J("ngIf",0==e.listHistory.length))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.wd,r.W2,r.q_,n.sg,n.O5,r.ju,r.MB,r.Ie,r.YI,s.rH,r.Q$],pipes:[d.X$],styles:[""]}),t})();var H=i(56209),$=i(18409);function W(t,e){1&t&&(u.TgZ(0,"div",13),u._UZ(1,"ion-spinner",14),u.qZA())}function B(t,e){if(1&t&&u._UZ(0,"div",24),2&t){const t=u.oxw().$implicit,e=u.oxw(2);u.Q6J("options",e.initOptions(t.pond))}}function K(t,e){if(1&t&&(u.TgZ(0,"ion-col",16),u.TgZ(1,"ion-card",17),u.TgZ(2,"ion-item",18),u._UZ(3,"ion-icon",19),u.TgZ(4,"ion-label"),u.TgZ(5,"p"),u._uU(6),u.ALo(7,"translate"),u.qZA(),u.TgZ(8,"h3"),u._uU(9),u.qZA(),u.qZA(),u.qZA(),u.YNc(10,B,1,1,"div",20),u.TgZ(11,"ion-list",21),u.TgZ(12,"ion-list-header"),u.TgZ(13,"ion-label"),u._uU(14),u.ALo(15,"translate"),u.qZA(),u.qZA(),u.TgZ(16,"ion-item"),u.TgZ(17,"ion-label"),u._uU(18),u.ALo(19,"translate"),u.qZA(),u.TgZ(20,"span",2),u.TgZ(21,"span"),u._uU(22),u.ALo(23,"countNumerPipe"),u.ALo(24,"translate"),u.qZA(),u._uU(25),u.ALo(26,"translate"),u.qZA(),u.qZA(),u.TgZ(27,"ion-item"),u.TgZ(28,"ion-label"),u._uU(29),u.ALo(30,"translate"),u.qZA(),u.TgZ(31,"span",2),u.TgZ(32,"ion-text",22),u.TgZ(33,"span"),u._uU(34),u.ALo(35,"countNumerPipe"),u.ALo(36,"translate"),u.qZA(),u.qZA(),u._uU(37),u.ALo(38,"translate"),u.qZA(),u.qZA(),u.TgZ(39,"ion-item"),u.TgZ(40,"ion-label"),u._uU(41),u.ALo(42,"translate"),u.qZA(),u.TgZ(43,"span",2),u.TgZ(44,"ion-text",23),u.TgZ(45,"span"),u._uU(46),u.ALo(47,"countNumerPipe"),u.ALo(48,"translate"),u.qZA(),u.qZA(),u._uU(49),u.ALo(50,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t){const t=e.$implicit,i=u.oxw(2);u.xp6(2),u.MGl("routerLink","/farm/",t.code,""),u.xp6(4),u.Oqu(u.lcZ(7,16,"COMPANY_MOD.FARM")),u.xp6(3),u.Oqu(t.name),u.xp6(1),u.Q6J("ngIf",i.view),u.xp6(1),u.MGl("routerLink","/farm/",t.code,""),u.xp6(3),u.Oqu(u.lcZ(15,18,"COMPANY_MOD.MONEY")),u.xp6(4),u.Oqu(u.lcZ(19,20,"COMPANY_MOD.MONEY_IN")),u.xp6(4),u.Oqu(u.xi3(23,22,t.money_in,u.lcZ(24,25,"FORMAT_COUNTER_KMB"))),u.xp6(3),u.hij(" ",u.lcZ(26,27,"CURRENCY_S")," "),u.xp6(4),u.Oqu(u.lcZ(30,29,"COMPANY_MOD.MONEY_OUT")),u.xp6(5),u.Oqu(u.xi3(35,31,t.money_out,u.lcZ(36,34,"FORMAT_COUNTER_KMB"))),u.xp6(3),u.hij(" ",u.lcZ(38,36,"CURRENCY_S")," "),u.xp6(4),u.hij(" ",u.lcZ(42,38,"COMPANY_MOD.PROFIT"),""),u.xp6(3),u.Q6J("color",t.money_profit>=0?"success":"danger"),u.xp6(2),u.Oqu(u.xi3(47,40,t.money_profit,u.lcZ(48,43,"FORMAT_COUNTER_KMB"))),u.xp6(3),u.hij(" ",u.lcZ(50,45,"CURRENCY_S")," ")}}function X(t,e){if(1&t&&(u.TgZ(0,"ion-row"),u.YNc(1,K,51,47,"ion-col",15),u.qZA()),2&t){const t=u.oxw();u.xp6(1),u.Q6J("ngForOf",t.companyService.listFarm)}}function z(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"div"),u.TgZ(1,"ion-card",17),u.TgZ(2,"ion-card-content",25),u.TgZ(3,"p",26),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.TgZ(6,"ion-button",27),u.NdJ("click",function(){return u.CHM(t),u.oxw().presentFarmCreate()}),u._uU(7),u.ALo(8,"translate"),u.qZA(),u.TgZ(9,"p",26),u._uU(10),u.ALo(11,"translate"),u.qZA(),u.TgZ(12,"ion-button",28),u._uU(13),u.ALo(14,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}2&t&&(u.xp6(4),u.hij(" ",u.lcZ(5,4,"COMPANY_MOD.NO_FARM"),""),u.xp6(3),u.hij(" ",u.lcZ(8,6,"COMPANY_MOD.CREATE_FARM_SEQ")," "),u.xp6(3),u.Oqu(u.lcZ(11,8,"OR")),u.xp6(3),u.hij(" ",u.lcZ(14,10,"COMPANY_MOD.CREATE_FARM_AUTO")," "))}let V=(()=>{class t{constructor(t,e,i,n,o,s,r,a,l){this.modalController=t,this.route=e,this.toastService=i,this.alertController=n,this.companyService=o,this.navcontroller=s,this.translate=r,this.tutorialService=a,this.dblocalService=l,this.loadingFlag=new c.E,this.view=!1}ngOnInit(){return(0,a.mG)(this,void 0,void 0,function*(){this.companyService.setCode(this.route.snapshot.paramMap.get("id")),yield this.dblocalService.getLocalData(),void 0===this.dblocalService.company?yield this.getManager():this.companyService.setCompany(this.dblocalService.company),this.getList()})}ionViewDidEnter(){setTimeout(()=>{this.view=!0},500)}ionViewWillEnter(){console.log(this.tutorialService.popShow),this.tutorialService.popShow||this.tutorialService.show("company")}presentReport(){return(0,a.mG)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:h})).present()})}initOptions(t){return{tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:this.translate.instant("COMPANY_MOD.INFORMATION"),type:"pie",radius:"55%",data:[{value:t.warning,name:this.translate.instant("COMPANY_MOD.POND_WARNING")},{value:t.empty,name:this.translate.instant("COMPANY_MOD.POND_EMPTY")},{value:t.good,name:this.translate.instant("COMPANY_MOD.POND_GOOD")}]}]}}addDataOptions(t){return{series:[{name:this.translate.instant("COMPANY_MOD.INFORMATION"),type:"pie",radius:"55%",data:[{value:t.warning,name:this.translate.instant("COMPANY_MOD.POND_WARNING")},{value:t.empty,name:this.translate.instant("COMPANY_MOD.POND_EMPTY")},{value:t.good,name:this.translate.instant("COMPANY_MOD.POND_GOOD")}]}]}}getList(){this.loadingFlag.setStart(!0),this.companyService.loadFarms().pipe().subscribe(t=>{0==t.status?this.toastService.warning(t.error):(this.companyService.listFarm=t.data,this.companyService.listFarm.length>0&&this.tutorialService.setStepIndex("company",3)),this.loadingFlag.setResult(!0),this.tutorialService.showNow("company")},t=>{this.toastService.danger(this.translate.instant("ERROR_CONNECT")),this.loadingFlag.setResult(!1)})}getManager(){return(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.companyService.loadCompany().toPromise().catch(()=>{this.toastService.danger(this.translate.instant("ERROR_CONNECT"))});t&&1==t.status?(this.companyService.setCompany(t.data),this.dblocalService.company=t.data,this.dblocalService.setLocalData("company",this.dblocalService.company)):this.toastService.warning(t.error)})}presentInformation(){return(0,a.mG)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:k})).present()})}presentHistory(){return(0,a.mG)(this,void 0,void 0,function*(){let t=[],e=[];return this.companyService.listFarm.forEach(i=>{t.push(i.id),e.push(i.code)}),yield(yield this.modalController.create({component:G,componentProps:{list_farm:e,list_farm_id:t}})).present()})}presentFarmCreate(){return(0,a.mG)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:E.v})).present()})}doRefresh(t){this.view=!1,this.companyService.listFarm=[],this.getManager(),this.getList(),setTimeout(()=>{this.view=!0},500),t.target.complete()}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(r.IN),u.Y36(s.gz),u.Y36(p.k),u.Y36(r.Br),u.Y36(l.J),u.Y36(r.SH),u.Y36(d.sK),u.Y36(w.M),u.Y36(S.T))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-company"]],decls:25,vars:9,consts:[["slot","start"],["text","","defaultHref","tabs/management"],["slot","end"],[3,"click"],["name","time-outline","slot","icon-only"],["id","company0","routerLink","setting"],["name","cog-outline","slot","icon-only"],["slot","fixed",3,"ionRefresh"],["class","spiner-loading",4,"ngIf"],[4,"ngIf"],[1,"ion-padding-bottom"],["color","medium","expand","block","shape","round","fill","clear",3,"click"],["name","cog-outline","slot","start"],[1,"spiner-loading"],["name","dots"],["size","12","size-sm","6",4,"ngFor","ngForOf"],["size","12","size-sm","6"],["mode","ios"],["lines","none","detail","true","id","company3",3,"routerLink"],["src","/assets/icon/001-flooded-house.svg","size","large","slot","start"],["echarts","",3,"options",4,"ngIf"],["lines","none",3,"routerLink"],["color","danger"],[3,"color"],["echarts","",3,"options"],[1,"ion-text-center"],[1,"ion-padding"],["shape","round","color","primary","id","company1",3,"click"],["shape","round","fill","outline","color","primary","fill","outline","routerLink","quickstart","id","company2"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u._UZ(3,"ion-back-button",1),u.qZA(),u.TgZ(4,"ion-title"),u._uU(5),u.ALo(6,"translate"),u.qZA(),u.TgZ(7,"ion-buttons",2),u.TgZ(8,"ion-button",3),u.NdJ("click",function(){return e.presentHistory()}),u._UZ(9,"ion-icon",4),u.qZA(),u.TgZ(10,"ion-button",5),u._UZ(11,"ion-icon",6),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"ion-content"),u.TgZ(13,"ion-refresher",7),u.NdJ("ionRefresh",function(t){return e.doRefresh(t)}),u._UZ(14,"ion-refresher-content"),u.qZA(),u.TgZ(15,"div"),u.YNc(16,W,2,0,"div",8),u.TgZ(17,"ion-grid"),u.YNc(18,X,2,1,"ion-row",9),u.qZA(),u.YNc(19,z,15,12,"div",9),u.qZA(),u.TgZ(20,"div",10),u.TgZ(21,"ion-button",11),u.NdJ("click",function(){return e.presentInformation()}),u._UZ(22,"ion-icon",12),u._uU(23),u.ALo(24,"translate"),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(5),u.Oqu(u.lcZ(6,5,"COMPANY_MOD.TITLE")),u.xp6(11),u.Q6J("ngIf",e.loadingFlag.pending),u.xp6(2),u.Q6J("ngIf",e.companyService.listFarm.length>0),u.xp6(1),u.Q6J("ngIf",0==e.companyService.listFarm.length&&e.loadingFlag.result),u.xp6(4),u.hij(" ",u.lcZ(24,7,"COMPANY_MOD.SETTING")," "))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.YG,r.gu,r.YI,s.rH,r.W2,r.nJ,r.Wo,n.O5,r.jY,r.PQ,r.Nd,n.sg,r.wI,r.PM,r.Ie,r.Q$,r.q_,r.yh,r.yW,H._w,r.FN],pipes:[d.X$,$.u],styles:[""]}),t})();var tt=i(10086);function et(t,e){1&t&&(u.TgZ(0,"div",7),u._UZ(1,"ion-spinner",8),u.qZA())}function it(t,e){if(1&t&&(u.TgZ(0,"div"),u.TgZ(1,"ion-item",9),u.TgZ(2,"ion-label"),u._uU(3),u.qZA(),u.qZA(),u.TgZ(4,"ion-item",9),u.TgZ(5,"ion-label",10),u.TgZ(6,"ion-text"),u._uU(7),u.qZA(),u.TgZ(8,"p"),u._uU(9),u.ALo(10,"translate"),u.ALo(11,"translate"),u.TgZ(12,"sup"),u._uU(13,"2"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t){const t=u.oxw();u.xp6(3),u.hij(" ",null==t.item?null:t.item.species_name," "),u.xp6(4),u.Oqu(null==t.item?null:t.item.name),u.xp6(2),u.lnq("",u.lcZ(10,5,"COMPANY_MOD.DENSITY")," ",null==t.item?null:t.item.density," ",u.lcZ(11,7,"COMPANY_MOD.ANIMAL"),"/m")}}function nt(t,e){if(1&t&&(u.TgZ(0,"ion-item",10),u.TgZ(1,"ion-label"),u._uU(2),u.qZA(),u.qZA()),2&t){const t=e.$implicit;u.xp6(2),u.Oqu(t)}}function ot(t,e){if(1&t&&(u.TgZ(0,"ion-item-group"),u.TgZ(1,"ion-item-divider"),u.TgZ(2,"ion-label"),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.qZA(),u.YNc(5,nt,3,1,"ion-item",13),u.qZA()),2&t){const t=e.$implicit;u.xp6(3),u.AsE("",u.lcZ(4,3,"COMPANY_MOD.DAY_OF")," ",t.day,""),u.xp6(2),u.Q6J("ngForOf",t.todo)}}function st(t,e){if(1&t&&(u.TgZ(0,"div"),u._UZ(1,"div",11),u.TgZ(2,"ion-list",9),u.TgZ(3,"ion-list-header"),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.YNc(6,ot,6,5,"ion-item-group",12),u.qZA(),u.qZA()),2&t){const t=u.oxw();u.xp6(1),u.Q6J("options",t.initOption()),u.xp6(3),u.hij(" ",u.lcZ(5,3,"COMPANY_MOD.TODO")," "),u.xp6(2),u.Q6J("ngForOf",t.timeline)}}function rt(t,e){1&t&&(u.TgZ(0,"div",14),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.hij(" ",u.lcZ(2,1,"COMPANY_MOD.NOT_EMPTY_INFOR_PROCEDURE")," "))}let at=(()=>{class t{constructor(t,e,i,n){this.modalController=t,this.procedureService=e,this.toastController=i,this.translate=n,this.loadingFlag=new c.E}ngOnInit(){this.getDetail()}presentToast(t){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:2e3})).present()})}getDetail(){this.loadingFlag.setPending(!0),this.procedureService.getProcedureDetail(this.id).pipe().subscribe(t=>{0==t.status?(this.presentToast(t.error),this.loadingFlag.setResult(!1)):(this.loadingFlag.setResult(!0),this.item=t.data.info,this.chart=t.data.chart,this.timeline=t.data.timeline)},t=>{this.presentToast(this.translate.instant("ERROR_CONNECT")),this.loadingFlag.setResult(!1)})}initOption(){return{xAxis:{type:"category",data:this.chart.labels},yAxis:{type:"value"},series:[{name:this.translate.instant("COMPANY_MOD.WEIGHT"),data:this.chart.data1,type:"line"},{name:this.translate.instant("COMPANY_MOD.FEED"),data:this.chart.data2,type:"line"}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(r.IN),u.Y36(tt.d),u.Y36(r.yF),u.Y36(d.sK))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-procedure-detail"]],inputs:{id:"id"},decls:13,vars:7,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["fullscreen",""],["class","spiner-loading",4,"ngIf"],[4,"ngIf"],["class","ion-padding",4,"ngIf"],[1,"spiner-loading"],["name","dots"],["lines","none"],[1,"ion-text-wrap"],["echarts","",3,"options"],[4,"ngFor","ngForOf"],["class","ion-text-wrap",4,"ngFor","ngForOf"],[1,"ion-padding"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u.TgZ(3,"ion-button",1),u.NdJ("click",function(){return e.modalController.dismiss(!1)}),u._UZ(4,"ion-icon",2),u.qZA(),u.qZA(),u.TgZ(5,"ion-title"),u._uU(6),u.ALo(7,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"ion-content",3),u.YNc(9,et,2,0,"div",4),u.YNc(10,it,14,9,"div",5),u.YNc(11,st,7,5,"div",5),u.YNc(12,rt,3,3,"div",6),u.qZA()),2&t&&(u.xp6(6),u.Oqu(u.lcZ(7,5,"COMPANY_MOD.DETAIL")),u.xp6(3),u.Q6J("ngIf",e.loadingFlag.pending),u.xp6(1),u.Q6J("ngIf",e.loadingFlag.result),u.xp6(1),u.Q6J("ngIf",e.chart&&e.timeline),u.xp6(1),u.Q6J("ngIf",!e.chart&&!e.timeline))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.wd,r.W2,n.O5,r.PQ,r.Ie,r.Q$,r.yW,H._w,r.q_,r.yh,n.sg,r.Ub,r.rH],pipes:[d.X$],styles:[""]}),t})();function ct(t,e){if(1&t&&(u.TgZ(0,"ion-item",7),u.TgZ(1,"ion-label"),u.TgZ(2,"p"),u._uU(3),u.qZA(),u.qZA(),u.qZA()),2&t){const t=u.oxw();u.xp6(3),u.Oqu(t.message)}}function lt(t,e){1&t&&(u.TgZ(0,"div",8),u._UZ(1,"ion-spinner",9),u.qZA())}function ut(t,e){1&t&&u._UZ(0,"ion-icon",13)}function pt(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-card"),u.TgZ(1,"ion-item"),u.YNc(2,ut,1,0,"ion-icon",11),u.TgZ(3,"ion-label"),u.TgZ(4,"h3"),u._uU(5),u.qZA(),u.TgZ(6,"p"),u._uU(7),u.ALo(8,"translate"),u.ALo(9,"translate"),u.TgZ(10,"sup"),u._uU(11,"2"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"ion-button",12),u.NdJ("click",function(){const e=u.CHM(t),i=e.$implicit,n=e.index;return u.oxw(2).add(i.id,n)}),u._uU(13),u.ALo(14,"translate"),u.qZA(),u.qZA(),u.TgZ(15,"ion-card-content",1),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw(2).presentDetail(e.id)}),u.TgZ(16,"h3"),u._uU(17),u.qZA(),u.TgZ(18,"p"),u._uU(19),u.qZA(),u.TgZ(20,"p"),u._uU(21),u.ALo(22,"translate"),u.TgZ(23,"strong"),u._uU(24),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit;u.xp6(2),u.Q6J("ngIf",1==t.verify),u.xp6(3),u.Oqu(t.species),u.xp6(2),u.lnq("",u.lcZ(8,10,"COMPANY_MOD.DENSITY"),": ",t.density," ",u.lcZ(9,12,"COMPANY_MOD.ANIMAL"),"/m"),u.xp6(6),u.Oqu(u.lcZ(14,14,"COMPANY_MOD.SELECT")),u.xp6(4),u.Oqu(t.name),u.xp6(2),u.Oqu(t.description),u.xp6(2),u.hij("",u.lcZ(22,16,"COMPANY_MOD.CREATE_BY")," "),u.xp6(3),u.Oqu(t.manufacturer)}}function dt(t,e){if(1&t&&(u.TgZ(0,"div"),u.YNc(1,pt,25,18,"ion-card",10),u.qZA()),2&t){const t=u.oxw();u.xp6(1),u.Q6J("ngForOf",t.listProcedureFilter)}}let gt=(()=>{class t{constructor(t,e,i,n,o){this.modalController=t,this.procedureService=e,this.toastController=i,this.alertController=n,this.translate=o,this.loadingFlag=new c.E,this.listProcedure=[],this.listProcedureFilter=[],this.message=""}ngOnInit(){this.getList()}getList(){this.loadingFlag.setPending(!0),this.procedureService.getProceduresV2().pipe().subscribe(t=>{0==t.status?(this.presentToast(t.error),this.loadingFlag.setResult(!1)):(this.loadingFlag.setResult(!0),this.listProcedure=t.data,this.listProcedureFilter=this.listProcedure)},t=>{this.presentToast(this.translate.instant("ERROR_CONNECT")),this.loadingFlag.setResult(!1)})}searchProcedure(t){let e=t.target.value;this.message="",e&&""!=e.trim()&&Array.isArray(this.listProcedure)?(this.loadingFlag.setPending(!0),this.procedureService.searchProcedure(e).subscribe(t=>{1==t.status&&t.data.length>0?(this.loadingFlag.setResult(!0),this.listProcedureFilter=t.data):(this.loadingFlag.setResult(!1),this.message=this.translate.instant("COMPANY_MOD.NOT_FIND"))})):this.listProcedureFilter=this.listProcedure}presentToast(t){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,duration:2e3})).present()})}filter(t){const e=t.target.value;this.listProcedureFilter=this.listProcedure.filter(t=>t.name.toLowerCase().indexOf(e.toLowerCase())>-1||t.manufacturer.toLowerCase().indexOf(e.toLowerCase())>-1||t.species.toLowerCase().indexOf(e.toLowerCase())>-1||t.density.toLowerCase().indexOf(e.toLowerCase())>-1),console.log(this.listProcedureFilter)}add(t,e){this.procedureService.insertProcedure(t).pipe().subscribe(t=>{0==t.status?this.presentToast(t.error):(this.presentToast(this.translate.instant("COMPANY_MOD.NOTI_ADD_PROCEDURE")),this.modalController.dismiss(this.listProcedureFilter[e]))})}presentDetail(t){return(0,a.mG)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:at,componentProps:{id:t}})).present()})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(r.IN),u.Y36(tt.d),u.Y36(r.yF),u.Y36(r.Br),u.Y36(d.sK))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-procedure-add"]],decls:13,vars:7,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","close"],["debounce","500",3,"placeholder","ionChange"],["lines","none",4,"ngIf"],["class","ion-text-center ion-padding",4,"ngIf"],[4,"ngIf"],["lines","none"],[1,"ion-text-center","ion-padding"],["name","dots"],[4,"ngFor","ngForOf"],["slot","start","color","primary","name","checkmark-circle-outline",4,"ngIf"],["fill","outline","slot","end",3,"click"],["slot","start","color","primary","name","checkmark-circle-outline"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u.TgZ(3,"ion-button",1),u.NdJ("click",function(){return e.modalController.dismiss(!1)}),u._UZ(4,"ion-icon",2),u.qZA(),u.qZA(),u.TgZ(5,"ion-title"),u._uU(6),u.ALo(7,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"ion-content"),u.TgZ(9,"ion-searchbar",3),u.NdJ("ionChange",function(t){return e.searchProcedure(t)}),u.qZA(),u.YNc(10,ct,4,1,"ion-item",4),u.YNc(11,lt,2,0,"div",5),u.YNc(12,dt,2,1,"div",6),u.qZA()),2&t&&(u.xp6(6),u.hij(" ",u.lcZ(7,5,"COMPANY_MOD.ADD_PROCEDURE"),""),u.xp6(3),u.Q6J("placeholder",e.translate.instant("COMPANY_MOD.SEARCH")),u.xp6(1),u.Q6J("ngIf",e.message),u.xp6(1),u.Q6J("ngIf",e.loadingFlag.pending),u.xp6(1),u.Q6J("ngIf",e.loadingFlag.result))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.gu,r.wd,r.W2,r.VI,r.j9,n.O5,r.Ie,r.Q$,r.PQ,n.sg,r.PM,r.FN],pipes:[d.X$],styles:[""]}),t})();function Zt(t,e){1&t&&(u.TgZ(0,"div",6),u._UZ(1,"ion-spinner",7),u.qZA())}function At(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-button",14),u.NdJ("click",function(){u.CHM(t);const e=u.oxw(),i=e.index,n=e.$implicit;return u.oxw(3).alertLock(0,i,n.id)}),u._uU(1),u.ALo(2,"translate"),u.qZA()}2&t&&(u.xp6(1),u.hij("",u.lcZ(2,1,"COMPANY_MOD.BLOCK")," "))}function ht(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-button",14),u.NdJ("click",function(){u.CHM(t);const e=u.oxw(),i=e.index,n=e.$implicit;return u.oxw(3).lock(1,i,n.id)}),u._uU(1),u.ALo(2,"translate"),u.qZA()}2&t&&(u.xp6(1),u.hij(" ",u.lcZ(2,1,"COMPANY_MOD.UNBLOCK")," "))}function mt(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-card"),u.TgZ(1,"ion-card-header"),u.TgZ(2,"ion-card-subtitle"),u._uU(3),u.qZA(),u.TgZ(4,"span"),u._uU(5),u.ALo(6,"translate"),u.ALo(7,"translate"),u.TgZ(8,"sup"),u._uU(9,"2"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"ion-card-content"),u._uU(11),u.qZA(),u.TgZ(12,"ion-item",9),u.TgZ(13,"ion-button",10),u.NdJ("click",function(){const e=u.CHM(t),i=e.$implicit,n=e.index;return u.oxw(3).presentAlertDelete(i.procedure_id,n)}),u._uU(14),u.ALo(15,"translate"),u.qZA(),u.YNc(16,At,3,3,"ion-button",11),u.YNc(17,ht,3,3,"ion-button",11),u.TgZ(18,"ion-button",12),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw(3).presentDetail(e.procedure_id)}),u._uU(19),u.ALo(20,"translate"),u._UZ(21,"ion-icon",13),u.qZA(),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit;u.xp6(3),u.Oqu(t.species),u.xp6(2),u.lnq("",u.lcZ(6,9,"COMPANY_MOD.DENSITY"),": ",t.density," ",u.lcZ(7,11,"COMPANY_MOD.ANIMAL"),"/m"),u.xp6(6),u.hij(" ",t.name," "),u.xp6(3),u.hij(" ",u.lcZ(15,13,"COMPANY_MOD.DELETE")," "),u.xp6(2),u.Q6J("ngIf",1==t.status),u.xp6(1),u.Q6J("ngIf",1!=t.status),u.xp6(2),u.hij(" ",u.lcZ(20,15,"COMPANY_MOD.SEE")," ")}}function Ot(t,e){1&t&&(u.TgZ(0,"ion-card"),u.TgZ(1,"ion-card-content",15),u.TgZ(2,"p",16),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.Oqu(u.lcZ(4,1,"COMPANY_MOD.NOT_EMPTY_PROCEDURE")))}function _t(t,e){if(1&t&&(u.TgZ(0,"div"),u.YNc(1,mt,22,17,"ion-card",8),u.YNc(2,Ot,5,3,"ion-card",4),u.qZA()),2&t){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",t.listProcedure),u.xp6(1),u.Q6J("ngIf",0==t.listProcedure.length)}}function qt(t,e){if(1&t&&(u.TgZ(0,"div"),u.YNc(1,Zt,2,0,"div",5),u.YNc(2,_t,3,2,"div",4),u.qZA()),2&t){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.loadingFlag.pending),u.xp6(1),u.Q6J("ngIf",t.loadingFlag.result)}}let ft=(()=>{class t{constructor(t,e,i,n,o,s,r){this.modalController=t,this.companyService=e,this.toastService=i,this.alertController=n,this.procedureService=o,this.translate=s,this.tutorialService=r,this.loadingFlag=new c.E,this.listProcedure=[],this.view=!1}ngOnInit(){this.procedureService.setCompanyCode(this.companyService.company.code),this.getList(),this.tutorialService.setStepIndex("company-procedure",0),this.tutorialService.show("company-procedure")}ionViewDidEnter(){this.view=!0}getList(){this.loadingFlag.setPending(!0),this.procedureService.getProcedures().pipe().subscribe(t=>{0==t.status?(this.toastService.warning(t.error),this.loadingFlag.setResult(!1)):(this.loadingFlag.setResult(!0),this.listProcedure=t.data)},t=>{this.toastService.danger(this.translate.instant("ERROR_CONNECT")),this.loadingFlag.setResult(!1)})}lock(t,e,i){this.procedureService.lock(i,t).pipe().subscribe(i=>{0==i.status?this.toastService.warning(i.error):(this.listProcedure[e].status=t,this.toastService.warning(this.translate.instant(0==t?"COMPANY_MOD.NOTI_BLOCK":"COMPANY_MOD.NOTI_UNBLOCK")))},t=>{this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}presentAdd(){return(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:gt});return t.onDidDismiss().then(t=>{t.data&&(this.getList(),this.tutorialService.setStepIndex("company",1),this.tutorialService.setView("company",0))}),yield t.present()})}delete(t,e){this.procedureService.delete(t).pipe().subscribe(t=>{0==t.status?this.toastService.warning(t.error):(this.listProcedure.splice(e,1),this.toastService.success(this.translate.instant("COMPANY_MOD.NOTI_DEL_PROCEDURE")))},t=>{this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}presentAlertDelete(t,e){return(0,a.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:this.translate.instant("COMPANY_MOD.CONFIRM_DELETE"),message:this.translate.instant("COMPANY_MOD.DELETE_PROCEDURE"),buttons:[{text:this.translate.instant("COMPANY_MOD.YES"),handler:()=>{this.delete(t,e)}},{text:this.translate.instant("COMPANY_MOD.NO"),handler:()=>{}}]})).present()})}presentDetail(t){return(0,a.mG)(this,void 0,void 0,function*(){return yield(yield this.modalController.create({component:at,componentProps:{id:t}})).present()})}alertLock(t,e,i){return(0,a.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:this.translate.instant("COMPANY_MOD.BLOCK"),message:this.translate.instant("COMPANY_MOD.CONFIRM_BLOCK"),buttons:[{text:this.translate.instant("COMPANY_MOD.NO"),role:"cancel",cssClass:"secondary"},{text:this.translate.instant("COMPANY_MOD.YES"),handler:()=>{this.lock(t,e,i)}}]})).present()})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(r.IN),u.Y36(l.J),u.Y36(p.k),u.Y36(r.Br),u.Y36(tt.d),u.Y36(d.sK),u.Y36(w.M))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-company-procedure"]],decls:13,vars:7,consts:[["slot","start"],["text","","defaultHref","tabs/management"],["slot","end"],["id","company-procedure0",3,"click"],[4,"ngIf"],["class","spiner-loading",4,"ngIf"],[1,"spiner-loading"],["name","dots"],[4,"ngFor","ngForOf"],["lines","none"],["fill","outline","slot","start","color","danger",3,"click"],["fill","outline","slot","start","color","medium",3,"click",4,"ngIf"],["fill","clear","slot","end",3,"click"],["slot","end","name","chevron-forward-outline"],["fill","outline","slot","start","color","medium",3,"click"],[1,"ion-text-center"],[1,"ion-padding"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u._UZ(3,"ion-back-button",1),u.qZA(),u.TgZ(4,"ion-title"),u._uU(5),u.ALo(6,"translate"),u.qZA(),u.TgZ(7,"ion-buttons",2),u.TgZ(8,"ion-button",3),u.NdJ("click",function(){return e.presentAdd()}),u._uU(9),u.ALo(10,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(11,"ion-content"),u.YNc(12,qt,3,2,"div",4),u.qZA()),2&t&&(u.xp6(5),u.Oqu(u.lcZ(6,3,"COMPANY_MOD.PROCEDURE")),u.xp6(4),u.hij(" ",u.lcZ(10,5,"COMPANY_MOD.ADD")," "),u.xp6(3),u.Q6J("ngIf",e.view))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.YG,r.W2,n.O5,r.PQ,n.sg,r.PM,r.Zi,r.tO,r.FN,r.Ie,r.gu],pipes:[d.X$],styles:[""]}),t})();var Tt=i(87152),Mt=i(26215);const Nt=["slides"];function xt(t,e){1&t&&u._UZ(0,"ion-icon",25)}function Ct(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-chip",23),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw().onSelectedSpecies(e)}),u.TgZ(1,"ion-label"),u._uU(2),u.qZA(),u.YNc(3,xt,1,0,"ion-icon",24),u.qZA()}if(2&t){const t=e.$implicit,i=u.oxw();u.xp6(2),u.Oqu(t.name),u.xp6(1),u.Q6J("ngIf",t==i.speciesSelected)}}function vt(t,e){1&t&&u._UZ(0,"ion-icon",26)}function Pt(t,e){1&t&&u._UZ(0,"ion-icon",26)}function Ut(t,e){1&t&&u._UZ(0,"ion-icon",26)}function bt(t,e){1&t&&u._UZ(0,"ion-icon",26)}function Yt(t,e){1&t&&u._UZ(0,"ion-icon",26)}function yt(t,e){1&t&&u._UZ(0,"ion-icon",26)}function St(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-slide"),u.TgZ(1,"div",3),u.TgZ(2,"div",7),u.TgZ(3,"div",8),u._UZ(4,"ion-icon",9),u.TgZ(5,"span"),u._uU(6),u.ALo(7,"translate"),u.qZA(),u.qZA(),u.TgZ(8,"div",10),u._UZ(9,"ion-icon",11),u._uU(10),u.ALo(11,"translate"),u.qZA(),u.qZA(),u.TgZ(12,"h1"),u._uU(13),u.ALo(14,"translate"),u.qZA(),u.TgZ(15,"p",13),u._uU(16),u.ALo(17,"translate"),u.TgZ(18,"b"),u._uU(19),u.qZA(),u._uU(20),u.ALo(21,"translate"),u.qZA(),u.TgZ(22,"div"),u.TgZ(23,"ion-button",14),u.NdJ("click",function(){return u.CHM(t),u.oxw().data.storeBayer=!1}),u.YNc(24,Yt,1,0,"ion-icon",15),u._uU(25),u.ALo(26,"translate"),u.qZA(),u.TgZ(27,"ion-button",16),u.NdJ("click",function(){return u.CHM(t),u.oxw().data.storeBayer=!0}),u.YNc(28,yt,1,0,"ion-icon",15),u._uU(29),u.ALo(30,"translate"),u.qZA(),u.qZA(),u.TgZ(31,"div"),u.TgZ(32,"div",5),u.TgZ(33,"ion-button",17),u.NdJ("click",function(){return u.CHM(t),u.oxw(),u.MAs(9).slidePrev()}),u._UZ(34,"ion-icon",18),u._uU(35),u.ALo(36,"translate"),u.qZA(),u.TgZ(37,"ion-button",19),u.NdJ("click",function(){return u.CHM(t),u.oxw(),u.MAs(9).slideNext()}),u._uU(38),u.ALo(39,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&t){const t=u.oxw();u.xp6(6),u.hij("",u.lcZ(7,13,"COMPANY_MOD.EDIT_POND"),":"),u.xp6(4),u.hij(" ",u.lcZ(11,15,"COMPANY_MOD.PRODUCT_BY_MAIN")," "),u.xp6(3),u.AsE("",u.lcZ(14,17,"COMPANY_MOD.PRODUCT_OF")," ",null==t.agency?null:t.agency.agency,""),u.xp6(3),u.hij("",u.lcZ(17,19,"COMPANY_MOD.SOME_PRODUCT")," "),u.xp6(3),u.Oqu(null==t.speciesSelected?null:t.speciesSelected.name),u.xp6(1),u.hij(" ",u.lcZ(21,21,"COMPANY_MOD.WILL_ADD"),""),u.xp6(4),u.Q6J("ngIf",0==t.data.storeBayer),u.xp6(1),u.hij(" ",u.lcZ(26,23,"COMPANY_MOD.NO")," "),u.xp6(3),u.Q6J("ngIf",1==t.data.storeBayer),u.xp6(1),u.hij(" ",u.lcZ(30,25,"COMPANY_MOD.YES")," "),u.xp6(6),u.hij("",u.lcZ(36,27,"BACK")," "),u.xp6(3),u.Oqu(u.lcZ(39,29,"NEXT"))}}function Dt(t,e){1&t&&(u.TgZ(0,"span"),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"COMPANY_MOD.PRODUCT_COM_USE")))}function Et(t,e){if(1&t&&(u.TgZ(0,"span"),u._uU(1),u.ALo(2,"translate"),u.TgZ(3,"b"),u._uU(4),u.qZA(),u.qZA()),2&t){const t=u.oxw();u.xp6(1),u.hij(" ",u.lcZ(2,2,"COMPANY_MOD.PRODUCT_OF")," "),u.xp6(3),u.Oqu(null==t.agency?null:t.agency.agency)}}function wt(t,e){1&t&&(u.TgZ(0,"p"),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"COMPANY_MOD.NO")))}function Lt(t,e){1&t&&(u.TgZ(0,"p"),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"COMPANY_MOD.ADD_DEFAULT")))}function It(t,e){1&t&&(u.TgZ(0,"p"),u._uU(1),u.ALo(2,"translate"),u.qZA()),2&t&&(u.xp6(1),u.Oqu(u.lcZ(2,1,"COMPANY_MOD.NO")))}function kt(t,e){if(1&t&&(u.TgZ(0,"div",5),u._UZ(1,"ion-progress-bar",27),u.qZA()),2&t){const t=u.oxw();u.xp6(1),u.Q6J("value",t.$processing.value)}}let Rt=(()=>{class t{constructor(t,e,i,n){this.companyService=t,this.toastService=e,this.navCtrl=i,this.translate=n,this.listSpecies=[],this.saveWaiting=new c.E,this.$processing=new Mt.X(0)}ngOnInit(){this.data={species:0,storeDefault:!0,storeBayer:!0,procedureDefault:!0,farmName:this.translate.instant("COMPANY_MOD.FARM_01"),pondName:this.translate.instant("COMPANY_MOD.POND_01")},this.getListSpecies(),this.getInfo()}getListSpecies(){this.companyService.loadSpecies().subscribe(t=>{t.error||1!=t.status?this.toastService.warning(this.translate.instant("COMPANY_MOD.DATA_ERROR")):this.listSpecies=t.data},t=>{this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}getInfo(){this.companyService.getFirstSetup().subscribe(t=>{0==t.status&&t.message?this.toastService.warning(t.message):t.data&&t.data.agency_id&&(this.agency=t.data)},t=>{this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}onFirstSettup(){this.saveWaiting.setPending(!0),this.$processing.next(.3),setTimeout(()=>{this.$processing.next(.6),this.companyService.firstSetup(this.data).subscribe(t=>{this.$processing.next(.9),setTimeout(()=>{0==t.status&&t.message?this.toastService.warning(t.message):(this.$processing.next(1),this.toastService.success(t.message),this.navCtrl.navigateRoot("company/"+this.companyService.ccode)),this.saveWaiting.setResult(!0)},600)},t=>{this.toastService.danger(this.translate.instant("ERROR_CONNECT")),this.saveWaiting.setResult(!1)})},300)}onSelectedSpecies(t){this.speciesSelected=t,this.data.species=t.species_id,this.slides.lockSwipes(!1)}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(l.J),u.Y36(p.k),u.Y36(r.SH),u.Y36(d.sK))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-company-quick-start"]],viewQuery:function(t,e){if(1&t&&u.Gf(Nt,5),2&t){let t;u.iGM(t=u.CRH())&&(e.slides=t.first)}},decls:246,vars:165,consts:[["slot","start"],["text","","defaultHref","tabs/management"],["slides",""],[1,"w-100","ion-padding"],["color","primary",3,"click",4,"ngFor","ngForOf"],[1,"ion-padding"],["shape","round",3,"disabled","click"],[1,"guide"],[1,"header"],["name","bulb-outline"],[1,"containter"],["name","return-down-forward-outline"],["name","chevron-forward-outline"],[1,"tip"],["color","medium","shape","round","fill","outline",3,"click"],["slot","start","name","checkmark-circle-outline",4,"ngIf"],["color","primary","shape","round","fill","outline",3,"click"],["shape","round","fill","clear",3,"click"],["slot","start","name","arrow-back"],["shape","round",3,"click"],["type","text",3,"ngModel","ngModelChange"],[4,"ngIf"],["class","ion-padding",4,"ngIf"],["color","primary",3,"click"],["name","checkmark-circle-outline",4,"ngIf"],["name","checkmark-circle-outline"],["slot","start","name","checkmark-circle-outline"],["color","primary",3,"value"]],template:function(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u._UZ(3,"ion-back-button",1),u.qZA(),u.TgZ(4,"ion-title"),u._uU(5),u.ALo(6,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"ion-content"),u.TgZ(8,"ion-slides",null,2),u.TgZ(10,"ion-slide"),u.TgZ(11,"div",3),u.TgZ(12,"h1"),u._uU(13),u.ALo(14,"translate"),u.qZA(),u.TgZ(15,"div"),u.YNc(16,Ct,4,2,"ion-chip",4),u.TgZ(17,"div",5),u.TgZ(18,"ion-button",6),u.NdJ("click",function(){return u.CHM(t),u.MAs(9).slideNext()}),u._uU(19),u.ALo(20,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(21,"ion-slide"),u.TgZ(22,"div",3),u.TgZ(23,"div",7),u.TgZ(24,"div",8),u._UZ(25,"ion-icon",9),u.TgZ(26,"span"),u._uU(27),u.ALo(28,"translate"),u.qZA(),u.qZA(),u.TgZ(29,"div",10),u._UZ(30,"ion-icon",11),u.TgZ(31,"ion-text"),u._uU(32),u.ALo(33,"translate"),u.qZA(),u._UZ(34,"ion-icon",12),u.TgZ(35,"ion-text"),u._uU(36),u.ALo(37,"translate"),u.qZA(),u._UZ(38,"ion-icon",12),u.TgZ(39,"ion-text"),u._uU(40),u.ALo(41,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(42,"h1"),u._uU(43),u.ALo(44,"translate"),u.qZA(),u.TgZ(45,"p",13),u._uU(46),u.ALo(47,"translate"),u.TgZ(48,"b"),u._uU(49),u.qZA(),u._uU(50),u.ALo(51,"translate"),u.qZA(),u.TgZ(52,"div"),u.TgZ(53,"div"),u.TgZ(54,"ion-button",14),u.NdJ("click",function(){return e.data.storeDefault=!1}),u.YNc(55,vt,1,0,"ion-icon",15),u._uU(56),u.ALo(57,"translate"),u.qZA(),u.TgZ(58,"ion-button",16),u.NdJ("click",function(){return e.data.storeDefault=!0}),u.YNc(59,Pt,1,0,"ion-icon",15),u._uU(60),u.ALo(61,"translate"),u.qZA(),u.qZA(),u.TgZ(62,"div",5),u.TgZ(63,"ion-button",17),u.NdJ("click",function(){return u.CHM(t),u.MAs(9).slidePrev()}),u._UZ(64,"ion-icon",18),u._uU(65),u.ALo(66,"translate"),u.qZA(),u.TgZ(67,"ion-button",19),u.NdJ("click",function(){return u.CHM(t),u.MAs(9).slideNext()}),u._uU(68),u.ALo(69,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(70,"ion-slide"),u.TgZ(71,"div",3),u.TgZ(72,"div",7),u.TgZ(73,"div",8),u._UZ(74,"ion-icon",9),u.TgZ(75,"span"),u._uU(76),u.ALo(77,"translate"),u.qZA(),u.qZA(),u.TgZ(78,"div",10),u._UZ(79,"ion-icon",11),u.TgZ(80,"ion-text"),u._uU(81),u.ALo(82,"translate"),u.qZA(),u._UZ(83,"ion-icon",12),u.TgZ(84,"ion-text"),u._uU(85),u.ALo(86,"translate"),u.qZA(),u._UZ(87,"ion-icon",12),u.TgZ(88,"ion-text"),u._uU(89),u.ALo(90,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(91,"h1"),u._uU(92),u.ALo(93,"translate"),u.qZA(),u.TgZ(94,"p",13),u._uU(95),u.ALo(96,"translate"),u.TgZ(97,"b"),u._uU(98),u.qZA(),u._uU(99),u.ALo(100,"translate"),u.qZA(),u.TgZ(101,"div"),u.TgZ(102,"div"),u.TgZ(103,"ion-button",14),u.NdJ("click",function(){return e.data.procedureDefault=!1}),u.YNc(104,Ut,1,0,"ion-icon",15),u._uU(105),u.ALo(106,"translate"),u.qZA(),u.TgZ(107,"ion-button",16),u.NdJ("click",function(){return e.data.procedureDefault=!0}),u.YNc(108,bt,1,0,"ion-icon",15),u._uU(109),u.ALo(110,"translate"),u.qZA(),u.qZA(),u.TgZ(111,"div",5),u.TgZ(112,"ion-button",17),u.NdJ("click",function(){return u.CHM(t),u.MAs(9).slidePrev()}),u._UZ(113,"ion-icon",18),u._uU(114),u.ALo(115,"translate"),u.qZA(),u.TgZ(116,"ion-button",19),u.NdJ("click",function(){return u.CHM(t),u.MAs(9).slideNext()}),u._uU(117),u.ALo(118,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(119,"ion-slide"),u.TgZ(120,"div",3),u.TgZ(121,"div",7),u.TgZ(122,"div",8),u._UZ(123,"ion-icon",9),u.TgZ(124,"span"),u._uU(125),u.ALo(126,"translate"),u.qZA(),u.qZA(),u.TgZ(127,"div",10),u._UZ(128,"ion-icon",11),u.TgZ(129,"ion-text"),u._uU(130),u.ALo(131,"translate"),u.qZA(),u._UZ(132,"ion-icon",12),u.TgZ(133,"ion-text"),u._uU(134),u.ALo(135,"translate"),u.qZA(),u._UZ(136,"ion-icon",12),u.TgZ(137,"ion-text"),u._uU(138),u.ALo(139,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(140,"h1"),u._uU(141),u.ALo(142,"translate"),u.qZA(),u.TgZ(143,"ion-item"),u.TgZ(144,"ion-input",20),u.NdJ("ngModelChange",function(t){return e.data.farmName=t}),u.qZA(),u.qZA(),u.TgZ(145,"div"),u.TgZ(146,"div",5),u.TgZ(147,"ion-button",17),u.NdJ("click",function(){return u.CHM(t),u.MAs(9).slidePrev()}),u._UZ(148,"ion-icon",18),u._uU(149),u.ALo(150,"translate"),u.qZA(),u.TgZ(151,"ion-button",19),u.NdJ("click",function(){return u.CHM(t),u.MAs(9).slideNext()}),u._uU(152),u.ALo(153,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(154,"ion-slide"),u.TgZ(155,"div",3),u.TgZ(156,"div",7),u.TgZ(157,"div",8),u._UZ(158,"ion-icon",9),u.TgZ(159,"span"),u._uU(160),u.ALo(161,"translate"),u.qZA(),u.qZA(),u.TgZ(162,"div",10),u._UZ(163,"ion-icon",11),u.TgZ(164,"ion-text"),u._uU(165),u.ALo(166,"translate"),u.qZA(),u._UZ(167,"ion-icon",12),u.TgZ(168,"ion-text"),u._uU(169),u.ALo(170,"translate"),u.qZA(),u._UZ(171,"ion-icon",12),u.TgZ(172,"ion-text"),u._uU(173),u.ALo(174,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(175,"h1"),u._uU(176),u.ALo(177,"translate"),u.qZA(),u.TgZ(178,"ion-item"),u.TgZ(179,"ion-input",20),u.NdJ("ngModelChange",function(t){return e.data.pondName=t}),u.qZA(),u.qZA(),u.TgZ(180,"div"),u.TgZ(181,"div",5),u.TgZ(182,"ion-button",17),u.NdJ("click",function(){return u.CHM(t),u.MAs(9).slidePrev()}),u._UZ(183,"ion-icon",18),u._uU(184),u.ALo(185,"translate"),u.qZA(),u.TgZ(186,"ion-button",19),u.NdJ("click",function(){return u.CHM(t),u.MAs(9).slideNext()}),u._uU(187),u.ALo(188,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(189,St,40,31,"ion-slide",21),u.TgZ(190,"ion-slide"),u.TgZ(191,"div",3),u.TgZ(192,"h1"),u._uU(193),u.ALo(194,"translate"),u.qZA(),u.TgZ(195,"p",13),u._uU(196),u.ALo(197,"translate"),u.qZA(),u.TgZ(198,"ion-item"),u.TgZ(199,"ion-label"),u.TgZ(200,"h3"),u._uU(201),u.ALo(202,"translate"),u.qZA(),u.TgZ(203,"p"),u._uU(204),u.qZA(),u.qZA(),u.qZA(),u.TgZ(205,"ion-item"),u.TgZ(206,"ion-label"),u.TgZ(207,"h3"),u._uU(208),u.ALo(209,"translate"),u.qZA(),u.TgZ(210,"p"),u.YNc(211,Dt,3,3,"span",21),u._uU(212,", "),u.YNc(213,Et,5,4,"span",21),u.qZA(),u.YNc(214,wt,3,3,"p",21),u.qZA(),u.qZA(),u.TgZ(215,"ion-item"),u.TgZ(216,"ion-label"),u.TgZ(217,"h3"),u._uU(218),u.ALo(219,"translate"),u.qZA(),u.YNc(220,Lt,3,3,"p",21),u.YNc(221,It,3,3,"p",21),u.qZA(),u.qZA(),u.TgZ(222,"ion-item"),u.TgZ(223,"ion-label"),u.TgZ(224,"h3"),u._uU(225),u.ALo(226,"translate"),u.qZA(),u.TgZ(227,"p"),u._uU(228),u.qZA(),u.qZA(),u.qZA(),u.TgZ(229,"ion-item"),u.TgZ(230,"ion-label"),u.TgZ(231,"h3"),u._uU(232),u.ALo(233,"translate"),u.qZA(),u.TgZ(234,"p"),u._uU(235),u.qZA(),u.qZA(),u.qZA(),u.TgZ(236,"div"),u.YNc(237,kt,2,1,"div",22),u.TgZ(238,"div",5),u.TgZ(239,"ion-button",17),u.NdJ("click",function(){return u.CHM(t),u.MAs(9).slidePrev()}),u._UZ(240,"ion-icon",18),u._uU(241),u.ALo(242,"translate"),u.qZA(),u.TgZ(243,"ion-button",6),u.NdJ("click",function(){return e.onFirstSettup()}),u._uU(244),u.ALo(245,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}2&t&&(u.xp6(5),u.Oqu(u.lcZ(6,69,"COMPANY_MOD.QUICK_START")),u.xp6(8),u.Oqu(u.lcZ(14,71,"COMPANY_MOD.RAISE")),u.xp6(3),u.Q6J("ngForOf",e.listSpecies),u.xp6(2),u.Q6J("disabled",!e.speciesSelected),u.xp6(1),u.hij("",u.lcZ(20,73,"NEXT")," "),u.xp6(8),u.hij("",u.lcZ(28,75,"COMPANY_MOD.ADD_PRODUCT"),":"),u.xp6(5),u.Oqu(u.lcZ(33,77,"COMPANY_MOD.FARM")),u.xp6(4),u.Oqu(u.lcZ(37,79,"COMPANY_MOD.WAREHOUSE")),u.xp6(4),u.Oqu(u.lcZ(41,81,"COMPANY_MOD.MENU")),u.xp6(3),u.Oqu(u.lcZ(44,83,"COMPANY_MOD.CONFIRM_ADD_PRODUCT")),u.xp6(3),u.hij("",u.lcZ(47,85,"COMPANY_MOD.SOME_PRODUCT")," "),u.xp6(3),u.Oqu(null==e.speciesSelected?null:e.speciesSelected.name),u.xp6(1),u.hij(" ",u.lcZ(51,87,"COMPANY_MOD.WILL_ADD"),""),u.xp6(5),u.Q6J("ngIf",0==e.data.storeDefault),u.xp6(1),u.hij(" ",u.lcZ(57,89,"COMPANY_MOD.NO")," "),u.xp6(3),u.Q6J("ngIf",1==e.data.storeDefault),u.xp6(1),u.hij(" ",u.lcZ(61,91,"COMPANY_MOD.YES")," "),u.xp6(5),u.hij("",u.lcZ(66,93,"BACK")," "),u.xp6(3),u.Oqu(u.lcZ(69,95,"NEXT")),u.xp6(8),u.hij("",u.lcZ(77,97,"COMPANY_MOD.MANAGER_PROCEDURE"),":"),u.xp6(5),u.Oqu(u.lcZ(82,99,"COMPANY_MOD.TITLE")),u.xp6(4),u.Oqu(u.lcZ(86,101,"COMPANY_MOD.SETTING")),u.xp6(4),u.Oqu(u.lcZ(90,103,"COMPANY_MOD.PROCEDURE")),u.xp6(3),u.Oqu(u.lcZ(93,105,"COMPANY_MOD.ADD_PROCEDURE")),u.xp6(3),u.hij("",u.lcZ(96,107,"COMPANY_MOD.SOME_PROCEDURE")," "),u.xp6(3),u.Oqu(null==e.speciesSelected?null:e.speciesSelected.name),u.xp6(1),u.hij(" ",u.lcZ(100,109,"COMPANY_MOD.WILL_ADD_PROCEDURE"),""),u.xp6(5),u.Q6J("ngIf",0==e.data.procedureDefault),u.xp6(1),u.hij(" ",u.lcZ(106,111,"COMPANY_MOD.NO")," "),u.xp6(3),u.Q6J("ngIf",1==e.data.procedureDefault),u.xp6(1),u.hij(" ",u.lcZ(110,113,"COMPANY_MOD.YES")," "),u.xp6(5),u.hij("",u.lcZ(115,115,"BACK")," "),u.xp6(3),u.Oqu(u.lcZ(118,117,"NEXT")),u.xp6(8),u.hij("",u.lcZ(126,119,"COMPANY_MOD.EDIT_FARM"),":"),u.xp6(5),u.Oqu(u.lcZ(131,121,"COMPANY_MOD.FARM")),u.xp6(4),u.Oqu(u.lcZ(135,123,"COMPANY_MOD.SETTING")),u.xp6(4),u.Oqu(u.lcZ(139,125,"COMPANY_MOD.EDIT")),u.xp6(3),u.Oqu(u.lcZ(142,127,"COMPANY_MOD.FIRST_NAME_FARM")),u.xp6(3),u.Q6J("ngModel",e.data.farmName),u.xp6(5),u.hij("",u.lcZ(150,129,"BACK")," "),u.xp6(3),u.Oqu(u.lcZ(153,131,"NEXT")),u.xp6(8),u.hij("",u.lcZ(161,133,"COMPANY_MOD.EDIT_POND"),":"),u.xp6(5),u.Oqu(u.lcZ(166,135,"COMPANY_MOD.POND")),u.xp6(4),u.Oqu(u.lcZ(170,137,"COMPANY_MOD.SETTING")),u.xp6(4),u.Oqu(u.lcZ(174,139,"COMPANY_MOD.EDIT")),u.xp6(3),u.Oqu(u.lcZ(177,141,"COMPANY_MOD.FIRST_NAME_POND")),u.xp6(3),u.Q6J("ngModel",e.data.pondName),u.xp6(5),u.hij("",u.lcZ(185,143,"BACK")," "),u.xp6(3),u.Oqu(u.lcZ(188,145,"NEXT")),u.xp6(2),u.Q6J("ngIf",e.agency&&0!=e.agency.agency_id),u.xp6(4),u.Oqu(u.lcZ(194,147,"COMPANY_MOD.CONFIRM")),u.xp6(3),u.Oqu(u.lcZ(197,149,"COMPANY_MOD.NOTI_QUICK_ADD")),u.xp6(5),u.Oqu(u.lcZ(202,151,"COMPANY_MOD.MAIN_SPECIES")),u.xp6(3),u.Oqu(null==e.speciesSelected?null:e.speciesSelected.name),u.xp6(4),u.Oqu(u.lcZ(209,153,"COMPANY_MOD.ADD_CATE")),u.xp6(3),u.Q6J("ngIf",e.data.storeDefault),u.xp6(2),u.Q6J("ngIf",e.agency&&0!=e.agency.agency_id),u.xp6(1),u.Q6J("ngIf",!e.data.storeDefault&&!e.data.storeBayer),u.xp6(4),u.Oqu(u.lcZ(219,155,"COMPANY_MOD.PROCEDURE")),u.xp6(2),u.Q6J("ngIf",e.data.procedureDefault),u.xp6(1),u.Q6J("ngIf",!e.data.procedureDefault),u.xp6(4),u.Oqu(u.lcZ(226,157,"COMPANY_MOD.NAME_FARM")),u.xp6(3),u.Oqu(e.data.farmName),u.xp6(4),u.Oqu(u.lcZ(233,159,"COMPANY_MOD.NAME_POND")),u.xp6(3),u.Oqu(e.data.pondName),u.xp6(2),u.Q6J("ngIf",e.saveWaiting.pending),u.xp6(4),u.hij("",u.lcZ(242,161,"BACK")," "),u.xp6(2),u.Q6J("disabled",e.saveWaiting.pending),u.xp6(1),u.hij(" ",u.lcZ(245,163,"CONFIRM"),""))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.W2,r.Hr,r.A$,n.sg,r.YG,r.gu,r.yW,n.O5,r.Ie,r.pK,r.j9,o.JJ,o.On,r.Q$,r.hM,r.X7],pipes:[d.X$],styles:["[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .w-100[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{font-size:.6em;font-style:italic;padding:10px}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .p-info[_ngcontent-%COMP%]{padding:5px 0}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]{position:absolute;top:20px;border-radius:5px;border:1px solid #ffeeba;left:10%;width:80%;color:#856404;background-color:#fff3cd;text-align:left}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:.8em;padding:10px}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:5px}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]   .containter[_ngcontent-%COMP%]{vertical-align:middle;padding:10px}[_nghost-%COMP%]   ion-slides[_ngcontent-%COMP%]   .guide[_ngcontent-%COMP%]   .containter[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.8em;padding:0 3px}"]}),t})();var Ft=i(24023),Jt=i(80559),jt=i(13819);function Qt(t,e){1&t&&(u.TgZ(0,"div",8),u._UZ(1,"ion-spinner",9),u.qZA())}function Gt(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-item",13),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw(2).presentDetail(e)}),u.TgZ(1,"ion-label",14),u.TgZ(2,"ion-text",15),u._uU(3),u.qZA(),u._uU(4),u.TgZ(5,"p"),u._uU(6),u.qZA(),u.qZA(),u.TgZ(7,"span",16),u._uU(8),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit;u.xp6(3),u.hij("",t.manufacturer_name,"-"),u.xp6(1),u.hij("",t.name," "),u.xp6(2),u.Oqu(t.unit),u.xp6(2),u.Oqu(t.packing)}}function Ht(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-item",13),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw(2).presentDetail(e)}),u.TgZ(1,"ion-label",14),u.TgZ(2,"ion-text",15),u._uU(3),u.qZA(),u._uU(4),u.TgZ(5,"p"),u._uU(6),u.qZA(),u.qZA(),u.TgZ(7,"span",16),u._uU(8),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit;u.xp6(3),u.hij("",t.manufacturer_name,"-"),u.xp6(1),u.hij("",t.name," "),u.xp6(2),u.Oqu(t.unit),u.xp6(2),u.Oqu(t.packing)}}function $t(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-item",13),u.NdJ("click",function(){const e=u.CHM(t).$implicit;return u.oxw(2).presentDetail(e)}),u.TgZ(1,"ion-label",14),u.TgZ(2,"ion-text",15),u._uU(3),u.qZA(),u._uU(4),u.TgZ(5,"p"),u._uU(6),u.qZA(),u.qZA(),u.TgZ(7,"span",16),u._uU(8),u.qZA(),u.qZA()}if(2&t){const t=e.$implicit;u.xp6(3),u.hij("",t.manufacturer_name,"-"),u.xp6(1),u.hij("",t.name," "),u.xp6(2),u.Oqu(t.packing),u.xp6(2),u.Oqu(t.packing)}}function Wt(t,e){if(1&t&&(u.TgZ(0,"ion-list",10),u.TgZ(1,"ion-item-group"),u.TgZ(2,"ion-list-header",11),u.TgZ(3,"ion-label"),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.qZA(),u.YNc(6,Gt,9,4,"ion-item",12),u.qZA(),u.TgZ(7,"ion-item-group"),u.TgZ(8,"ion-list-header",11),u.TgZ(9,"ion-label"),u._uU(10),u.ALo(11,"translate"),u.qZA(),u.qZA(),u.YNc(12,Ht,9,4,"ion-item",12),u.qZA(),u.TgZ(13,"ion-item-group"),u.TgZ(14,"ion-list-header",11),u.TgZ(15,"ion-label"),u._uU(16),u.ALo(17,"translate"),u.qZA(),u.qZA(),u.YNc(18,$t,9,4,"ion-item",12),u.qZA(),u.qZA()),2&t){const t=u.oxw();u.xp6(4),u.Oqu(u.lcZ(5,6,"WAREHOUSE_MOD.FEED")),u.xp6(2),u.Q6J("ngForOf",t.findProduct(1)),u.xp6(4),u.Oqu(u.lcZ(11,8,"WAREHOUSE_MOD.FEED_SUPPLEMENT")),u.xp6(2),u.Q6J("ngForOf",t.findProduct(2)),u.xp6(4),u.Oqu(u.lcZ(17,10,"WAREHOUSE_MOD.TREATMENT")),u.xp6(2),u.Q6J("ngForOf",t.findProduct(3))}}function Bt(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"div",17),u.TgZ(1,"ion-card",10),u.TgZ(2,"ion-card-content",18),u.TgZ(3,"p",17),u._uU(4),u.ALo(5,"translate"),u.qZA(),u.TgZ(6,"ion-button",19),u.NdJ("click",function(){return u.CHM(t),u.oxw().presentAddlist()}),u._uU(7),u.ALo(8,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}2&t&&(u.xp6(4),u.Oqu(u.lcZ(5,2,"WAREHOUSE_MOD.NO_PRODUCT")),u.xp6(3),u.hij(" ",u.lcZ(8,4,"WAREHOUSE_MOD.ADD_PRODUCT")," "))}const Kt=[{path:"",children:[{path:"report",component:h},{path:"procedure",component:ft},{path:"category",component:(()=>{class t{constructor(t,e,i,n){this.translate=t,this.companyService=e,this.toastService=i,this.modalController=n,this.products=[],this.loadingFlag=new c.E}ngOnInit(){this.getList()}getList(){this.loadingFlag.setPending(!0),this.companyService.getApi("getItems","&ccode="+this.companyService.ccode,"manager/company-category-api").subscribe(t=>{1==t.status?this.products=t.data:this.toastService.warning(t.error),this.loadingFlag.setResult(!0)},()=>{this.loadingFlag.setResult(!1),this.toastService.danger(this.translate.instant("ERROR_CONNECT"))})}presentAddlist(){return(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:Jt.n,componentProps:{}});return t.onDidDismiss().then(t=>{console.log(t),1==t.data&&this.getList()}),yield t.present()})}presentDetail(t){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:jt.m,componentProps:{item:t,from:"company"}});return e.onDidDismiss().then(t=>{this.getList()}),yield e.present()})}findProductIndexById(t){return this.products.findIndex(e=>e.id==t.id)}doRefresh(t){this.getList(),t.target.complete()}findProduct(t){return this.products.filter(e=>e.group_id==t)}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(d.sK),u.Y36(l.J),u.Y36(p.k),u.Y36(r.IN))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-company-category"]],decls:16,vars:6,consts:[["slot","start"],["text","","defaultHref","tabs/management"],["slot","fixed",3,"ionRefresh"],["class","spiner-loading",4,"ngIf"],["mode","ios",4,"ngIf"],["class","ion-padding",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed",3,"click"],["name","add-outline"],[1,"spiner-loading"],["name","dots"],["mode","ios"],["lines","inset"],["detail","",3,"click",4,"ngFor","ngForOf"],["detail","",3,"click"],[1,"ion-text-wrap"],["color","medium"],["slot","end"],[1,"ion-padding"],[1,"ion-text-center"],["shape","round","color","primary",3,"click"]],template:function(t,e){1&t&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u._UZ(3,"ion-back-button",1),u.qZA(),u.TgZ(4,"ion-title"),u._uU(5),u.ALo(6,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"ion-content"),u.TgZ(8,"ion-refresher",2),u.NdJ("ionRefresh",function(t){return e.doRefresh(t)}),u._UZ(9,"ion-refresher-content"),u.qZA(),u.YNc(10,Qt,2,0,"div",3),u.YNc(11,Wt,19,12,"ion-list",4),u.YNc(12,Bt,9,6,"div",5),u.TgZ(13,"ion-fab",6),u.NdJ("click",function(){return e.presentAddlist()}),u.TgZ(14,"ion-fab-button"),u._UZ(15,"ion-icon",7),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(5),u.Oqu(u.lcZ(6,4,"COMPANY_MOD.MENU")),u.xp6(5),u.Q6J("ngIf",e.loadingFlag.pending),u.xp6(1),u.Q6J("ngIf",e.products.length>0),u.xp6(1),u.Q6J("ngIf",0===e.products.length&&e.loadingFlag.result))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.W2,r.nJ,r.Wo,n.O5,r.IJ,r.W4,r.gu,r.PQ,r.q_,r.Ub,r.yh,r.Q$,n.sg,r.Ie,r.yW,r.PM,r.FN,r.YG],pipes:[d.X$],styles:[""]}),t})()},{path:"package",component:y},{path:"quickstart",component:Rt},{path:"setting",children:[{path:"",component:k},{path:":act",component:k}]},{path:"",component:V}]}];let Xt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Tt.b,tt.d],imports:[[n.ez,o.u5,r.Pc,s.Bz.forChild(Kt),d.aw.forChild(),H.Ns,o.UX,Ft.E]]}),t})()},51937:function(t,e,i){i.d(e,{D:function(){return a}});var n=i(76329),o=i(15189),s=i(88002),r=i(37716);let a=(()=>{class t{constructor(t){this.reqAPIService=t,this.urlApi="/manager/farm-api",this.urlApiAdress="/manager/address-api",this.reload$=new n.BehaviorSubject(0),this.numberOfPonds=0}setCode(t){this.fcode=t}setFarm(t){this.farm=t,this.permission=t.permission}loadPonds(){return this.reqAPIService.get("/manager/farm-api-mobie?fcode="+this.fcode+"&action=get-item-pond").pipe((0,s.U)(t=>t))}listAddress(t){return this.reqAPIService.get(this.urlApiAdress+"?action=listUnit&id="+t)}loadFarm(){return this.reqAPIService.get("/manager/farm-api-info?fcode="+this.fcode).pipe((0,s.U)(t=>(this.setFarm(t.data),t)))}getSeting(){return this.reqAPIService.get("/manager/farm-api-mobie?action=get-farm-setting&fcode="+this.fcode).pipe((0,s.U)(t=>t))}updatePrivate(t){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-farm-setting&fcode="+this.fcode,t).pipe((0,s.U)(t=>t))}removePermission(t,e){return this.reqAPIService.get("/manager/farm-api-mobie?action=remove-manager&fcode="+this.fcode+"&user_id="+t+"&position="+e).pipe((0,s.U)(t=>t))}updateFarm(t){return this.reqAPIService.post("/manager/farm-edit-api-mobie?action=edit&fcode="+this.fcode,t).pipe((0,s.U)(t=>t))}destroyValue(){this.farm=null,this.fcode=null,this.permission=null,this.numberOfPonds=null}getSpecies(){return this.reqAPIService.get("/manager/farm-create-api?action=get-species").pipe((0,s.U)(t=>t))}insertPond(t){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-pond&fcode="+this.fcode,t).pipe((0,s.U)(t=>t))}insertOnePond(t){return this.reqAPIService.post("/manager/farm-api-mobie?action=add-a-pond&fcode="+this.fcode,t).pipe((0,s.U)(t=>t))}loadReport(){return this.reqAPIService.get("/manager/farm-api-report?fcode="+this.fcode)}listStore(){return this.reqAPIService.get("/manager/farm-api-mobie?fcode="+this.fcode+"&action=list-store")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o.$))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);